"use strict";(self.webpackChunkblip_ds=self.webpackChunkblip_ds||[]).push([[7415],{"./dist/esm/bds-rich-text.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{bds_rich_text:()=>RichText});var _index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-611fd21e.js"),_position_element_d853cc63_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/position-element-d853cc63.js");const ptTerms=[{bold:"Negrito",italic:"Itálico",strike:"Tachado",underline:"Sublinhado",link:"Link",code:"Código",align_left:"Alinhar à esquerda",align_center:"Alinhar ao centro",align_right:"Alinhar à direita",unordered_list:"Lista não ordenada",ordered_list:"Lista ordenada",quote:"Citação",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6",clear_formatting:"Limpar formatação",expand:"Expandir"}],esTerms=[{bold:"Negrita",italic:"Cursiva",strike:"Tachado",underline:"Subrayado",link:"Link",code:"Código",align_left:"Alinear a la izquierda",align_center:"Alinear al centro",align_right:"Alinear a la derecha",unordered_list:"Lista desordenada",ordered_list:"Lista ordenada",quote:"Cita",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6",clear_formatting:"Limpiar formato",expand:"Expandir"}],enTerms=[{bold:"Bold",italic:"Italic",strike:"Strikethrough",underline:"Underline",link:"Link",code:"Code",align_left:"Align left",align_center:"Align center",align_right:"Align right",unordered_list:"Unordered list",ordered_list:"Ordered list",quote:"Quote",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",clear_formatting:"Clear formatting",expand:"Expand"}],termTranslate=(lang,string)=>{let translate;switch(lang){case"pt_BR":default:translate=ptTerms.map((term=>term[string]));break;case"es_ES":translate=esTerms.map((term=>term[string]));break;case"en_US":translate=enTerms.map((term=>term[string]))}return translate},RichText=class{constructor(hostRef){(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.bdsRichTextChange=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsRichTextChange",7),this.bdsRichTextInput=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsRichTextInput",7),this.bdsBlur=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsBlur",7),this.bdsFocus=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsFocus",7),this.buttonsListElement=null,this.buttonsEditElements=null,this.editor=null,this.dropDownLink=null,this.refButtonsListElement=el=>{this.buttonsListElement=el},this.refeditorElement=el=>{this.editor=el},this.refDropDownLinkElement=el=>{this.dropDownLink=el},this.refInputSetLink=el=>{this.inputSetLink=el},this.clearToolbar=()=>{this.buttomBoldActive=!1,this.buttomItalicActive=!1,this.buttomStrikeActive=!1,this.buttomUnderlineActive=!1,this.buttomLinkActive=!1,this.buttomCodeActive=!1,this.buttomAlignLeftActive=!1,this.buttomAlignCenterActive=!1,this.buttomAlignRightActive=!1,this.buttomUnorderedListActive=!1,this.buttomOrderedListActive=!1,this.buttomQuoteActive=!1,this.buttomH1Active=!1,this.buttomH2Active=!1,this.buttomH3Active=!1,this.buttomH4Active=!1,this.buttomH5Active=!1,this.buttomH6Active=!1},this.setheaderHeight=()=>{this.buttomAccordionActive=!this.buttomAccordionActive;const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const range=selection.getRangeAt(0);selection.removeAllRanges(),selection.addRange(range)},this.onBlur=()=>{this.el.classList.remove("active"),!1===this.insideComponent&&this.clearToolbar(),this.bdsBlur.emit()},this.onFocus=()=>{this.el.classList.add("active"),this.bdsFocus.emit()},this.onKeydown=event=>{if("Backspace"===event.key){const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const startNode=selection.getRangeAt(0).startContainer;let blockElement=startNode.nodeType===Node.TEXT_NODE?startNode.parentElement:startNode;for(;blockElement&&!blockElement.classList.contains("line")&&blockElement!==this.editor;)blockElement=blockElement.parentElement;blockElement&&"BLOCKQUOTE"===blockElement.tagName&&blockElement.classList.contains("line")&&blockElement.innerText.length<=1&&(event.preventDefault(),blockElement.remove())}0===this.editor.textContent.length&&"Backspace"===event.key&&(event.preventDefault(),this.editor.innerHTML='<p class="line"><br></p>',this.setCursorToEnd()),(event.ctrlKey||event.metaKey)&&"z"===event.key&&(event.preventDefault(),event.stopPropagation())},this.buttomBoldActive=!1,this.buttomItalicActive=!1,this.buttomStrikeActive=!1,this.buttomUnderlineActive=!1,this.buttomCodeActive=!1,this.buttomLinkActive=!1,this.buttomLinkValidDisabled=!0,this.buttomAlignLeftActive=!1,this.buttomAlignCenterActive=!1,this.buttomAlignRightActive=!1,this.buttomUnorderedListActive=!1,this.buttomOrderedListActive=!1,this.buttomQuoteActive=!1,this.buttomH1Active=!1,this.buttomH2Active=!1,this.buttomH3Active=!1,this.buttomH4Active=!1,this.buttomH5Active=!1,this.buttomH6Active=!1,this.buttomAccordionActive=!1,this.headerHeight="32px",this.hasSelectionRange=!1,this.selectedLinesList=null,this.treeElementsEditor=null,this.styleSectorActive=null,this.styleOnHover="teste",this.whenSelectionLink=null,this.linkButtonInput=null,this.insideComponent=!1,this.language="pt_BR",this.weightButton=!0,this.italicButton=!0,this.strikeThroughButton=!0,this.underlineButton=!0,this.linkButton=!0,this.codeButton=!0,this.alignmentButtons=!0,this.listButtons=!0,this.quoteButton=!0,this.headingButtons=!0,this.unstyledButton=!0,this.height=null,this.maxHeight=null,this.positionBar="top",this.dataTest=null}componentDidLoad(){""===this.editor.innerHTML.trim()&&(this.editor.innerHTML='<p class="line"><br></p>'),this.weightButton||this.italicButton||this.strikeThroughButton||this.underlineButton||this.linkButton||this.codeButton||this.alignmentButtons||this.listButtons||this.quoteButton||this.headingButtons||this.unstyledButton?(this.buttonsEditElements=this.buttonsListElement.getElementsByTagName("bds-tooltip"),this.accordionHeader(!1),this.editor.parentElement.style.height="calc(100% - 56px)"):this.editor.parentElement.style.height="100%"}buttomsHeaderChanged(){setTimeout((()=>this.accordionHeader(this.buttomAccordionActive)),500)}buttomAccordionActiveChanged(){this.accordionHeader(this.buttomAccordionActive)}updateToolbarState(){const commonAncestor=window.getSelection().getRangeAt(0).commonAncestorContainer,parentElement=commonAncestor.nodeType===Node.TEXT_NODE?commonAncestor.parentElement:commonAncestor;this.treeElementsEditor=(0,_position_element_d853cc63_js__WEBPACK_IMPORTED_MODULE_1__.e)(parentElement,".editor-uai-design-system")}accordionHeader(value){const allbuttonsEditElementsWidth=40*this.buttonsEditElements.length,buttonsListWidth=this.buttonsListElement.offsetWidth,buttonAccordion=this.el.querySelector("#buttonAccordion");buttonsListWidth<allbuttonsEditElementsWidth?buttonAccordion.classList.add("active"):buttonAccordion.classList.remove("active");const diferrence=buttonsListWidth*this.buttonsEditElements.length/allbuttonsEditElementsWidth,numberOfColumns=Math.ceil(allbuttonsEditElementsWidth/buttonsListWidth),allbuttonsEditElements=Array.from(this.buttonsEditElements);allbuttonsEditElements.slice(0,Math.floor(diferrence)).forEach((element=>{element.classList.add("active")})),value?allbuttonsEditElements.forEach((element=>{element.classList.add("active"),this.editor.parentElement.style.height=`calc(100% - ${32*numberOfColumns+24}px)`})):allbuttonsEditElements.slice(Math.floor(diferrence)).forEach((element=>{element.classList.remove("active"),this.editor.parentElement.style.height="calc(100% - 56px)"}))}treeElementsEditorChanged(value){const tagList=value.map((element=>element?.tagName.toLowerCase())),tagVerifyName=tag=>tagList.includes(tag),getLine=value.find((el=>el?.classList.contains("line")));this.buttomBoldActive=tagVerifyName("b"),this.buttomItalicActive=tagVerifyName("i"),this.buttomStrikeActive=tagVerifyName("strike"),this.buttomUnderlineActive=tagVerifyName("u"),this.buttomLinkActive=tagVerifyName("a"),this.buttomCodeActive=tagVerifyName("code"),this.buttomAlignLeftActive="left"===getLine?.style.textAlign,this.buttomAlignCenterActive="center"===getLine?.style.textAlign,this.buttomAlignRightActive="right"===getLine?.style.textAlign,this.buttomUnorderedListActive="ul"===tagList[0],this.buttomOrderedListActive="ol"===tagList[0],this.buttomQuoteActive=tagVerifyName("blockquote"),this.buttomH1Active=tagVerifyName("h1"),this.buttomH2Active=tagVerifyName("h2"),this.buttomH3Active=tagVerifyName("h3"),this.buttomH4Active=tagVerifyName("h4"),this.buttomH5Active=tagVerifyName("h5"),this.buttomH6Active=tagVerifyName("h6")}onInput(ev){ev.preventDefault(),this.bdsRichTextInput.emit(ev),this.bdsRichTextChange.emit({value:this.editor.innerHTML});const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const currentNode=selection.getRangeAt(0).startContainer;if(currentNode.nodeType===Node.ELEMENT_NODE&&"DIV"===currentNode.tagName){const divElement=currentNode,pElement=document.createElement("p");pElement.classList.add("line"),pElement.innerHTML=divElement.innerHTML,divElement.parentNode.replaceChild(pElement,divElement)}this.editor.querySelectorAll("div").forEach((div=>{const p=document.createElement("p");p.classList.add("line"),p.innerHTML=div.innerHTML,div.replaceWith(p)}))}onFocusEditorBar(ev){ev.target.nextElementSibling.querySelector("bds-button").shadowRoot.querySelector(".focus").focus(),this.buttomAccordionActive=!0}setCursorToEnd(){const range=document.createRange(),sel=window.getSelection();range.selectNodeContents(this.editor),range.collapse(!1),sel.removeAllRanges(),sel.addRange(range)}tagName(tag,tagList){return tagList.map((element=>element?.tagName.toLowerCase())).includes(tag)}wrapSelection(ev,tag,link){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&(detail.preventDefault(),detail.stopPropagation());const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;if(!this.editor.contains(selection.anchorNode))return;const range=selection.getRangeAt(0),commonAncestor=range.commonAncestorContainer,parentElement=commonAncestor.nodeType===Node.TEXT_NODE?commonAncestor.parentElement:commonAncestor,tagList=(0,_position_element_d853cc63_js__WEBPACK_IMPORTED_MODULE_1__.e)(parentElement,".line");let content,collapsedCursor=!1;if(this.tagName(tag,tagList)){const appliedTag=tagList.find((el=>el.tagName.toLowerCase()===tag));if(appliedTag){const parent=appliedTag.parentElement,isFullSelection=range.toString().trim()===appliedTag.textContent.trim(),isAtEndOfTag=range.endOffset===appliedTag.textContent.length;if(isFullSelection&&parent){for(;appliedTag.firstChild;)parent.insertBefore(appliedTag.firstChild,appliedTag);parent.removeChild(appliedTag),selection.removeAllRanges(),selection.addRange(range),this.updateToolbarState()}else if(isAtEndOfTag){content=document.createDocumentFragment();const placeholder=document.createTextNode("​");content.appendChild(placeholder),collapsedCursor=!0;const newRange=document.createRange();newRange.setStartAfter(appliedTag),newRange.setEndAfter(appliedTag),newRange.insertNode(content),selection.removeAllRanges(),selection.addRange(newRange),this.updateToolbarState()}else selection.removeAllRanges(),selection.addRange(range),this.updateToolbarState()}return}if(range.collapsed){content=document.createDocumentFragment();const placeholder=document.createTextNode("​");content.appendChild(placeholder),collapsedCursor=!0}else content=range.extractContents();content.querySelectorAll("*").forEach((element=>{for(;element.firstChild;)element.parentNode.insertBefore(element.firstChild,element);element.remove()}));const wrapper=document.createElement(tag);"a"===tag&&link&&wrapper.setAttribute("href",link),wrapper.appendChild(content),range.insertNode(wrapper),this.editor.querySelectorAll("*").forEach((el=>{el.textContent.trim()||0!==el.children.length||el.remove()}));const newRange=document.createRange();collapsedCursor?(newRange.setStart(wrapper,0),newRange.setEnd(wrapper,1)):(newRange.setStartBefore(wrapper.firstChild||wrapper),newRange.setEndAfter(wrapper.lastChild||wrapper)),selection.removeAllRanges(),selection.addRange(newRange),this.updateToolbarState(),this.bdsRichTextChange.emit({value:this.editor.innerHTML})}wrapSelectionLine(tag,enableLinesReturn=!1){const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;if(!this.editor.contains(selection.anchorNode))return;const range=selection.getRangeAt(0),startNode=range.startContainer,endNode=range.endContainer,selectedLines=new Set;let currentNode=startNode.parentElement;for(;currentNode&&currentNode!==endNode.parentElement;){let element=currentNode.nodeType===Node.TEXT_NODE?currentNode.parentElement:currentNode;element&&element.classList.contains("line")&&selectedLines.add(element),currentNode=currentNode.nextSibling||currentNode.parentElement?.nextSibling}let endElement=endNode.nodeType===Node.TEXT_NODE?endNode.parentElement:endNode;for(;endElement&&!endElement.classList.contains("line")&&endElement!==this.editor;)endElement=endElement.parentElement;endElement&&endElement.classList.contains("line")&&selectedLines.add(endElement);const allAreSameTag=[...selectedLines].every((line=>"li"!==tag&&line.tagName.toLowerCase()===tag)),returnSelected=[...selectedLines].map((el=>{const newElement=document.createElement(allAreSameTag?"p":tag);return newElement.classList.add("line"),newElement.innerHTML=el.innerHTML,el.replaceWith(newElement),newElement}));enableLinesReturn&&(this.selectedLinesList=returnSelected.map((element=>({element}))));const newRange=document.createRange();let lastNode=returnSelected[0].lastChild;for(lastNode||(lastNode=document.createTextNode(""),returnSelected[0].appendChild(lastNode));lastNode&&lastNode.nodeType!==Node.TEXT_NODE;)lastNode=lastNode.lastChild||lastNode;newRange.setStart(lastNode,lastNode.textContent?.length||0),newRange.setEnd(lastNode,lastNode.textContent?.length||0),selection.removeAllRanges(),selection.addRange(newRange),this.updateToolbarState(),this.bdsRichTextChange.emit({value:this.editor.innerHTML})}alignText(ev,alignment){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&(detail.preventDefault(),detail.stopPropagation());const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const range=selection.getRangeAt(0);let blockElement=range.startContainer;for(;blockElement&&blockElement!==this.editor&&(blockElement.nodeType!==Node.ELEMENT_NODE||!blockElement.classList.contains("line"));)blockElement=blockElement.parentElement;if(blockElement&&blockElement!==this.editor){const currentAlignment=blockElement.style.textAlign;blockElement.style.textAlign=currentAlignment===alignment?"":alignment}selection.removeAllRanges(),selection.addRange(range),this.updateToolbarState(),this.bdsRichTextChange.emit({value:this.editor.innerHTML})}createHeading(ev,type){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&(detail.preventDefault(),detail.stopPropagation());const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;if(!this.editor.contains(selection.anchorNode))return;this.wrapSelectionLine(type,!0);const firstItemList=this.selectedLinesList[0]?.element,firstParent=firstItemList.parentElement.previousElementSibling,lastParent=firstItemList.parentElement.nextElementSibling,parent=firstItemList.parentElement;"ul"===parent.tagName.toLowerCase()&&(this.selectedLinesList.forEach((item=>{firstParent?firstParent.insertAdjacentElement("afterend",item.element):lastParent?lastParent.insertAdjacentElement("beforebegin",item.element):this.editor.insertAdjacentElement("afterbegin",item.element)})),0==Array.from(parent.getElementsByTagName("li")).length&&parent.remove())}createList(ev,type){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&(detail.preventDefault(),detail.stopPropagation());const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;if(!this.editor.contains(selection.anchorNode))return;this.wrapSelectionLine("li",!0);const firstItemList=this.selectedLinesList[0].element,lastItemList=this.selectedLinesList[this.selectedLinesList.length-1]?.element,wrapper=document.createElement(type),parent=firstItemList.parentElement;if(this.verifyList(firstItemList,lastItemList)){const parentListElements=parent.getElementsByTagName("li");Array.from(parentListElements).map((element=>({element}))).length==this.selectedLinesList.length?type!==parent.tagName.toLowerCase()?(wrapper.innerHTML=parent.innerHTML,parent.parentNode.replaceChild(wrapper,parent)):(this.selectedLinesList.forEach((item=>{const tagList="li"===parent.parentElement.tagName.toLowerCase()?"li":"p",newElement=document.createElement(tagList);newElement.classList.add("line"),newElement.innerHTML=item.element.innerHTML,"li"===parent.parentElement.tagName.toLowerCase()?parent.parentElement.insertAdjacentElement("afterend",newElement):parent.previousElementSibling.insertAdjacentElement("afterend",newElement),parent.removeChild(item.element)})),parent.remove()):(firstItemList.previousElementSibling.insertAdjacentElement("beforeend",wrapper),this.selectedLinesList.forEach((item=>{wrapper.appendChild(item.element)})))}else parent.insertBefore(wrapper,firstItemList),this.selectedLinesList.forEach((item=>{wrapper.appendChild(item.element)}))}addSelectionLink(ev){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&this.dropDownLink.setOpen(),this.editor.focus();const selection=window.getSelection();this.whenSelectionLink=selection.getRangeAt(0);this.inputSetLink.shadowRoot.querySelector(".input__container__text").focus()}addLinkInput(ev){ev.preventDefault();const input=ev.target;this.linkButtonInput=input.value,this.linkButtonInput.length>0?this.buttomLinkValidDisabled=!1:this.buttomLinkValidDisabled=!0}createLinkKeyDown(ev){"Enter"==ev.key&&this.createLink(ev)}createLink(ev){ev.preventDefault();const selection=window.getSelection();selection.removeAllRanges(),selection.addRange(this.whenSelectionLink),this.wrapSelection(ev,"a",this.linkButtonInput),this.dropDownLink&&this.dropDownLink.setClose()}verifyList(firstItem,lastItem){const firstItemValue="ul"===firstItem.parentElement.tagName.toLowerCase()||"ol"===firstItem.parentElement.tagName.toLowerCase(),lastItemValue="ul"===lastItem.parentElement.tagName.toLowerCase()||"ol"===lastItem.parentElement.tagName.toLowerCase();return firstItemValue&&lastItemValue}handlePaste(event){event.preventDefault(),event.stopPropagation();const plainText=(event.clipboardData||window.clipboardData).getData("text/plain"),selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const range=selection.getRangeAt(0),commonAncestor=range.commonAncestorContainer,parentElement=commonAncestor.nodeType===Node.TEXT_NODE?commonAncestor.parentElement:commonAncestor;parentElement.classList.contains("line")&&parentElement.remove(),range.deleteContents();const fragment=document.createDocumentFragment();plainText.split("\n").forEach((line=>{if(line.trim()){const p=document.createElement("p");p.classList.add("line"),p.textContent=line.trim(),fragment.appendChild(p)}})),range.insertNode(fragment),selection.removeAllRanges(),selection.addRange(range)}clearFormatting(ev){const detail=ev.detail;detail instanceof KeyboardEvent&&"Enter"===detail.key&&(detail.preventDefault(),detail.stopPropagation());const selection=window.getSelection();if(!selection||0===selection.rangeCount)return;const range=selection.getRangeAt(0),startNode=range.startContainer,endNode=range.endContainer,selectedLines=new Set;let currentNode=startNode.parentElement;for(;currentNode&&currentNode!==endNode.parentElement;){let element=currentNode.nodeType===Node.TEXT_NODE?currentNode.parentElement:currentNode;element&&element.classList.contains("line")&&selectedLines.add(element),currentNode=currentNode.nextSibling||currentNode.parentElement?.nextSibling}let endElement=endNode.nodeType===Node.TEXT_NODE?endNode.parentElement:endNode;for(;endElement&&!endElement.classList.contains("line")&&endElement!==this.editor;)endElement=endElement.parentElement;endElement&&endElement.classList.contains("line")&&selectedLines.add(endElement),selectedLines.forEach((line=>{line.innerHTML=line.textContent,line.style.textAlign=""})),this.wrapSelectionLine("p",!0),selection.removeAllRanges(),selection.addRange(range)}render(){return(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.H,{class:{"rich-text":!0,[`rich-text-${this.positionBar}`]:!0},style:{height:this.height,maxHeight:this.maxHeight},tabindex:"0",onMouseEnter:()=>this.insideComponent=!0,onMouseLeave:()=>this.insideComponent=!1},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"preview"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{"data-test":this.dataTest,ref:el=>this.refeditorElement(el),contentEditable:"true",class:"editor-uai-design-system",tabindex:"0",onBlur:this.onBlur,onFocus:this.onFocus,onMouseUp:()=>this.updateToolbarState(),onKeyUp:()=>this.updateToolbarState(),onKeyDown:ev=>this.onKeydown(ev),onInput:ev=>this.onInput(ev),onPaste:this.handlePaste.bind(this)})),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{class:{"format-buttons":!0,"format-buttons-active":this.weightButton||this.italicButton||this.strikeThroughButton||this.underlineButton||this.linkButton||this.codeButton||this.alignmentButtons||this.listButtons||this.quoteButton||this.headingButtons||this.unstyledButton}},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"accordion-header"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{ref:el=>this.refButtonsListElement(el),class:"buttons-list","flex-wrap":"wrap"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{onFocus:ev=>this.onFocusEditorBar(ev),tabindex:"1",class:"editor-bar"}),this.weightButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"bold")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomBoldActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"b"),"icon-left":"text-style-bold","aria-label":`${termTranslate(this.language,"bold")}`})),this.italicButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"italic")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomItalicActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"i"),"icon-left":"text-style-italic","aria-label":`${termTranslate(this.language,"italic")}`})),this.strikeThroughButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"strike")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomStrikeActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"strike"),"icon-left":"text-style-strikethrough","aria-label":`${termTranslate(this.language,"strike")}`})),this.underlineButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"underline")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomUnderlineActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"u"),"icon-left":"text-style-underline","aria-label":`${termTranslate(this.language,"underline")}`})),this.linkButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"link")}`,position:"top-center"},this.buttomLinkActive?(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:"solid",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"a"),"icon-left":"link","aria-label":`${termTranslate(this.language,"link")}`}):(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-dropdown",{ref:el=>this.refDropDownLinkElement(el),activeMode:"click",position:"bottom-left"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{slot:"dropdown-activator"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{slot:"dropdown-activator",variant:"text",color:"content",size:"short",onBdsClick:ev=>this.addSelectionLink(ev),"icon-left":"link","aria-label":`${termTranslate(this.language,"link")}`})),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{padding:"half",alignItems:"center",gap:"half",slot:"dropdown-content"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-input",{ref:this.refInputSetLink,onBdsInput:ev=>this.addLinkInput(ev),style:{flexShrink:"99999"},placeholder:"adcione o link aqui",onKeyDown:ev=>this.createLinkKeyDown(ev),tabindex:this.dropDownLink?.open?"1":"-1"}),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{disabled:this.buttomLinkValidDisabled,"icon-left":"check",onBdsClick:ev=>this.createLink(ev),tabindex:this.dropDownLink?.open?"1":"-1","aria-label":`${termTranslate(this.language,"link")}`})))),this.codeButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"code")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomCodeActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.wrapSelection(ev,"code"),"icon-left":"code","aria-label":`${termTranslate(this.language,"code")}`})),this.alignmentButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"align_left")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomAlignLeftActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.alignText(ev,"left"),"icon-left":"align-left","aria-label":`${termTranslate(this.language,"align_left")}`})),this.alignmentButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"align_center")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomAlignCenterActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.alignText(ev,"center"),"icon-left":"align-center","aria-label":`${termTranslate(this.language,"align_center")}`})),this.alignmentButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"align_right")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomAlignRightActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.alignText(ev,"right"),"icon-left":"align-right","aria-label":`${termTranslate(this.language,"align_right")}`})),this.listButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"unordered_list")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomUnorderedListActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createList(ev,"ul"),"icon-left":"unordered-list","aria-label":`${termTranslate(this.language,"unordered_list")}`})),this.listButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"ordered_list")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomOrderedListActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createList(ev,"ol"),"icon-left":"ordered-list","aria-label":`${termTranslate(this.language,"ordered_list")}`})),this.quoteButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"quote")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomQuoteActive?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"blockquote"),"icon-left":"quote","aria-label":`${termTranslate(this.language,"quote")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h1")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH1Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h1"),"icon-left":"h-1","aria-label":`${termTranslate(this.language,"h1")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h2")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH2Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h2"),"icon-left":"h-2","aria-label":`${termTranslate(this.language,"h2")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h3")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH3Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h3"),"icon-left":"h-3","aria-label":`${termTranslate(this.language,"h3")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h4")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH4Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h4"),"icon-left":"h-4","aria-label":`${termTranslate(this.language,"h4")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h5")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH5Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h5"),"icon-left":"h-5","aria-label":`${termTranslate(this.language,"h5")}`})),this.headingButtons&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"h6")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:this.buttomH6Active?"solid":"text",color:"content",size:"short",onBdsClick:ev=>this.createHeading(ev,"h6"),"icon-left":"h-6","aria-label":`${termTranslate(this.language,"h6")}`})),this.unstyledButton&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-tooltip",{"tooltip-text":`${termTranslate(this.language,"clear_formatting")}`,position:"top-center"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{variant:"text",color:"content",size:"short",onBdsClick:ev=>this.clearFormatting(ev),"icon-left":"unstyled","aria-label":`${termTranslate(this.language,"clear_formatting")}`}))),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button",{id:"buttonAccordion",variant:this.buttomAccordionActive?"solid":"text",class:"arrow-down",color:"content",size:"short",onBdsClick:()=>this.setheaderHeight(),"icon-left":"top"==this.positionBar?this.buttomAccordionActive?"arrow-up":"arrow-down":this.buttomAccordionActive?"arrow-down":"arrow-up"}))))}get el(){return(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{weightButton:["buttomsHeaderChanged"],italicButton:["buttomsHeaderChanged"],strikeThroughButton:["buttomsHeaderChanged"],underlineButton:["buttomsHeaderChanged"],linkButton:["buttomsHeaderChanged"],codeButton:["buttomsHeaderChanged"],alignmentButtons:["buttomsHeaderChanged"],listButtons:["buttomsHeaderChanged"],quoteButton:["buttomsHeaderChanged"],headingButtons:["buttomsHeaderChanged"],unstyledButton:["buttomsHeaderChanged"],buttomAccordionActive:["buttomAccordionActiveChanged"],treeElementsEditor:["treeElementsEditorChanged"]}}};RichText.style='.rich-text{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:8px;gap:8px;border:1px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-radius:16px;background-color:var(--color-surface-1, #f6f6f6)}.rich-text-top .format-buttons{-ms-flex-order:1;order:1}.rich-text-top .preview{-ms-flex-order:2;order:2}.rich-text-bottom .format-buttons{-ms-flex-order:2;order:2}.rich-text-bottom .preview{-ms-flex-order:1;order:1}.rich-text.active{border-color:var(--color-primary, #1e6bf1);-webkit-box-shadow:0 0 0 2px var(--color-info, #80e3eb);box-shadow:0 0 0 2px var(--color-info, #80e3eb)}.rich-text .format-buttons{display:none !important}.rich-text .format-buttons-active{display:-ms-flexbox !important;display:flex !important;position:relative;background-color:var(--color-surface-0, white);border:1px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-radius:16px;padding:8px}.rich-text .format-buttons .style-onhover{position:absolute;background-color:var(--color-surface-1, #f6f6f6);border-radius:32px;bottom:-32px;right:0;opacity:0;-webkit-transition:opacity ease-in-out 0.5s;-moz-transition:opacity ease-in-out 0.5s;transition:opacity ease-in-out 0.5s;pointer-events:none}.rich-text .format-buttons .style-onhover.active{opacity:1}.rich-text .format-buttons .accordion-header{width:100%;position:relative;padding-right:40px}.rich-text .format-buttons .accordion-header .buttons-list{-webkit-column-gap:8px;-moz-column-gap:8px;column-gap:8px}.rich-text .format-buttons .accordion-header .buttons-list .editor-bar{width:0;margin-right:-8px}.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip{-webkit-transition:height ease-in-out 0.25s;-moz-transition:height ease-in-out 0.25s;transition:height ease-in-out 0.25s;height:0px}.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip>bds-button,.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip>bds-dropdown>div[slot=dropdown-activator]>bds-button{height:0;opacity:0;display:block;overflow:hidden;-webkit-transition:height ease-in-out 0.25s, opacity 0.5s ease-in-out 0.25s;-moz-transition:height ease-in-out 0.25s, opacity 0.5s ease-in-out 0.25s;transition:height ease-in-out 0.25s, opacity 0.5s ease-in-out 0.25s}.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip.active{height:32px}.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip.active>bds-button,.rich-text .format-buttons .accordion-header .buttons-list bds-tooltip.active>bds-dropdown>div[slot=dropdown-activator]>bds-button{overflow:inherit;height:32px;opacity:1}.rich-text .format-buttons .accordion-header .arrow-down{position:absolute;right:0;top:0;display:none}.rich-text .format-buttons .accordion-header .arrow-down.active{display:block}.rich-text .preview{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:8px;-webkit-transition:height ease-in-out 0.25s;-moz-transition:height ease-in-out 0.25s;transition:height ease-in-out 0.25s}.rich-text .preview .editor-uai-design-system{min-height:48px;height:100%;background-color:transparent;font-size:1rem;line-height:1.5;overflow-y:auto;outline:none;font-family:"Nunito Sans", "Carbona", "Tahoma", "Helvetica", "Arial", sans-serif;font-style:normal;font-weight:normal;color:var(--color-content-default, #282828)}.rich-text .preview .editor-uai-design-system::-webkit-scrollbar{width:16px;background-color:var(--color-shadow-0, rgba(0, 0, 0, 0.04));border-radius:10px}.rich-text .preview .editor-uai-design-system::-webkit-scrollbar-thumb{border-radius:10px;border:4px solid transparent;border-radius:10px;background-clip:content-box;background-color:var(--color-border-1, rgba(0, 0, 0, 0.2))}.rich-text .preview .editor-uai-design-system p,.rich-text .preview .editor-uai-design-system h1,.rich-text .preview .editor-uai-design-system h2,.rich-text .preview .editor-uai-design-system h3,.rich-text .preview .editor-uai-design-system h4,.rich-text .preview .editor-uai-design-system h5,.rich-text .preview .editor-uai-design-system h6,.rich-text .preview .editor-uai-design-system ul,.rich-text .preview .editor-uai-design-system ol,.rich-text .preview .editor-uai-design-system blockquote{margin:0 0 8px 0}.rich-text .preview .editor-uai-design-system h1{font-size:32px;font-weight:600}.rich-text .preview .editor-uai-design-system h2{font-size:28px;font-weight:600}.rich-text .preview .editor-uai-design-system h3{font-size:24px;font-weight:600}.rich-text .preview .editor-uai-design-system h4{font-size:20px;font-weight:600}.rich-text .preview .editor-uai-design-system h5{font-size:16px;font-weight:600}.rich-text .preview .editor-uai-design-system h6{font-size:12px;font-weight:600}.rich-text .preview .editor-uai-design-system a{text-decoration:none;color:var(--color-primary, #1e6bf1)}.rich-text .preview .editor-uai-design-system blockquote{padding:4px 16px 4px 32px;font-size:14px;position:relative;display:inline-block}.rich-text .preview .editor-uai-design-system blockquote::before,.rich-text .preview .editor-uai-design-system blockquote::after{content:\'"\';position:absolute;font-size:24px;color:var(--color-content-ghost, #8c8c8c)}.rich-text .preview .editor-uai-design-system blockquote::before{left:8px;top:-6px}.rich-text .preview .editor-uai-design-system blockquote::after{right:0px;bottom:0px}.rich-text .preview .editor-uai-design-system code{font-family:monospace;font-size:12px;background-color:var(--color-surface-2, #ededed);padding:4px;border-radius:4px}'},"./dist/esm/position-element-d853cc63.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>getHighestItem,b:()=>gapChanged,c:()=>getItems,d:()=>positionElement,e:()=>getParentsUntil,g:()=>getScrollParent,p:()=>positionAbsoluteElement});const getScrollParent=node=>null===node?null:node.classList.contains("element_scrolled")||"BODY"===node?.tagName?node:getScrollParent(node.offsetParent);function getParentsUntil(element,stopSelector){const parents=[element];for(;element&&!element.matches(stopSelector);)element=element.parentElement,parents.push(element);return parents}function positionElement({actionElement,changedElement,intoView}){const body=intoView||document.body,parentElement=body.offsetParent,contentScrolled=!!body.classList.contains("element_scrolled"),positionTop=contentScrolled?actionElement.offsetTop-body.scrollTop+parentElement.offsetTop:actionElement.offsetTop-window.scrollY,positionLeft=contentScrolled?actionElement.offsetLeft+parentElement.offsetLeft:actionElement.offsetLeft,changedpositionTop=changedElement?.offsetHeight>window.innerHeight-positionTop?positionTop-changedElement?.offsetHeight-16:positionTop+actionElement?.offsetHeight+16,changedpositionLeft=changedElement?.offsetWidth>window.innerWidth-positionLeft?positionLeft+actionElement?.offsetWidth-changedElement?.offsetWidth:positionLeft,limitedHeightScreen=window.innerHeight-changedElement?.offsetHeight,limitedWidthScreen=window.innerWidth-changedElement?.offsetWidth;return{top:changedpositionTop<8?8:changedpositionTop>limitedHeightScreen?limitedHeightScreen-8:changedpositionTop,left:changedpositionLeft<0?0:changedpositionLeft>limitedWidthScreen?limitedWidthScreen:changedpositionLeft}}function positionAbsoluteElement({actionElement,changedElement,intoView}){const body=intoView||document.body,numberHeignt=body.offsetHeight<changedElement.offsetHeight?window.screen.height:body.offsetHeight,numberWidth=body.offsetWidth<changedElement.offsetWidth?window.screen.width:body.offsetWidth,heightTop=numberHeignt-actionElement.offsetTop,widthLeft=numberWidth-actionElement.offsetLeft;return{y:heightTop<changedElement.offsetHeight+actionElement.offsetHeight?"top":"bottom",x:widthLeft<changedElement.offsetWidth?"right":"left"}}const getItems=itenslenght=>{const items=[];let item=1;for(;item<=itenslenght;){const newItem={id:item,label:`Frame - ${item}`};items.push(newItem),item++}return items},getHighestItem=items=>{var maxoffsetHeight=Math.max.apply(null,items.map((a=>a.offsetHeight)));return items.filter((a=>a.offsetHeight==maxoffsetHeight)).map((a=>a.offsetHeight))},gapChanged=gap=>{let spaceGap;switch(gap){case"none":default:spaceGap=0;break;case"half":spaceGap=4;break;case"1":spaceGap=8;break;case"2":spaceGap=16;break;case"3":spaceGap=24;break;case"4":spaceGap=32;break;case"5":spaceGap=40;break;case"6":spaceGap=48;break;case"7":spaceGap=56;break;case"8":spaceGap=64;break;case"9":spaceGap=72;break;case"10":spaceGap=80;break;case"11":spaceGap=88;break;case"12":spaceGap=96}return spaceGap}}}]);