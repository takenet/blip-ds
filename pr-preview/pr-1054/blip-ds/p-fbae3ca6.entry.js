import{r as i,c as t,h as s,g as e}from"./p-93b809e8.js";import{a as o,b as h,c as l}from"./p-1c737f0a.js";const a=class{constructor(s){i(this,s),this.bdsChangeCarousel=t(this,"bdsChangeCarousel",7),this.itemsElement=null,this.bulletElement=null,this.bulletElements=[],this.setInternalItens=i=>{const t=Math.floor(i.length/this.slidePerPage),s=l(i.length/this.slidePerPage);this.internalItens=s,this.isWhole=i.length-this.slidePerPage*t},this.startCountSeconds=()=>{this.autoplay&&(this.incrementSeconds=setInterval((()=>{this.seconds+=.1}),100))},this.updateHeight=i=>{const t=i[this.itemActivated*this.slidePerPage-this.slidePerPage];let s=240;if(this.slidePerPage>1){const t=i.slice(this.isWhole>0&&this.itemActivated==this.internalItens.length?this.internalItens.length-this.internalItens.length-this.slidePerPage:this.itemActivated*this.slidePerPage-this.slidePerPage,this.itemActivated*this.slidePerPage);s=o(t)[0]}else s=t.offsetHeight;this.frame.style.height=`${s}px`},this.refFrame=i=>{this.frame=i},this.refThemeProviderArrows=i=>{this.themeProviderArrows=i},this.refFrameRepeater=i=>{this.frameRepeater=i},this.refBulletElement=i=>{i&&(this.bulletElement=i,this.bulletElements.push(i))},this.onMouseOver=()=>{this.autoplayHoverPause&&this.pauseAutoplay()},this.onMouseOut=()=>{this.autoplayHoverPause&&this.runAutoplay()},this.onMouseDown=i=>{if(this.grab){this.framePressed=!0;const t=this.frame.offsetLeft+this.element.offsetLeft;this.startX=i.pageX-t,this.endX=i.pageX-t,this.frame.style.cursor="grabbing"}},this.onMouseEnter=()=>{this.grab&&(this.frame.style.cursor="grab")},this.onMouseUp=()=>{this.grab&&(this.framePressed=!1,this.frame.style.cursor="grab",this.boundItems(),this.autoplayHoverPause&&this.pauseAutoplay())},this.onMouseMove=i=>{if(this.grab){if(!this.framePressed)return;i.preventDefault(),this.endX=i.pageX-(this.frame.offsetLeft+this.element.offsetLeft)}},this.boundItems=()=>{this.endX<this.startX?(this.nextSlide(),this.seconds=0):this.endX>this.startX&&(this.prevSlide(),this.seconds=0)},this.setKeydownNavigation=i=>{"Tab"===i.key&&(this.bulletElements.length>0?this.bulletElements[0].focus():this.bulletElement&&this.bulletElement.focus()),"ArrowRight"===i.key&&this.nextSlide(),"ArrowLeft"===i.key&&this.prevSlide()},this.itemActivated=1,this.seconds=0,this.internalItens=void 0,this.isWhole=0,this.heightCarousel=240,this.framePressed=!1,this.startX=void 0,this.endX=void 0,this.autoplayState="running",this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoHeight=!1,this.bullets="outside",this.bulletsPosition="center",this.infiniteLoop=!1,this.arrows="outside",this.slidePerPage=1,this.gap="none",this.grab=!0,this.loading=!1,this.dtSlideContent=null,this.dtButtonPrev=null,this.dtButtonNext=null,this.secondsLimit=this.autoplayTimeout/1e3}componentWillLoad(){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item"),this.setInternalItens(Array.from(this.itemsElement)),1==this.bullets&&(this.bullets="outside"),0==this.bullets&&(this.bullets="none")}componentDidRender(){if(!this.loading){"none"!=this.gap&&(this.frame.style.width=`calc(100% + ${h(this.gap)}px)`,this.frame.style.marginLeft=`-${h(this.gap)/2}px`);for(let i=0;i<this.itemsElement.length;i++)this.itemsElement[i].style.width=(this.frame.offsetWidth>=1920?1920:this.frame.offsetWidth)/this.slidePerPage+"px",this.itemsElement[i].style.padding=`0 ${h(this.gap)/2}px`;this.autoHeight&&this.updateHeight(Array.from(this.itemsElement))}"inside"==this.arrows&&(this.themeProviderArrows.theme=this.slidePerPage<=1?this.itemsElement[this.itemActivated-1].theme:this.itemsElement[Math.round(this.itemsElement.length/this.internalItens.length*(this.itemActivated-1)+1)].theme)}componentDidLoad(){this.startCountSeconds()}itemActivatedChanged(){const i=this.internalItens.find((i=>i.id===this.itemActivated)),t=this.frame?this.frame.offsetWidth*(this.itemActivated-1):0;this.frameRepeater&&(this.frameRepeater.style.right=i.isWhole?t-this.itemsElement[1].offsetWidth*(this.slidePerPage-this.isWhole)+"px":`${t}px`),this.bdsChangeCarousel.emit({value:i})}autoplayTimeoutChanged(){this.secondsLimit=this.autoplayTimeout/1e3}secondsChanged(){this.seconds>=this.secondsLimit&&(this.nextSlide(),this.seconds=0)}isWholeChanged(){null!=this.internalItens&&this.isWhole>0&&(this.internalItens=[...this.internalItens,{id:this.internalItens?.length+1,label:`Frame - ${this.internalItens?.length+1}`,isWhole:!0}])}async buildCarousel(){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item"),this.loading=!0,setTimeout((()=>(this.setInternalItens(Array.from(this.itemsElement)),this.loading=!1,this.setActivated(1))),1e3)}async nextSlide(){this.itemActivated=this.itemActivated==this.internalItens.length?this.infiniteLoop||this.autoplay?1:this.itemActivated:this.itemActivated+1,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds()}async prevSlide(){this.itemActivated=1==this.itemActivated?this.infiniteLoop||this.autoplay?this.internalItens.length:this.itemActivated:this.itemActivated-1,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds()}async setActivated(i){this.itemActivated=i,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds(),this.autoplayState="running"}async pauseAutoplay(){clearInterval(this.incrementSeconds),this.autoplayState="paused"}async runAutoplay(){this.startCountSeconds(),this.autoplayState="running"}render(){this.bulletElements=[];const i="inside"==this.arrows?"bds-theme-provider":"div",t="center"==this.bulletsPosition?"center":"right"==this.bulletsPosition?"flex-end":"left"==this.bulletsPosition&&"flex-start";return s("div",{class:{carousel:!0}},s("div",{class:{carousel_slide:!0,carousel_slide_fullwidth:"outside"!=this.arrows,[`carousel_slide_state_${this.autoplayState}`]:this.autoplay},tabindex:"0",onKeyDown:i=>this.setKeydownNavigation(i),"data-test":this.dtSlideContent},s("div",{ref:i=>this.refFrame(i),class:{carousel_slide_frame:!0,carousel_slide_frame_loading:this.loading},onMouseOver:()=>this.onMouseOver(),onMouseOut:()=>this.onMouseOut(),onMouseDown:i=>this.onMouseDown(i),onMouseEnter:()=>this.onMouseEnter(),onMouseUp:()=>this.onMouseUp(),onMouseMove:i=>this.onMouseMove(i)},s("div",{ref:i=>this.refFrameRepeater(i),class:{carousel_slide_frame_repeater:!0}},s("slot",null))),s("bds-grid",{class:{carousel_slide_loading:!0,carousel_slide_loading_visible:this.loading}},s("bds-skeleton",{height:"100%",shape:"square",width:"100%"})),"none"!=this.arrows&&!this.loading&&s(i,{ref:i=>this.refThemeProviderArrows(i),class:{carousel_buttons:!0,carousel_buttons_fullwidth:"outside"!=this.arrows}},s("bds-button",{variant:"text",iconLeft:"arrow-left",color:"content",onBdsClick:()=>this.prevSlide(),disabled:!this.infiniteLoop&&this.itemActivated<=1,dataTest:this.dtButtonPrev}),s("bds-button",{variant:"text",iconLeft:"arrow-right",color:"content",onBdsClick:()=>this.nextSlide(),disabled:!this.infiniteLoop&&this.itemActivated>=this.internalItens.length,dataTest:this.dtButtonNext}))),this.internalItens.length>1&&"none"!=this.bullets&&s("div",{class:{carousel_bullets:!0,carousel_bullets_inside:"inside"==this.bullets}},this.loading&&"inside"!=this.bullets?s("bds-grid",{xxs:"12",gap:"1","justify-content":t,padding:"outside"===this.arrows?"x-7":"none"},s("bds-skeleton",{height:"16px",width:"16px",shape:"circle"}),s("bds-skeleton",{height:"16px",width:"16px",shape:"circle"}),s("bds-skeleton",{height:"16px",width:"16px",shape:"circle"})):this.internalItens&&s("bds-grid",{xxs:"12","justify-content":t,padding:"outside"===this.arrows?"x-7":"none"},s("div",{class:{carousel_bullets_card:!0,carousel_bullets_card_inside:"inside"==this.bullets}},this.internalItens.map(((i,t)=>s("div",{key:t,ref:i=>this.refBulletElement(i),class:{carousel_bullets_item:!0,carousel_bullets_item_active:i.id==this.itemActivated},tabindex:"0",onClick:()=>this.setActivated(i.id)},i.id<this.itemActivated&&this.autoplay&&s("div",{class:{carousel_bullets_item_conclude:!0}}),i.id==this.itemActivated&&this.autoplay&&s("div",{class:{carousel_bullets_item_loader:!0},style:{animationDuration:this.autoplayTimeout/1e3-.1+"s",animationPlayState:this.autoplayState}}))))))),s("slot",{name:"after"}))}get element(){return e(this)}static get watchers(){return{itemActivated:["itemActivatedChanged"],autoplayTimeout:["autoplayTimeoutChanged"],seconds:["secondsChanged"],isWhole:["isWholeChanged"]}}};a.style=':host{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative}.carousel{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;max-width:1920px;position:relative}.carousel_slide{width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 48px}.carousel_slide::after{content:"";position:absolute;inset:-8px;border:2px solid transparent;border-radius:4px;pointer-events:none}.carousel_slide:focus-visible{outline:none}.carousel_slide:focus-visible::after{border-color:var(--color-focus, #c226fb)}.carousel_slide_fullwidth{padding:0}.carousel_slide_frame{width:100%;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-transition:height ease-in-out 0.5s;-moz-transition:height ease-in-out 0.5s;transition:height ease-in-out 0.5s}.carousel_slide_frame_loading{opacity:0;pointer-events:none}.carousel_slide_frame *{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none}.carousel_slide_frame *[slot=loop]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_frame_repeater{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_loading{opacity:0;pointer-events:none;position:absolute;inset:0}.carousel_slide_loading_visible{opacity:1;pointer-events:all}.carousel_loading_bar{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 60px;margin-top:8px}.carousel_loading_bar_fullwidth{padding:0 4px}.carousel_buttons{position:absolute;width:100%;height:0px;top:calc(50% - 20px);left:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box}.carousel_buttons_fullwidth{padding:0 8px}.carousel_bullets{position:relative;margin-top:8px}.carousel_bullets_inside{position:absolute;bottom:0px;width:100%;margin:0;padding:0px 16px;-webkit-box-sizing:border-box;box-sizing:border-box}.carousel_bullets_card{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:-ms-inline-flexbox;display:inline-flex;gap:8px}.carousel_bullets_card_inside{border-top-left-radius:8px;border-top-right-radius:8px;padding:8px;background-color:var(--color-surface-0, white)}.carousel_bullets_item{width:16px;height:16px;border:2px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-radius:50%;position:relative;-webkit-transform:rotate(45deg);transform:rotate(45deg);cursor:pointer}.carousel_bullets_item::before{content:"";position:absolute;inset:4px;border-radius:50%}.carousel_bullets_item::after{content:"";position:absolute;inset:-8px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border:2px solid transparent;border-radius:4px}.carousel_bullets_item:focus-visible{outline:none}.carousel_bullets_item:focus-visible::after{border-color:var(--color-focus, #c226fb)}.carousel_bullets_item_active::before{background-color:var(--color-primary, #1e6bf1)}.carousel_bullets_item_conclude{position:absolute;inset:-2px;border-radius:50%;border:2px solid var(--color-content-disable, #595959)}.carousel_bullets_item_loader{position:absolute;inset:-2px;border-radius:50%;border:2px solid var(--color-primary, #1e6bf1);-webkit-animation:l18 linear;animation:l18 linear}@-webkit-keyframes l18{0%{-webkit-clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0);clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0)}25%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0)}50%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%)}75%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%)}100%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0)}}@keyframes l18{0%{-webkit-clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0);clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0)}25%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0)}50%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%)}75%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%)}100%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0)}}';export{a as bds_carousel}