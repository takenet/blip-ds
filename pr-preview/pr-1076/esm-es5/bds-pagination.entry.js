var __spreadArray=this&&this.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var s=0,a=e.length,n;s<a;s++){if(n||!(s in e)){if(!n)n=Array.prototype.slice.call(e,0,s);n[s]=e[s]}}return t.concat(n||Array.prototype.slice.call(e))};import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-611fd21e.js";import{g as getScrollParent}from"./position-element-d853cc63.js";var en_US={itemsPerPage:"Items per page",of:"of",items:"items",pages:"pages"};var pt_BR={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var es_MX={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var paginationCss=":host{display:block}:host .actions_select{width:74px}:host(.full_width){width:100%}@media screen and (max-width: 905px){.items_per_page{display:none}.actions{width:100%;-ms-flex-pack:center;justify-content:center}}@media screen and (max-width: 600px){.actions--text{display:none}}";var Pagination=function(){function t(t){var e=this;registerInstance(this,t);this.bdsPaginationChange=createEvent(this,"bdsPaginationChange",7);this.bdsItemsPerPageChange=createEvent(this,"bdsItemsPerPageChange",7);this.nextPage=function(t){var i=e.value;if(i<e.pages){t.preventDefault();e.value=e.value+1;e.updateItemRange()}};this.previewPage=function(t){var i=e.value;if(i>1){t.preventDefault();e.value=e.value-1;e.updateItemRange()}};this.firstPage=function(t){var i=e.value;if(i>1){t.preventDefault();e.value=e.paginationNumbers[0];e.updateItemRange()}};this.lastPage=function(t){var i=e.value;if(i<e.pages){t.preventDefault();e.value=e.pages;e.updateItemRange()}};this.openOptions=function(){e.openSelect=!e.openSelect};this.onBlur=function(){e.openSelect=false};this.value=this.startedPage;this.itemValue=undefined;this.openSelect=undefined;this.paginationNumbers=[];this.visiblePageOptions=[];this.itemsPerPage=undefined;this.intoView=null;this.pages=undefined;this.startedPage=undefined;this.optionsPosition="auto";this.pageCounter=false;this.itemsPage=undefined;this.numberItems=undefined;this.language="pt_BR";this.dtButtonInitial=null;this.dtButtonPrev=null;this.dtSelectNumber=null;this.dtButtonNext=null;this.dtButtonEnd=null}t.prototype.componentWillLoad=function(){this.countPage();this.intoView=getScrollParent(this.el);this.processItemsPage();if(this.pageCounter){this.itemValue=this.itemsPage[0]}this.itemSelected(this.itemValue);this.countItem()};t.prototype.pagesChanged=function(){this.countPage()};t.prototype.valueChanged=function(){this.bdsPaginationChange.emit(this.value);this.updateVisiblePageOptions()};t.prototype.processItemsPage=function(){if(typeof this.itemsPage==="string"){try{this.itemsPage=JSON.parse(this.itemsPage.replace(/'/g,'"'))}catch(t){this.itemsPage=[]}}};t.prototype.countItem=function(){if(this.pageCounter){var t=this.numberItems/this.itemValue;this.pages=Math.ceil(t)}};t.prototype.countPage=function(){if(this.paginationNumbers.length!==0){this.paginationNumbers=[]}if(this.paginationNumbers.length===0){for(var t=1;t<=this.pages;t++){this.paginationNumbers.push(t)}if(this.startedPage&&this.startedPage<this.pages){this.value=this.startedPage}else{this.value=this.paginationNumbers[0]}}this.updateVisiblePageOptions()};t.prototype.updateVisiblePageOptions=function(){if(!this.pages||this.pages<=0){this.visiblePageOptions=[];return}var t=50;var e=this.value||1;if(this.pages<=t){this.visiblePageOptions=__spreadArray([],this.paginationNumbers,true);return}var i=new Set;i.add(1);i.add(this.pages);var s=5;var a=Math.max(1,e-s);var n=Math.min(this.pages,e+s);for(var o=a;o<=n;o++){i.add(o)}if(this.pages>20){for(var o=2;o<=Math.min(5,this.pages-1);o++){i.add(o)}for(var o=Math.max(this.pages-4,2);o<this.pages;o++){i.add(o)}var r=Math.floor(this.pages/4);var h=Math.floor(this.pages/2);var u=Math.floor(this.pages*3/4);if(r>1&&r<this.pages){i.add(r)}if(h>1&&h<this.pages){i.add(h)}if(u>1&&u<this.pages){i.add(u)}}this.visiblePageOptions=Array.from(i).sort((function(t,e){return t-e})).slice(0,t)};t.prototype.optionSelected=function(t){this.value=t;this.openOptions();this.updateItemRange()};t.prototype.navigateToPage=function(t){var e=Math.max(1,Math.min(t,this.pages));if(e!==this.value){this.value=e;this.updateItemRange()}};t.prototype.itemSelected=function(t){this.itemValue=t;this.itemsPerPage=t;this.openOptions();this.countItem();this.updateItemRange();this.bdsItemsPerPageChange.emit(this.itemsPerPage)};t.prototype.updateItemRange=function(){this.startItem=(this.value-1)*this.itemsPerPage+1;this.endItem=Math.min(this.value*this.itemsPerPage,this.numberItems)};Object.defineProperty(t.prototype,"currentLanguage",{get:function(){switch(this.language){case"en_US":return en_US;case"es_MX":return es_MX;default:return pt_BR}},enumerable:false,configurable:true});t.prototype.render=function(){var t=this;var e;var i=this.currentLanguage;return h(Host,{class:{full_width:this.pageCounter}},h("bds-grid",{"justify-content":"space-between"},this.itemsPerPage&&this.itemsPage&&h("bds-grid",{gap:"1","align-items":"center",class:"items_per_page"},h("bds-typo",{variant:"fs-14"},i.itemsPerPage,":"),h("bds-select",{class:"actions_select",value:this.itemValue,"options-position":this.optionsPosition},(e=this.itemsPage)===null||e===void 0?void 0:e.map((function(e,i){return h("bds-select-option",{key:i,value:e,onClick:function(){return t.itemSelected(e)}},e)}))),h("bds-typo",{variant:"fs-14","no-wrap":"true"},this.startItem,"-",this.endItem," ",i.of," ",this.numberItems)),h("bds-grid",{gap:"1","align-items":"center",class:"actions"},h("bds-button-icon",{onBdsClick:function(e){return t.firstPage(e)},size:"short",variant:"secondary",icon:"arrow-first",dataTest:this.dtButtonInitial}),h("bds-button-icon",{onBdsClick:function(e){return t.previewPage(e)},size:"short",variant:"secondary",icon:"arrow-left",dataTest:this.dtButtonPrev}),h("bds-select",{class:"actions_select",value:this.value,"options-position":this.optionsPosition},this.visiblePageOptions.map((function(e,i){return h("bds-select-option",{key:i,value:e,onClick:function(){return t.optionSelected(e)}},e)}))),this.pageCounter&&h("bds-typo",{class:"actions--text",variant:"fs-14","no-wrap":"true"},i.of," ",this.pages," ",i.pages),h("bds-button-icon",{onBdsClick:function(e){return t.nextPage(e)},size:"short",variant:"secondary",icon:"arrow-right",dataTest:this.dtButtonNext}),h("bds-button-icon",{onBdsClick:function(e){return t.lastPage(e)},size:"short",variant:"secondary",icon:"arrow-last",dataTest:this.dtButtonEnd}))))};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{pages:["pagesChanged"],startedPage:["pagesChanged"],value:["valueChanged"],itemValue:["itemSelected"]}},enumerable:false,configurable:true});return t}();Pagination.style=paginationCss;export{Pagination as bds_pagination};