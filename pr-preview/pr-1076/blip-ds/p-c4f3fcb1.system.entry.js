var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var s=0,a=t.length,n;s<a;s++){if(n||!(s in t)){if(!n)n=Array.prototype.slice.call(t,0,s);n[s]=t[s]}}return e.concat(n||Array.prototype.slice.call(t))};System.register(["./p-d105fb25.system.js","./p-e82e855f.system.js"],(function(e){"use strict";var t,i,s,a,n,o;return{setters:[function(e){t=e.r;i=e.c;s=e.h;a=e.H;n=e.g},function(e){o=e.g}],execute:function(){var r={itemsPerPage:"Items per page",of:"of",items:"items",pages:"pages"};var l={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var u={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var p=":host{display:block}:host .actions_select{width:74px}:host(.full_width){width:100%}@media screen and (max-width: 905px){.items_per_page{display:none}.actions{width:100%;-ms-flex-pack:center;justify-content:center}}@media screen and (max-width: 600px){.actions--text{display:none}}";var h=100;var g=e("bds_pagination",function(){function e(e){var s=this;t(this,e);this.bdsPaginationChange=i(this,"bdsPaginationChange",7);this.bdsItemsPerPageChange=i(this,"bdsItemsPerPageChange",7);this.nextPage=function(e){var t=s.value;if(t<s.pages){e.preventDefault();s.value=s.value+1;s.updateVisiblePageOptions();s.updateItemRange()}};this.previewPage=function(e){var t=s.value;if(t>1){e.preventDefault();s.value=s.value-1;s.updateVisiblePageOptions();s.updateItemRange()}};this.firstPage=function(e){var t=s.value;if(t>1){e.preventDefault();s.value=s.paginationNumbers[0];s.updateVisiblePageOptions();s.updateItemRange()}};this.lastPage=function(e){var t=s.value;if(t<s.pages){e.preventDefault();s.value=s.pages;if(s.pages>h){s.isReversePaginationMode=true;s.loadedPagesCount=h}s.updateVisiblePageOptions();s.updateItemRange()}};this.openOptions=function(){s.openSelect=!s.openSelect};this.onBlur=function(){s.openSelect=false};this.onSelectScroll=function(e){var t=e.target;var i=50;if(s.isReversePaginationMode){if(t.scrollTop<=i){s.loadPreviousPages()}}else{if(t.scrollTop+t.clientHeight>=t.scrollHeight-i){s.loadMorePages()}}};this.value=this.startedPage;this.itemValue=undefined;this.openSelect=undefined;this.paginationNumbers=[];this.visiblePageOptions=[];this.loadedPagesCount=h;this.isReversePaginationMode=false;this.itemsPerPage=undefined;this.intoView=null;this.pages=undefined;this.startedPage=undefined;this.optionsPosition="auto";this.pageCounter=false;this.itemsPage=undefined;this.numberItems=undefined;this.language="pt_BR";this.dtButtonInitial=null;this.dtButtonPrev=null;this.dtSelectNumber=null;this.dtButtonNext=null;this.dtButtonEnd=null}e.prototype.componentWillLoad=function(){this.countPage();this.intoView=o(this.el);this.processItemsPage();if(this.pageCounter){this.itemValue=this.itemsPage[0]}this.itemSelected(this.itemValue);this.countItem()};e.prototype.componentDidLoad=function(){this.setupSelectScrollListener()};e.prototype.componentDidUpdate=function(){this.setupSelectScrollListener()};e.prototype.setupSelectScrollListener=function(){var e;if(this.selectElement){this.removeSelectScrollListener();var t=(e=this.selectElement.shadowRoot)===null||e===void 0?void 0:e.querySelector(".select__options");if(t){t.addEventListener("scroll",this.onSelectScroll)}}};e.prototype.removeSelectScrollListener=function(){var e;if(this.selectElement){var t=(e=this.selectElement.shadowRoot)===null||e===void 0?void 0:e.querySelector(".select__options");if(t){t.removeEventListener("scroll",this.onSelectScroll)}}};e.prototype.disconnectedCallback=function(){this.removeSelectScrollListener()};e.prototype.pagesChanged=function(){this.loadedPagesCount=h;this.isReversePaginationMode=false;this.countPage()};e.prototype.valueChanged=function(){this.bdsPaginationChange.emit(this.value);this.updateVisiblePageOptions()};e.prototype.processItemsPage=function(){if(typeof this.itemsPage==="string"){try{this.itemsPage=JSON.parse(this.itemsPage.replace(/'/g,'"'))}catch(e){this.itemsPage=[]}}};e.prototype.countItem=function(){if(this.pageCounter){var e=this.numberItems/this.itemValue;this.pages=Math.ceil(e)}};e.prototype.countPage=function(){if(this.paginationNumbers.length!==0){this.paginationNumbers=[]}if(this.paginationNumbers.length===0){for(var e=1;e<=this.pages;e++){this.paginationNumbers.push(e)}if(this.startedPage&&this.startedPage<this.pages){this.value=this.startedPage}else{this.value=this.paginationNumbers[0]}}this.updateVisiblePageOptions()};e.prototype.updateVisiblePageOptions=function(){if(!this.pages||this.pages<=0){this.visiblePageOptions=[];return}if(this.pages<=h){this.visiblePageOptions=__spreadArray([],this.paginationNumbers,true);this.isReversePaginationMode=false;return}var e=this.value||1;var t=e>this.pages-50;if(t){this.isReversePaginationMode=true;this.updateVisiblePageOptionsReverse()}else{if(e>this.loadedPagesCount){this.loadedPagesCount=Math.max(this.loadedPagesCount,e)}this.isReversePaginationMode=false;this.updateVisiblePageOptionsNormal()}};e.prototype.updateVisiblePageOptionsNormal=function(){var e=Math.min(this.loadedPagesCount,this.pages);this.visiblePageOptions=[];for(var t=1;t<=e;t++){this.visiblePageOptions.push(t)}};e.prototype.updateVisiblePageOptionsReverse=function(){var e=Math.min(this.loadedPagesCount,this.pages);var t=Math.max(1,this.pages-e+1);this.visiblePageOptions=[];for(var i=t;i<=this.pages;i++){this.visiblePageOptions.push(i)}};e.prototype.optionSelected=function(e){this.value=e;this.openOptions();this.updateItemRange()};e.prototype.navigateToPage=function(e){var t=Math.max(1,Math.min(e,this.pages));if(t!==this.value){this.value=t;this.updateVisiblePageOptions();this.updateItemRange()}};e.prototype.loadMorePages=function(){if(!this.isReversePaginationMode&&this.loadedPagesCount<this.pages){var e=Math.min(this.pages,this.loadedPagesCount+h);if(e>this.loadedPagesCount){this.loadedPagesCount=e;this.updateVisiblePageOptions()}}};e.prototype.loadPreviousPages=function(){if(this.isReversePaginationMode&&this.loadedPagesCount<this.pages){var e=Math.min(this.pages,this.loadedPagesCount+h);if(e>this.loadedPagesCount){this.loadedPagesCount=e;this.updateVisiblePageOptions()}}};e.prototype.itemSelected=function(e){this.itemValue=e;this.itemsPerPage=e;this.openOptions();this.countItem();this.updateItemRange();this.bdsItemsPerPageChange.emit(this.itemsPerPage)};e.prototype.updateItemRange=function(){this.startItem=(this.value-1)*this.itemsPerPage+1;this.endItem=Math.min(this.value*this.itemsPerPage,this.numberItems)};Object.defineProperty(e.prototype,"currentLanguage",{get:function(){switch(this.language){case"en_US":return r;case"es_MX":return u;default:return l}},enumerable:false,configurable:true});e.prototype.render=function(){var e=this;var t;var i=this.currentLanguage;return s(a,{class:{full_width:this.pageCounter}},s("bds-grid",{"justify-content":"space-between"},this.itemsPerPage&&this.itemsPage&&s("bds-grid",{gap:"1","align-items":"center",class:"items_per_page"},s("bds-typo",{variant:"fs-14"},i.itemsPerPage,":"),s("bds-select",{class:"actions_select",value:this.itemValue,"options-position":this.optionsPosition},(t=this.itemsPage)===null||t===void 0?void 0:t.map((function(t,i){return s("bds-select-option",{key:i,value:t,onClick:function(){return e.itemSelected(t)}},t)}))),s("bds-typo",{variant:"fs-14","no-wrap":"true"},this.startItem,"-",this.endItem," ",i.of," ",this.numberItems)),s("bds-grid",{gap:"1","align-items":"center",class:"actions"},s("bds-button-icon",{onBdsClick:function(t){return e.firstPage(t)},size:"short",variant:"secondary",icon:"arrow-first",dataTest:this.dtButtonInitial}),s("bds-button-icon",{onBdsClick:function(t){return e.previewPage(t)},size:"short",variant:"secondary",icon:"arrow-left",dataTest:this.dtButtonPrev}),s("bds-select",{ref:function(t){return e.selectElement=t},class:"actions_select",value:this.value,"options-position":this.optionsPosition},this.visiblePageOptions.map((function(t,i){return s("bds-select-option",{key:i,value:t,onClick:function(){return e.optionSelected(t)}},t)}))),this.pageCounter&&s("bds-typo",{class:"actions--text",variant:"fs-14","no-wrap":"true"},i.of," ",this.pages," ",i.pages),s("bds-button-icon",{onBdsClick:function(t){return e.nextPage(t)},size:"short",variant:"secondary",icon:"arrow-right",dataTest:this.dtButtonNext}),s("bds-button-icon",{onBdsClick:function(t){return e.lastPage(t)},size:"short",variant:"secondary",icon:"arrow-last",dataTest:this.dtButtonEnd}))))};Object.defineProperty(e.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{pages:["pagesChanged"],startedPage:["pagesChanged"],value:["valueChanged"],itemValue:["itemSelected"]}},enumerable:false,configurable:true});return e}());g.style=p}}}));