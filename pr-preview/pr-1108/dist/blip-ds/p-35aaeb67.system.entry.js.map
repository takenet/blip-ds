{"version":3,"names":["ptTerms","search_placeholder","trigger_placeholder","no_results","start_typing","to_navigate","to_select","for_new_tab","to_close","esTerms","enTerms","termTranslate","lang","string","translate","map","term","searchAnywhereCss","SearchAnywhere","exports","class_1","hostRef","_this","this","isOpen","searchText","selectedIndex","filteredOptions","options","language","showShortcut","maxResults","handleGlobalKeydown","event","ctrlKey","metaKey","key","preventDefault","open","handleModalKeydown","resultsCount","Math","min","length","close","scrollToSelectedOption","option","newTab","selectOption","handleInputChange","target","value","handleTriggerClick","bdsSearchSelect","emit","url","window","location","href","handleResultClick","handleModalClick","currentTarget","prototype","bdsSearchOpen","bdsSearchClose","getIsOpen","getSelectedIndex","getSearchText","componentWillLoad","updateFilteredOptions","componentDidLoad","document","addEventListener","disconnectedCallback","removeEventListener","onOptionsChange","onSearchTextChange","bdsSearchChange","onIsOpenChange","setTimeout","_a","inputElement","focus","selectedElement","resultsContainerElement","querySelector","concat","containerRect","getBoundingClientRect","itemRect","bottom","scrollIntoView","block","behavior","top","parsedOptions","JSON","parse","e","console","error","Array","isArray","trim","collator_1","Intl","Collator","undefined","sensitivity","searchLower_1","toLowerCase","filter","title","description","includes","fuzzyMatch","text","search","collator","i","substring","compare","renderTrigger","placeholderText","triggerPlaceholder","h","class","onClick","icon","placeholder","readonly","dataTest","slot","variant","bold","renderResults","displayOptions","slice","message","index","name","size","renderModal","onKeyDown","ref","el","type","onInput","render","Host"],"sources":["src/components/search-anywhere/languages/pt_BR.tsx","src/components/search-anywhere/languages/es_ES.tsx","src/components/search-anywhere/languages/en_US.tsx","src/components/search-anywhere/languages/index.ts","src/components/search-anywhere/search-anywhere.scss?tag=bds-search-anywhere&encapsulation=shadow","src/components/search-anywhere/search-anywhere.tsx"],"sourcesContent":["export const ptTerms = [\n  {\n    search_placeholder: 'Buscar...',\n    trigger_placeholder: 'Buscar ou pressione Ctrl+K',\n    no_results: 'Nenhum resultado encontrado',\n    start_typing: 'Comece a digitar para buscar...',\n    to_navigate: 'para navegar',\n    to_select: 'para selecionar',\n    for_new_tab: 'para nova aba',\n    to_close: 'para fechar',\n  },\n];\n","export const esTerms = [\n  {\n    search_placeholder: 'Buscar...',\n    trigger_placeholder: 'Buscar o presione Ctrl+K',\n    no_results: 'No se encontraron resultados',\n    start_typing: 'Empiece a escribir para buscar...',\n    to_navigate: 'para navegar',\n    to_select: 'para seleccionar',\n    for_new_tab: 'para nueva pestaña',\n    to_close: 'para cerrar',\n  },\n];\n","export const enTerms = [\n  {\n    search_placeholder: 'Search...',\n    trigger_placeholder: 'Search or press Ctrl+K',\n    no_results: 'No results found',\n    start_typing: 'Start typing to search...',\n    to_navigate: 'to navigate',\n    to_select: 'to select',\n    for_new_tab: 'for new tab',\n    to_close: 'to close',\n  },\n];\n","import { ptTerms } from './pt_BR';\nimport { esTerms } from './es_ES';\nimport { enTerms } from './en_US';\n\nexport type languages = 'pt_BR' | 'es_ES' | 'en_US';\n\nexport const termTranslate = (lang: languages, string: string): string => {\n  let translate;\n  switch (lang) {\n    case 'pt_BR':\n      translate = ptTerms.map((term) => term[string]);\n      break;\n    case 'es_ES':\n      translate = esTerms.map((term) => term[string]);\n      break;\n    case 'en_US':\n      translate = enTerms.map((term) => term[string]);\n      break;\n    default:\n      translate = ptTerms.map((term) => term[string]);\n  }\n  return translate;\n};\n","@use '../../globals/helpers' as *;\n\n:host {\n  display: block;\n  width: 100%;\n}\n\n.search-trigger {\n  width: 100%;\n  cursor: pointer;\n\n  bds-input {\n    cursor: pointer;\n    pointer-events: none;\n\n    ::part(native) {\n      cursor: pointer;\n    }\n  }\n\n  .keyboard-shortcut {\n    display: flex;\n    align-items: center;\n    padding: 0 8px;\n    background-color: $color-surface-2;\n    border-radius: 4px;\n    height: 24px;\n    border: 1px solid $color-border-1;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Modal overlay\n.search-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  padding-top: 10vh;\n  z-index: $zindex-modal-overlay;\n  backdrop-filter: blur(2px);\n}\n\n// Modal container\n.search-modal {\n  background-color: $color-surface-0;\n  border-radius: $border-radius;\n  box-shadow: $shadow-box;\n  width: 90%;\n  max-width: 640px;\n  max-height: 70vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border: 1px solid $color-border-2;\n}\n\n// Header with search input\n.search-modal-header {\n  padding: 16px;\n  border-bottom: 1px solid $color-border-1;\n\n  .search-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    .search-icon {\n      color: $color-content-ghost;\n      flex-shrink: 0;\n    }\n\n    .search-input {\n      flex: 1;\n      border: none;\n      outline: none;\n      background: transparent;\n      font-size: $fs-16;\n      font-family: $font-family;\n      color: $color-content-default;\n      padding: 0;\n\n      &::placeholder {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Results container\n.search-modal-results {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n\n  .search-result-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px 16px;\n    border-radius: $border-radius;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border: 1px solid transparent;\n\n    &:hover {\n      background-color: $color-surface-1;\n    }\n\n    &--selected {\n      background-color: $color-surface-2;\n      border-color: $color-primary;\n    }\n\n    .search-result-icon {\n      flex-shrink: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 32px;\n      height: 32px;\n      border-radius: $border-radius;\n      background-color: $color-surface-1;\n\n      bds-icon {\n        color: $color-content-default;\n      }\n    }\n\n    .search-result-content {\n      flex: 1;\n      min-width: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n\n      .search-result-title {\n        color: $color-content-default;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      .search-result-description {\n        color: $color-content-ghost;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n\n    .search-result-hint {\n      flex-shrink: 0;\n      min-width: 80px;\n      text-align: right;\n\n      .keyboard-hint {\n        color: $color-content-ghost;\n      }\n    }\n  }\n\n  .no-results {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 24px;\n    text-align: center;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Footer with keyboard hints\n.search-modal-footer {\n  padding: 12px 16px;\n  border-top: 1px solid $color-border-1;\n  background-color: $color-surface-1;\n\n  .keyboard-hints {\n    display: flex;\n    gap: 16px;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n\n    .hint {\n      display: flex;\n      align-items: center;\n\n      bds-typo {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Scrollbar styling\n.search-modal-results::-webkit-scrollbar {\n  width: 8px;\n}\n\n.search-modal-results::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb {\n  background: $color-border-2;\n  border-radius: 4px;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb:hover {\n  background: $color-border-3;\n}\n\n// Responsive adjustments\n@media (max-width: 768px) {\n  .search-modal {\n    width: 95%;\n    max-height: 80vh;\n  }\n\n  .search-modal-overlay {\n    padding-top: 5vh;\n  }\n\n  .search-result-hint {\n    display: none;\n  }\n\n  .keyboard-hints {\n    justify-content: center !important;\n  }\n}\n","import {\n  Component,\n  h,\n  Host,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  Watch,\n  Element,\n  Method,\n} from '@stencil/core';\nimport {\n  SearchAnywhereOption,\n  SearchAnywhereChangeEventDetail,\n  SearchAnywhereSelectEventDetail,\n} from './search-anywhere-interface';\nimport { termTranslate, languages } from './languages';\n\n@Component({\n  tag: 'bds-search-anywhere',\n  styleUrl: 'search-anywhere.scss',\n  shadow: true,\n})\nexport class SearchAnywhere {\n  private inputElement?: HTMLInputElement;\n  private resultsContainerElement?: HTMLElement;\n\n  @Element() el!: HTMLElement;\n\n  /**\n   * Controls whether the search modal is open\n   */\n  @State() isOpen: boolean = false;\n\n  /**\n   * Current search text\n   */\n  @State() searchText: string = '';\n\n  /**\n   * Current selected index for keyboard navigation (-1 means no selection)\n   */\n  @State() selectedIndex: number = -1;\n\n  /**\n   * Internal filtered options for display\n   */\n  @State() filteredOptions: SearchAnywhereOption[] = [];\n\n  /**\n   * Options to be displayed in the search results.\n   * Can be passed as JSON string or array of SearchAnywhereOption objects.\n   */\n  @Prop() options?: string | SearchAnywhereOption[] = [];\n\n  /**\n   * Language for UI text translations (pt_BR, en_US, es_ES)\n   */\n  @Prop() language?: languages = 'pt_BR';\n\n  /**\n   * Placeholder text for the search input (when modal is open)\n   * If not provided, uses translated default based on language prop\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Placeholder text for the trigger input (before modal opens)\n   * If not provided, uses translated default based on language prop\n   */\n  @Prop() triggerPlaceholder?: string;\n\n  /**\n   * If true, displays the keyboard shortcut hint on the trigger\n   */\n  @Prop() showShortcut?: boolean = true;\n\n  /**\n   * Maximum number of results to display\n   */\n  @Prop() maxResults?: number = 10;\n\n  /**\n   * Emitted when the search text changes\n   */\n  @Event() bdsSearchChange!: EventEmitter<SearchAnywhereChangeEventDetail>;\n\n  /**\n   * Emitted when an option is selected\n   */\n  @Event() bdsSearchSelect!: EventEmitter<SearchAnywhereSelectEventDetail>;\n\n  /**\n   * Emitted when the modal opens\n   */\n  @Event() bdsSearchOpen!: EventEmitter;\n\n  /**\n   * Emitted when the modal closes\n   */\n  @Event() bdsSearchClose!: EventEmitter;\n\n  /**\n   * Opens the search modal programmatically\n   */\n  @Method()\n  async open() {\n    this.isOpen = true;\n    this.bdsSearchOpen.emit();\n  }\n\n  /**\n   * Closes the search modal programmatically\n   */\n  @Method()\n  async close() {\n    this.isOpen = false;\n    this.searchText = '';\n    this.selectedIndex = -1;\n    this.bdsSearchClose.emit();\n  }\n\n  /**\n   * Gets the current open state (for testing)\n   */\n  @Method()\n  async getIsOpen(): Promise<boolean> {\n    return this.isOpen;\n  }\n\n  /**\n   * Gets the current selected index (for testing)\n   */\n  @Method()\n  async getSelectedIndex(): Promise<number> {\n    return this.selectedIndex;\n  }\n\n  /**\n   * Gets the current search text (for testing)\n   */\n  @Method()\n  async getSearchText(): Promise<string> {\n    return this.searchText;\n  }\n\n  componentWillLoad() {\n    this.updateFilteredOptions();\n  }\n\n  componentDidLoad() {\n    // Listen for Ctrl+K globally\n    document.addEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  @Watch('options')\n  onOptionsChange() {\n    this.updateFilteredOptions();\n  }\n\n  @Watch('searchText')\n  onSearchTextChange() {\n    this.selectedIndex = -1;\n    this.bdsSearchChange.emit({ searchText: this.searchText });\n    this.updateFilteredOptions();\n  }\n\n  @Watch('isOpen')\n  onIsOpenChange() {\n    if (this.isOpen) {\n      // Focus input when modal opens\n      setTimeout(() => {\n        this.inputElement?.focus();\n      }, 100);\n    }\n  }\n\n  private handleGlobalKeydown = (event: KeyboardEvent) => {\n    // Ctrl+K or Cmd+K to open\n    if ((event.ctrlKey || event.metaKey) && event.key === 'k') {\n      event.preventDefault();\n      this.open();\n    }\n  };\n\n  private handleModalKeydown = (event: KeyboardEvent) => {\n    const resultsCount = Math.min(this.filteredOptions.length, this.maxResults);\n\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        this.close();\n        break;\n\n      case 'ArrowDown':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          // If no selection, start at 0, otherwise move to next\n          if (this.selectedIndex === -1) {\n            this.selectedIndex = 0;\n          } else {\n            this.selectedIndex = (this.selectedIndex + 1) % resultsCount;\n          }\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'ArrowUp':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          // If no selection, start at last item, otherwise move to previous\n          if (this.selectedIndex === -1) {\n            this.selectedIndex = resultsCount - 1;\n          } else {\n            this.selectedIndex = (this.selectedIndex - 1 + resultsCount) % resultsCount;\n          }\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'Enter':\n        event.preventDefault();\n        if (resultsCount > 0 && this.selectedIndex >= 0 && this.selectedIndex < resultsCount) {\n          const option = this.filteredOptions[this.selectedIndex];\n          const newTab = event.ctrlKey || event.metaKey;\n          this.selectOption(option, newTab);\n        }\n        break;\n    }\n  };\n\n  private scrollToSelectedOption() {\n    setTimeout(() => {\n      const selectedElement = this.resultsContainerElement?.querySelector(\n        `.search-result-item[data-index=\"${this.selectedIndex}\"]`\n      ) as HTMLElement;\n      \n      if (selectedElement && this.resultsContainerElement) {\n        const containerRect = this.resultsContainerElement.getBoundingClientRect();\n        const itemRect = selectedElement.getBoundingClientRect();\n\n        if (itemRect.bottom > containerRect.bottom) {\n          selectedElement.scrollIntoView({ block: 'end', behavior: 'smooth' });\n        } else if (itemRect.top < containerRect.top) {\n          selectedElement.scrollIntoView({ block: 'start', behavior: 'smooth' });\n        }\n      }\n    }, 0);\n  }\n\n  private updateFilteredOptions() {\n    let parsedOptions: SearchAnywhereOption[] = [];\n\n    if (typeof this.options === 'string') {\n      try {\n        parsedOptions = JSON.parse(this.options);\n      } catch (e) {\n        console.error('Failed to parse options JSON:', e);\n        parsedOptions = [];\n      }\n    } else if (Array.isArray(this.options)) {\n      parsedOptions = this.options;\n    }\n\n    // Filter options based on search text\n    if (this.searchText.trim() === '') {\n      this.filteredOptions = parsedOptions;\n    } else {\n      // Use Intl.Collator for case and accent-insensitive search\n      const collator = new Intl.Collator(undefined, { sensitivity: 'base' });\n      const searchLower = this.searchText.toLowerCase();\n      \n      this.filteredOptions = parsedOptions.filter((option) => {\n        const title = (option.title || '').toLowerCase();\n        const description = (option.description || '').toLowerCase();\n        \n        // Check if search text is contained in title or description\n        // We need to check substring matching, not just equality\n        return title.includes(searchLower) || description.includes(searchLower) ||\n               this.fuzzyMatch(title, searchLower, collator) || \n               this.fuzzyMatch(description, searchLower, collator);\n      });\n    }\n  }\n\n  /**\n   * Performs accent-insensitive substring matching using Intl.Collator\n   */\n  private fuzzyMatch(text: string, search: string, collator: Intl.Collator): boolean {\n    if (!text || !search) return false;\n    \n    // Try to find the search string within the text using accent-insensitive comparison\n    for (let i = 0; i <= text.length - search.length; i++) {\n      const substring = text.substring(i, i + search.length);\n      if (collator.compare(substring, search) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private handleInputChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    this.searchText = target.value;\n  };\n\n  private handleTriggerClick = () => {\n    this.open();\n  };\n\n  private selectOption = (option: SearchAnywhereOption, newTab: boolean = false) => {\n    this.bdsSearchSelect.emit({ option, newTab });\n\n    // Navigate if URL is provided\n    if (option.url) {\n      if (newTab) {\n        window.open(option.url, '_blank');\n      } else {\n        window.location.href = option.url;\n      }\n    }\n\n    this.close();\n  };\n\n  private handleResultClick = (option: SearchAnywhereOption, event: MouseEvent) => {\n    const newTab = event.ctrlKey || event.metaKey;\n    this.selectOption(option, newTab);\n  };\n\n  private handleModalClick = (event: MouseEvent) => {\n    // Close modal when clicking the backdrop\n    if (event.target === event.currentTarget) {\n      this.close();\n    }\n  };\n\n  private renderTrigger() {\n    const placeholderText = this.triggerPlaceholder || termTranslate(this.language, 'trigger_placeholder');\n    return (\n      <div class=\"search-trigger\" onClick={this.handleTriggerClick}>\n        <bds-input\n          icon=\"search\"\n          placeholder={placeholderText}\n          readonly={true}\n          dataTest=\"search-anywhere-trigger\"\n        >\n          {this.showShortcut && (\n            <div slot=\"input-right\" class=\"keyboard-shortcut\">\n              <bds-typo variant=\"fs-12\" bold=\"regular\">\n                ⌘K\n              </bds-typo>\n            </div>\n          )}\n        </bds-input>\n      </div>\n    );\n  }\n\n  private renderResults() {\n    const displayOptions = this.filteredOptions.slice(0, this.maxResults);\n\n    if (displayOptions.length === 0) {\n      const message = this.searchText.trim() === '' \n        ? termTranslate(this.language, 'start_typing')\n        : termTranslate(this.language, 'no_results');\n      return (\n        <div class=\"no-results\">\n          <bds-typo variant=\"fs-14\" bold=\"regular\">\n            {message}\n          </bds-typo>\n        </div>\n      );\n    }\n\n    return displayOptions.map((option, index) => (\n      <div\n        key={option.value}\n        data-index={index}\n        class={{\n          'search-result-item': true,\n          'search-result-item--selected': index === this.selectedIndex,\n        }}\n        onClick={(event) => this.handleResultClick(option, event)}\n      >\n        {option.icon && (\n          <div class=\"search-result-icon\">\n            <bds-icon name={option.icon} size=\"medium\" />\n          </div>\n        )}\n        <div class=\"search-result-content\">\n          <bds-typo\n            variant=\"fs-16\"\n            bold={index === this.selectedIndex ? 'bold' : 'regular'}\n            class=\"search-result-title\"\n          >\n            {option.title}\n          </bds-typo>\n          {option.description && (\n            <bds-typo variant=\"fs-12\" class=\"search-result-description\">\n              {option.description}\n            </bds-typo>\n          )}\n        </div>\n        <div class=\"search-result-hint\">\n          <bds-typo variant=\"fs-10\" class=\"keyboard-hint\">\n            {index === this.selectedIndex ? '↵ to select' : ''}\n          </bds-typo>\n        </div>\n      </div>\n    ));\n  }\n\n  private renderModal() {\n    if (!this.isOpen) {\n      return null;\n    }\n\n    const placeholderText = this.placeholder || termTranslate(this.language, 'search_placeholder');\n\n    return (\n      <div class=\"search-modal-overlay\" onClick={this.handleModalClick}>\n        <div class=\"search-modal\" onKeyDown={this.handleModalKeydown}>\n          <div class=\"search-modal-header\">\n            <div class=\"search-input-wrapper\">\n              <bds-icon name=\"search\" size=\"medium\" class=\"search-icon\" />\n              <input\n                ref={(el) => (this.inputElement = el)}\n                type=\"text\"\n                class=\"search-input\"\n                placeholder={placeholderText}\n                value={this.searchText}\n                onInput={this.handleInputChange}\n                data-test=\"search-anywhere-input\"\n              />\n            </div>\n          </div>\n          <div class=\"search-modal-results\" ref={(el) => (this.resultsContainerElement = el)}>\n            {this.renderResults()}\n          </div>\n          <div class=\"search-modal-footer\">\n            <div class=\"keyboard-hints\">\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↑↓ {termTranslate(this.language, 'to_navigate')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↵ {termTranslate(this.language, 'to_select')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">⌘+↵ {termTranslate(this.language, 'for_new_tab')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">esc {termTranslate(this.language, 'to_close')}</bds-typo>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.renderTrigger()}\n        {this.renderModal()}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}