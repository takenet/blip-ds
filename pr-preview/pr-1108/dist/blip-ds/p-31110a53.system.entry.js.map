{"version":3,"names":["searchAnywhereCss","SearchAnywhere","exports","class_1","hostRef","_this","this","isOpen","searchText","selectedIndex","filteredOptions","options","placeholder","triggerPlaceholder","showShortcut","maxResults","handleGlobalKeydown","event","ctrlKey","metaKey","key","preventDefault","open","handleModalKeydown","resultsCount","Math","min","length","close","scrollToSelectedOption","option","newTab","selectOption","handleInputChange","target","value","handleTriggerClick","bdsSearchSelect","emit","url","window","location","href","handleResultClick","handleModalClick","currentTarget","prototype","bdsSearchOpen","bdsSearchClose","getIsOpen","getSelectedIndex","getSearchText","componentWillLoad","updateFilteredOptions","componentDidLoad","document","addEventListener","disconnectedCallback","removeEventListener","onOptionsChange","onSearchTextChange","bdsSearchChange","onIsOpenChange","setTimeout","_a","inputElement","focus","selectedElement","resultsContainerElement","querySelector","concat","containerRect","getBoundingClientRect","itemRect","bottom","scrollIntoView","block","behavior","top","parsedOptions","JSON","parse","e","console","error","Array","isArray","trim","searchLower_1","toLowerCase","filter","titleMatch","title","includes","descriptionMatch","_b","description","renderTrigger","h","class","onClick","icon","readonly","dataTest","slot","variant","bold","renderResults","displayOptions","slice","map","index","name","size","renderModal","onKeyDown","ref","el","type","onInput","render","Host"],"sources":["src/components/search-anywhere/search-anywhere.scss?tag=bds-search-anywhere&encapsulation=shadow","src/components/search-anywhere/search-anywhere.tsx"],"sourcesContent":["@use '../../globals/helpers' as *;\n\n:host {\n  display: block;\n  width: 100%;\n}\n\n.search-trigger {\n  width: 100%;\n  cursor: pointer;\n\n  bds-input {\n    cursor: pointer;\n    pointer-events: none;\n\n    ::part(native) {\n      cursor: pointer;\n    }\n  }\n\n  .keyboard-shortcut {\n    display: flex;\n    align-items: center;\n    padding: 0 8px;\n    background-color: $color-surface-2;\n    border-radius: 4px;\n    height: 24px;\n    border: 1px solid $color-border-1;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Modal overlay\n.search-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  padding-top: 10vh;\n  z-index: $zindex-modal-overlay;\n  backdrop-filter: blur(2px);\n}\n\n// Modal container\n.search-modal {\n  background-color: $color-surface-0;\n  border-radius: $border-radius;\n  box-shadow: $shadow-box;\n  width: 90%;\n  max-width: 640px;\n  max-height: 70vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border: 1px solid $color-border-2;\n}\n\n// Header with search input\n.search-modal-header {\n  padding: 16px;\n  border-bottom: 1px solid $color-border-1;\n\n  .search-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    .search-icon {\n      color: $color-content-ghost;\n      flex-shrink: 0;\n    }\n\n    .search-input {\n      flex: 1;\n      border: none;\n      outline: none;\n      background: transparent;\n      font-size: $fs-16;\n      font-family: $font-family;\n      color: $color-content-default;\n      padding: 0;\n\n      &::placeholder {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Results container\n.search-modal-results {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n\n  .search-result-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px 16px;\n    border-radius: $border-radius;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border: 1px solid transparent;\n\n    &:hover {\n      background-color: $color-surface-1;\n    }\n\n    &--selected {\n      background-color: $color-surface-2;\n      border-color: $color-primary;\n    }\n\n    .search-result-icon {\n      flex-shrink: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 32px;\n      height: 32px;\n      border-radius: $border-radius;\n      background-color: $color-surface-1;\n\n      bds-icon {\n        color: $color-content-default;\n      }\n    }\n\n    .search-result-content {\n      flex: 1;\n      min-width: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n\n      .search-result-title {\n        color: $color-content-default;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      .search-result-description {\n        color: $color-content-ghost;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n\n    .search-result-hint {\n      flex-shrink: 0;\n      min-width: 80px;\n      text-align: right;\n\n      .keyboard-hint {\n        color: $color-content-ghost;\n      }\n    }\n  }\n\n  .no-results {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 24px;\n    text-align: center;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Footer with keyboard hints\n.search-modal-footer {\n  padding: 12px 16px;\n  border-top: 1px solid $color-border-1;\n  background-color: $color-surface-1;\n\n  .keyboard-hints {\n    display: flex;\n    gap: 16px;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n\n    .hint {\n      display: flex;\n      align-items: center;\n\n      bds-typo {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Scrollbar styling\n.search-modal-results::-webkit-scrollbar {\n  width: 8px;\n}\n\n.search-modal-results::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb {\n  background: $color-border-2;\n  border-radius: 4px;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb:hover {\n  background: $color-border-3;\n}\n\n// Responsive adjustments\n@media (max-width: 768px) {\n  .search-modal {\n    width: 95%;\n    max-height: 80vh;\n  }\n\n  .search-modal-overlay {\n    padding-top: 5vh;\n  }\n\n  .search-result-hint {\n    display: none;\n  }\n\n  .keyboard-hints {\n    justify-content: center !important;\n  }\n}\n","import {\n  Component,\n  h,\n  Host,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  Watch,\n  Element,\n  Method,\n} from '@stencil/core';\nimport {\n  SearchAnywhereOption,\n  SearchAnywhereChangeEventDetail,\n  SearchAnywhereSelectEventDetail,\n} from './search-anywhere-interface';\n\n@Component({\n  tag: 'bds-search-anywhere',\n  styleUrl: 'search-anywhere.scss',\n  shadow: true,\n})\nexport class SearchAnywhere {\n  private inputElement?: HTMLInputElement;\n  private resultsContainerElement?: HTMLElement;\n\n  @Element() el!: HTMLElement;\n\n  /**\n   * Controls whether the search modal is open\n   */\n  @State() isOpen: boolean = false;\n\n  /**\n   * Current search text\n   */\n  @State() searchText: string = '';\n\n  /**\n   * Current selected index for keyboard navigation\n   */\n  @State() selectedIndex: number = 0;\n\n  /**\n   * Internal filtered options for display\n   */\n  @State() filteredOptions: SearchAnywhereOption[] = [];\n\n  /**\n   * Options to be displayed in the search results.\n   * Can be passed as JSON string or array of SearchAnywhereOption objects.\n   */\n  @Prop() options?: string | SearchAnywhereOption[] = [];\n\n  /**\n   * Placeholder text for the search input (when modal is open)\n   */\n  @Prop() placeholder?: string = 'Search...';\n\n  /**\n   * Placeholder text for the trigger input (before modal opens)\n   */\n  @Prop() triggerPlaceholder?: string = 'Search or press Ctrl+K';\n\n  /**\n   * If true, displays the keyboard shortcut hint on the trigger\n   */\n  @Prop() showShortcut?: boolean = true;\n\n  /**\n   * Maximum number of results to display\n   */\n  @Prop() maxResults?: number = 10;\n\n  /**\n   * Emitted when the search text changes\n   */\n  @Event() bdsSearchChange!: EventEmitter<SearchAnywhereChangeEventDetail>;\n\n  /**\n   * Emitted when an option is selected\n   */\n  @Event() bdsSearchSelect!: EventEmitter<SearchAnywhereSelectEventDetail>;\n\n  /**\n   * Emitted when the modal opens\n   */\n  @Event() bdsSearchOpen!: EventEmitter;\n\n  /**\n   * Emitted when the modal closes\n   */\n  @Event() bdsSearchClose!: EventEmitter;\n\n  /**\n   * Opens the search modal programmatically\n   */\n  @Method()\n  async open() {\n    this.isOpen = true;\n    this.bdsSearchOpen.emit();\n  }\n\n  /**\n   * Closes the search modal programmatically\n   */\n  @Method()\n  async close() {\n    this.isOpen = false;\n    this.searchText = '';\n    this.selectedIndex = 0;\n    this.bdsSearchClose.emit();\n  }\n\n  /**\n   * Gets the current open state (for testing)\n   */\n  @Method()\n  async getIsOpen(): Promise<boolean> {\n    return this.isOpen;\n  }\n\n  /**\n   * Gets the current selected index (for testing)\n   */\n  @Method()\n  async getSelectedIndex(): Promise<number> {\n    return this.selectedIndex;\n  }\n\n  /**\n   * Gets the current search text (for testing)\n   */\n  @Method()\n  async getSearchText(): Promise<string> {\n    return this.searchText;\n  }\n\n  componentWillLoad() {\n    this.updateFilteredOptions();\n  }\n\n  componentDidLoad() {\n    // Listen for Ctrl+K globally\n    document.addEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  @Watch('options')\n  onOptionsChange() {\n    this.updateFilteredOptions();\n  }\n\n  @Watch('searchText')\n  onSearchTextChange() {\n    this.selectedIndex = 0;\n    this.bdsSearchChange.emit({ searchText: this.searchText });\n    this.updateFilteredOptions();\n  }\n\n  @Watch('isOpen')\n  onIsOpenChange() {\n    if (this.isOpen) {\n      // Focus input when modal opens\n      setTimeout(() => {\n        this.inputElement?.focus();\n      }, 100);\n    }\n  }\n\n  private handleGlobalKeydown = (event: KeyboardEvent) => {\n    // Ctrl+K or Cmd+K to open\n    if ((event.ctrlKey || event.metaKey) && event.key === 'k') {\n      event.preventDefault();\n      this.open();\n    }\n  };\n\n  private handleModalKeydown = (event: KeyboardEvent) => {\n    const resultsCount = Math.min(this.filteredOptions.length, this.maxResults);\n\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        this.close();\n        break;\n\n      case 'ArrowDown':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          this.selectedIndex = (this.selectedIndex + 1) % resultsCount;\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'ArrowUp':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          this.selectedIndex = (this.selectedIndex - 1 + resultsCount) % resultsCount;\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'Enter':\n        event.preventDefault();\n        if (resultsCount > 0 && this.selectedIndex < resultsCount) {\n          const option = this.filteredOptions[this.selectedIndex];\n          const newTab = event.ctrlKey || event.metaKey;\n          this.selectOption(option, newTab);\n        }\n        break;\n    }\n  };\n\n  private scrollToSelectedOption() {\n    setTimeout(() => {\n      const selectedElement = this.resultsContainerElement?.querySelector(\n        `.search-result-item[data-index=\"${this.selectedIndex}\"]`\n      ) as HTMLElement;\n      \n      if (selectedElement && this.resultsContainerElement) {\n        const containerRect = this.resultsContainerElement.getBoundingClientRect();\n        const itemRect = selectedElement.getBoundingClientRect();\n\n        if (itemRect.bottom > containerRect.bottom) {\n          selectedElement.scrollIntoView({ block: 'end', behavior: 'smooth' });\n        } else if (itemRect.top < containerRect.top) {\n          selectedElement.scrollIntoView({ block: 'start', behavior: 'smooth' });\n        }\n      }\n    }, 0);\n  }\n\n  private updateFilteredOptions() {\n    let parsedOptions: SearchAnywhereOption[] = [];\n\n    if (typeof this.options === 'string') {\n      try {\n        parsedOptions = JSON.parse(this.options);\n      } catch (e) {\n        console.error('Failed to parse options JSON:', e);\n        parsedOptions = [];\n      }\n    } else if (Array.isArray(this.options)) {\n      parsedOptions = this.options;\n    }\n\n    // Filter options based on search text\n    if (this.searchText.trim() === '') {\n      this.filteredOptions = parsedOptions;\n    } else {\n      const searchLower = this.searchText.toLowerCase();\n      this.filteredOptions = parsedOptions.filter((option) => {\n        const titleMatch = option.title?.toLowerCase().includes(searchLower);\n        const descriptionMatch = option.description?.toLowerCase().includes(searchLower);\n        return titleMatch || descriptionMatch;\n      });\n    }\n  }\n\n  private handleInputChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    this.searchText = target.value;\n  };\n\n  private handleTriggerClick = () => {\n    this.open();\n  };\n\n  private selectOption = (option: SearchAnywhereOption, newTab: boolean = false) => {\n    this.bdsSearchSelect.emit({ option, newTab });\n\n    // Navigate if URL is provided\n    if (option.url) {\n      if (newTab) {\n        window.open(option.url, '_blank');\n      } else {\n        window.location.href = option.url;\n      }\n    }\n\n    this.close();\n  };\n\n  private handleResultClick = (option: SearchAnywhereOption, event: MouseEvent) => {\n    const newTab = event.ctrlKey || event.metaKey;\n    this.selectOption(option, newTab);\n  };\n\n  private handleModalClick = (event: MouseEvent) => {\n    // Close modal when clicking the backdrop\n    if (event.target === event.currentTarget) {\n      this.close();\n    }\n  };\n\n  private renderTrigger() {\n    return (\n      <div class=\"search-trigger\" onClick={this.handleTriggerClick}>\n        <bds-input\n          icon=\"search\"\n          placeholder={this.triggerPlaceholder}\n          readonly={true}\n          dataTest=\"search-anywhere-trigger\"\n        >\n          {this.showShortcut && (\n            <div slot=\"input-right\" class=\"keyboard-shortcut\">\n              <bds-typo variant=\"fs-12\" bold=\"regular\">\n                ⌘K\n              </bds-typo>\n            </div>\n          )}\n        </bds-input>\n      </div>\n    );\n  }\n\n  private renderResults() {\n    const displayOptions = this.filteredOptions.slice(0, this.maxResults);\n\n    if (displayOptions.length === 0) {\n      return (\n        <div class=\"no-results\">\n          <bds-typo variant=\"fs-14\" bold=\"regular\">\n            {this.searchText.trim() === '' ? 'Start typing to search...' : 'No results found'}\n          </bds-typo>\n        </div>\n      );\n    }\n\n    return displayOptions.map((option, index) => (\n      <div\n        key={option.value}\n        data-index={index}\n        class={{\n          'search-result-item': true,\n          'search-result-item--selected': index === this.selectedIndex,\n        }}\n        onClick={(event) => this.handleResultClick(option, event)}\n      >\n        {option.icon && (\n          <div class=\"search-result-icon\">\n            <bds-icon name={option.icon} size=\"medium\" />\n          </div>\n        )}\n        <div class=\"search-result-content\">\n          <bds-typo\n            variant=\"fs-16\"\n            bold={index === this.selectedIndex ? 'bold' : 'regular'}\n            class=\"search-result-title\"\n          >\n            {option.title}\n          </bds-typo>\n          {option.description && (\n            <bds-typo variant=\"fs-12\" class=\"search-result-description\">\n              {option.description}\n            </bds-typo>\n          )}\n        </div>\n        <div class=\"search-result-hint\">\n          <bds-typo variant=\"fs-10\" class=\"keyboard-hint\">\n            {index === this.selectedIndex ? '↵ to select' : ''}\n          </bds-typo>\n        </div>\n      </div>\n    ));\n  }\n\n  private renderModal() {\n    if (!this.isOpen) {\n      return null;\n    }\n\n    return (\n      <div class=\"search-modal-overlay\" onClick={this.handleModalClick}>\n        <div class=\"search-modal\" onKeyDown={this.handleModalKeydown}>\n          <div class=\"search-modal-header\">\n            <div class=\"search-input-wrapper\">\n              <bds-icon name=\"search\" size=\"medium\" class=\"search-icon\" />\n              <input\n                ref={(el) => (this.inputElement = el)}\n                type=\"text\"\n                class=\"search-input\"\n                placeholder={this.placeholder}\n                value={this.searchText}\n                onInput={this.handleInputChange}\n                data-test=\"search-anywhere-input\"\n              />\n            </div>\n          </div>\n          <div class=\"search-modal-results\" ref={(el) => (this.resultsContainerElement = el)}>\n            {this.renderResults()}\n          </div>\n          <div class=\"search-modal-footer\">\n            <div class=\"keyboard-hints\">\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↑↓ to navigate</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↵ to select</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">⌘+↵ for new tab</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">esc to close</bds-typo>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.renderTrigger()}\n        {this.renderModal()}\n      </Host>\n    );\n  }\n}\n"],"mappings":"gnDAAA,IAAMA,EAAoB,0vL,ICuBbC,EAAcC,EAAA,iCAL3B,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,K,gMAcWA,KAAMC,OAAY,MAKlBD,KAAUE,WAAW,GAKrBF,KAAaG,cAAW,EAKxBH,KAAeI,gBAA2B,GAM3CJ,KAAOK,QAAqC,GAK5CL,KAAWM,YAAY,YAKvBN,KAAkBO,mBAAY,yBAK9BP,KAAYQ,aAAa,KAKzBR,KAAUS,WAAY,GAqGtBT,KAAAU,oBAAsB,SAACC,GAE7B,IAAKA,EAAMC,SAAWD,EAAME,UAAYF,EAAMG,MAAQ,IAAK,CACzDH,EAAMI,iBACNhB,EAAKiB,M,CAET,EAEQhB,KAAAiB,mBAAqB,SAACN,GAC5B,IAAMO,EAAeC,KAAKC,IAAIrB,EAAKK,gBAAgBiB,OAAQtB,EAAKU,YAEhE,OAAQE,EAAMG,KACZ,IAAK,SACHH,EAAMI,iBACNhB,EAAKuB,QACL,MAEF,IAAK,YACHX,EAAMI,iBACN,GAAIG,EAAe,EAAG,CACpBnB,EAAKI,eAAiBJ,EAAKI,cAAgB,GAAKe,EAChDnB,EAAKwB,wB,CAEP,MAEF,IAAK,UACHZ,EAAMI,iBACN,GAAIG,EAAe,EAAG,CACpBnB,EAAKI,eAAiBJ,EAAKI,cAAgB,EAAIe,GAAgBA,EAC/DnB,EAAKwB,wB,CAEP,MAEF,IAAK,QACHZ,EAAMI,iBACN,GAAIG,EAAe,GAAKnB,EAAKI,cAAgBe,EAAc,CACzD,IAAMM,EAASzB,EAAKK,gBAAgBL,EAAKI,eACzC,IAAMsB,EAASd,EAAMC,SAAWD,EAAME,QACtCd,EAAK2B,aAAaF,EAAQC,E,CAE5B,MAEN,EAgDQzB,KAAA2B,kBAAoB,SAAChB,GAC3B,IAAMiB,EAASjB,EAAMiB,OACrB7B,EAAKG,WAAa0B,EAAOC,KAC3B,EAEQ7B,KAAkB8B,mBAAG,WAC3B/B,EAAKiB,MACP,EAEQhB,KAAA0B,aAAe,SAACF,EAA8BC,GAAA,GAAAA,SAAA,GAAAA,EAAA,KAAuB,CAC3E1B,EAAKgC,gBAAgBC,KAAK,CAAER,OAAMA,EAAEC,OAAMA,IAG1C,GAAID,EAAOS,IAAK,CACd,GAAIR,EAAQ,CACVS,OAAOlB,KAAKQ,EAAOS,IAAK,S,KACnB,CACLC,OAAOC,SAASC,KAAOZ,EAAOS,G,EAIlClC,EAAKuB,OACP,EAEQtB,KAAAqC,kBAAoB,SAACb,EAA8Bb,GACzD,IAAMc,EAASd,EAAMC,SAAWD,EAAME,QACtCd,EAAK2B,aAAaF,EAAQC,EAC5B,EAEQzB,KAAAsC,iBAAmB,SAAC3B,GAE1B,GAAIA,EAAMiB,SAAWjB,EAAM4B,cAAe,CACxCxC,EAAKuB,O,CAET,CAgID,CAvUOzB,EAAA2C,UAAAxB,KAAN,W,qFACEhB,KAAKC,OAAS,KACdD,KAAKyC,cAAcT,O,iBAOfnC,EAAA2C,UAAAlB,MAAN,W,qFACEtB,KAAKC,OAAS,MACdD,KAAKE,WAAa,GAClBF,KAAKG,cAAgB,EACrBH,KAAK0C,eAAeV,O,iBAOhBnC,EAAA2C,UAAAG,UAAN,W,qFACE,SAAO3C,KAAKC,O,QAORJ,EAAA2C,UAAAI,iBAAN,W,qFACE,SAAO5C,KAAKG,c,QAORN,EAAA2C,UAAAK,cAAN,W,qFACE,SAAO7C,KAAKE,W,QAGdL,EAAA2C,UAAAM,kBAAA,WACE9C,KAAK+C,uB,EAGPlD,EAAA2C,UAAAQ,iBAAA,WAEEC,SAASC,iBAAiB,UAAWlD,KAAKU,oB,EAG5Cb,EAAA2C,UAAAW,qBAAA,WACEF,SAASG,oBAAoB,UAAWpD,KAAKU,oB,EAI/Cb,EAAA2C,UAAAa,gBAAA,WACErD,KAAK+C,uB,EAIPlD,EAAA2C,UAAAc,mBAAA,WACEtD,KAAKG,cAAgB,EACrBH,KAAKuD,gBAAgBvB,KAAK,CAAE9B,WAAYF,KAAKE,aAC7CF,KAAK+C,uB,EAIPlD,EAAA2C,UAAAgB,eAAA,eAAAzD,EAAAC,KACE,GAAIA,KAAKC,OAAQ,CAEfwD,YAAW,W,OACTC,EAAA3D,EAAK4D,gBAAc,MAAAD,SAAA,SAAAA,EAAAE,O,GAClB,I,GAgDC/D,EAAA2C,UAAAjB,uBAAA,eAAAxB,EAAAC,KACNyD,YAAW,W,MACT,IAAMI,GAAkBH,EAAA3D,EAAK+D,2BAAuB,MAAAJ,SAAA,SAAAA,EAAEK,cACpD,mCAAAC,OAAmCjE,EAAKI,cAAa,OAGvD,GAAI0D,GAAmB9D,EAAK+D,wBAAyB,CACnD,IAAMG,EAAgBlE,EAAK+D,wBAAwBI,wBACnD,IAAMC,EAAWN,EAAgBK,wBAEjC,GAAIC,EAASC,OAASH,EAAcG,OAAQ,CAC1CP,EAAgBQ,eAAe,CAAEC,MAAO,MAAOC,SAAU,U,MACpD,GAAIJ,EAASK,IAAMP,EAAcO,IAAK,CAC3CX,EAAgBQ,eAAe,CAAEC,MAAO,QAASC,SAAU,U,KAG9D,E,EAGG1E,EAAA2C,UAAAO,sBAAA,WACN,IAAI0B,EAAwC,GAE5C,UAAWzE,KAAKK,UAAY,SAAU,CACpC,IACEoE,EAAgBC,KAAKC,MAAM3E,KAAKK,Q,CAChC,MAAOuE,GACPC,QAAQC,MAAM,gCAAiCF,GAC/CH,EAAgB,E,OAEb,GAAIM,MAAMC,QAAQhF,KAAKK,SAAU,CACtCoE,EAAgBzE,KAAKK,O,CAIvB,GAAIL,KAAKE,WAAW+E,SAAW,GAAI,CACjCjF,KAAKI,gBAAkBqE,C,KAClB,CACL,IAAMS,EAAclF,KAAKE,WAAWiF,cACpCnF,KAAKI,gBAAkBqE,EAAcW,QAAO,SAAC5D,G,QAC3C,IAAM6D,GAAa3B,EAAAlC,EAAO8D,SAAO,MAAA5B,SAAA,SAAAA,EAAAyB,cAAcI,SAASL,GACxD,IAAMM,GAAmBC,EAAAjE,EAAOkE,eAAa,MAAAD,SAAA,SAAAA,EAAAN,cAAcI,SAASL,GACpE,OAAOG,GAAcG,CACvB,G,GAwCI3F,EAAA2C,UAAAmD,cAAA,WACN,OACEC,EAAK,OAAAC,MAAM,iBAAiBC,QAAS9F,KAAK8B,oBACxC8D,EAAA,aACEG,KAAK,SACLzF,YAAaN,KAAKO,mBAClByF,SAAU,KACVC,SAAS,2BAERjG,KAAKQ,cACJoF,EAAK,OAAAM,KAAK,cAAcL,MAAM,qBAC5BD,EAAA,YAAUO,QAAQ,QAAQC,KAAK,WAAS,Q,EAU5CvG,EAAA2C,UAAA6D,cAAA,eAAAtG,EAAAC,KACN,IAAMsG,EAAiBtG,KAAKI,gBAAgBmG,MAAM,EAAGvG,KAAKS,YAE1D,GAAI6F,EAAejF,SAAW,EAAG,CAC/B,OACEuE,EAAA,OAAKC,MAAM,cACTD,EAAU,YAAAO,QAAQ,QAAQC,KAAK,WAC5BpG,KAAKE,WAAW+E,SAAW,GAAK,4BAA8B,oB,CAMvE,OAAOqB,EAAeE,KAAI,SAAChF,EAAQiF,GAAK,OACtCb,EACE,OAAA9E,IAAKU,EAAOK,MACA,aAAA4E,EACZZ,MAAO,CACL,qBAAsB,KACtB,+BAAgCY,IAAU1G,EAAKI,eAEjD2F,QAAS,SAACnF,GAAU,OAAAZ,EAAKsC,kBAAkBb,EAAQb,EAA/B,GAEnBa,EAAOuE,MACNH,EAAK,OAAAC,MAAM,sBACTD,EAAU,YAAAc,KAAMlF,EAAOuE,KAAMY,KAAK,YAGtCf,EAAK,OAAAC,MAAM,yBACTD,EACE,YAAAO,QAAQ,QACRC,KAAMK,IAAU1G,EAAKI,cAAgB,OAAS,UAC9C0F,MAAM,uBAELrE,EAAO8D,OAET9D,EAAOkE,aACNE,EAAU,YAAAO,QAAQ,QAAQN,MAAM,6BAC7BrE,EAAOkE,cAIdE,EAAK,OAAAC,MAAM,sBACTD,EAAU,YAAAO,QAAQ,QAAQN,MAAM,iBAC7BY,IAAU1G,EAAKI,cAAgB,cAAgB,KA/BhB,G,EAsClCN,EAAA2C,UAAAoE,YAAA,eAAA7G,EAAAC,KACN,IAAKA,KAAKC,OAAQ,CAChB,OAAO,I,CAGT,OACE2F,EAAK,OAAAC,MAAM,uBAAuBC,QAAS9F,KAAKsC,kBAC9CsD,EAAK,OAAAC,MAAM,eAAegB,UAAW7G,KAAKiB,oBACxC2E,EAAK,OAAAC,MAAM,uBACTD,EAAK,OAAAC,MAAM,wBACTD,EAAU,YAAAc,KAAK,SAASC,KAAK,SAASd,MAAM,gBAC5CD,EACE,SAAAkB,IAAK,SAACC,GAAE,OAAMhH,EAAK4D,aAAeoD,CAA1B,EACRC,KAAK,OACLnB,MAAM,eACNvF,YAAaN,KAAKM,YAClBuB,MAAO7B,KAAKE,WACZ+G,QAASjH,KAAK2B,kBAAiB,YACrB,4BAIhBiE,EAAK,OAAAC,MAAM,uBAAuBiB,IAAK,SAACC,GAAE,OAAMhH,EAAK+D,wBAA0BiD,CAArC,GACvC/G,KAAKqG,iBAERT,EAAK,OAAAC,MAAM,uBACTD,EAAK,OAAAC,MAAM,kBACTD,EAAM,QAAAC,MAAM,QACVD,EAAA,YAAUO,QAAQ,SAAO,mBAE3BP,EAAM,QAAAC,MAAM,QACVD,EAAA,YAAUO,QAAQ,SAAO,gBAE3BP,EAAM,QAAAC,MAAM,QACVD,EAAA,YAAUO,QAAQ,SAAO,oBAE3BP,EAAM,QAAAC,MAAM,QACVD,EAAU,YAAAO,QAAQ,SAA+B,oB,EAS/DtG,EAAA2C,UAAA0E,OAAA,WACE,OACEtB,EAACuB,EAAI,CAAArG,IAAA,4CACFd,KAAK2F,gBACL3F,KAAK4G,c,gTA/Ya,I","ignoreList":[]}