{"version":3,"file":"p-BCeg2gK6.system.js","sources":["src/components/search-anywhere/languages/pt_BR.tsx","src/components/search-anywhere/languages/es_ES.tsx","src/components/search-anywhere/languages/en_US.tsx","src/components/search-anywhere/languages/index.ts","src/components/search-anywhere/search-anywhere.scss?tag=bds-search-anywhere&encapsulation=shadow","src/components/search-anywhere/search-anywhere.tsx"],"sourcesContent":["export const ptTerms = [\n  {\n    search_placeholder: 'Buscar...',\n    trigger_placeholder: 'Buscar ou pressione Ctrl+K',\n    no_results: 'Nenhum resultado encontrado',\n    start_typing: 'Comece a digitar para buscar...',\n    to_navigate: 'para navegar',\n    to_select: 'para selecionar',\n    for_new_tab: 'para nova aba',\n    to_close: 'para fechar',\n  },\n];\n","export const esTerms = [\n  {\n    search_placeholder: 'Buscar...',\n    trigger_placeholder: 'Buscar o presione Ctrl+K',\n    no_results: 'No se encontraron resultados',\n    start_typing: 'Empiece a escribir para buscar...',\n    to_navigate: 'para navegar',\n    to_select: 'para seleccionar',\n    for_new_tab: 'para nueva pestaña',\n    to_close: 'para cerrar',\n  },\n];\n","export const enTerms = [\n  {\n    search_placeholder: 'Search...',\n    trigger_placeholder: 'Search or press Ctrl+K',\n    no_results: 'No results found',\n    start_typing: 'Start typing to search...',\n    to_navigate: 'to navigate',\n    to_select: 'to select',\n    for_new_tab: 'for new tab',\n    to_close: 'to close',\n  },\n];\n","import { ptTerms } from './pt_BR';\nimport { esTerms } from './es_ES';\nimport { enTerms } from './en_US';\n\nexport type languages = 'pt_BR' | 'es_ES' | 'en_US';\n\nexport const termTranslate = (lang: languages, string: string): string => {\n  let translate;\n  switch (lang) {\n    case 'pt_BR':\n      translate = ptTerms.map((term) => term[string]);\n      break;\n    case 'es_ES':\n      translate = esTerms.map((term) => term[string]);\n      break;\n    case 'en_US':\n      translate = enTerms.map((term) => term[string]);\n      break;\n    default:\n      translate = ptTerms.map((term) => term[string]);\n  }\n  return translate;\n};\n","@use '../../globals/helpers' as *;\n\n:host {\n  display: block;\n  width: 100%;\n}\n\n.search-trigger {\n  width: 100%;\n  cursor: pointer;\n\n  bds-input {\n    cursor: pointer;\n    pointer-events: none;\n\n    ::part(native) {\n      cursor: pointer;\n    }\n  }\n\n  .keyboard-shortcut {\n    display: flex;\n    align-items: center;\n    padding: 0 8px;\n    background-color: $color-surface-2;\n    border-radius: 4px;\n    height: 24px;\n    border: 1px solid $color-border-1;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Modal overlay\n.search-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  padding-top: 10vh;\n  z-index: $zindex-modal-overlay;\n  backdrop-filter: blur(2px);\n}\n\n// Modal container\n.search-modal {\n  background-color: $color-surface-0;\n  border-radius: $border-radius;\n  box-shadow: $shadow-box;\n  width: 90%;\n  max-width: 640px;\n  max-height: 70vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  border: 1px solid $color-border-2;\n}\n\n// Header with search input\n.search-modal-header {\n  padding: 16px;\n  border-bottom: 1px solid $color-border-1;\n\n  .search-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    .search-icon {\n      color: $color-content-ghost;\n      flex-shrink: 0;\n    }\n\n    .search-input {\n      flex: 1;\n      border: none;\n      outline: none;\n      background: transparent;\n      font-size: $fs-16;\n      font-family: $font-family;\n      color: $color-content-default;\n      padding: 0;\n\n      &::placeholder {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Results container\n.search-modal-results {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n\n  .search-result-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px 16px;\n    border-radius: $border-radius;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border: 1px solid transparent;\n\n    &:hover {\n      background-color: $color-surface-1;\n    }\n\n    &--selected {\n      background-color: $color-surface-2;\n      border-color: $color-primary;\n    }\n\n    .search-result-icon {\n      flex-shrink: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 32px;\n      height: 32px;\n      border-radius: $border-radius;\n      background-color: $color-surface-1;\n\n      bds-icon {\n        color: $color-content-default;\n      }\n    }\n\n    .search-result-content {\n      flex: 1;\n      min-width: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n\n      .search-result-title {\n        color: $color-content-default;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      .search-result-description {\n        color: $color-content-ghost;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n\n    .search-result-hint {\n      flex-shrink: 0;\n      min-width: 80px;\n      text-align: right;\n\n      .keyboard-hint {\n        color: $color-content-ghost;\n      }\n    }\n  }\n\n  .no-results {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 24px;\n    text-align: center;\n\n    bds-typo {\n      color: $color-content-ghost;\n    }\n  }\n}\n\n// Footer with keyboard hints\n.search-modal-footer {\n  padding: 12px 16px;\n  border-top: 1px solid $color-border-1;\n  background-color: $color-surface-1;\n\n  .keyboard-hints {\n    display: flex;\n    gap: 16px;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n\n    .hint {\n      display: flex;\n      align-items: center;\n\n      bds-typo {\n        color: $color-content-ghost;\n      }\n    }\n  }\n}\n\n// Scrollbar styling\n.search-modal-results::-webkit-scrollbar {\n  width: 8px;\n}\n\n.search-modal-results::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb {\n  background: $color-border-2;\n  border-radius: 4px;\n}\n\n.search-modal-results::-webkit-scrollbar-thumb:hover {\n  background: $color-border-3;\n}\n\n// Responsive adjustments\n@media (max-width: 768px) {\n  .search-modal {\n    width: 95%;\n    max-height: 80vh;\n  }\n\n  .search-modal-overlay {\n    padding-top: 5vh;\n  }\n\n  .search-result-hint {\n    display: none;\n  }\n\n  .keyboard-hints {\n    justify-content: center !important;\n  }\n}\n","import {\n  Component,\n  h,\n  Host,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  Watch,\n  Element,\n  Method,\n} from '@stencil/core';\nimport {\n  SearchAnywhereOption,\n  SearchAnywhereChangeEventDetail,\n  SearchAnywhereSelectEventDetail,\n} from './search-anywhere-interface';\nimport { termTranslate, languages } from './languages';\n\n@Component({\n  tag: 'bds-search-anywhere',\n  styleUrl: 'search-anywhere.scss',\n  shadow: true,\n})\nexport class SearchAnywhere {\n  private inputElement?: HTMLInputElement;\n  private resultsContainerElement?: HTMLElement;\n\n  @Element() el!: HTMLElement;\n\n  /**\n   * Controls whether the search modal is open\n   */\n  @State() isOpen: boolean = false;\n\n  /**\n   * Current search text\n   */\n  @State() searchText: string = '';\n\n  /**\n   * Current selected index for keyboard navigation (-1 means no selection)\n   */\n  @State() selectedIndex: number = -1;\n\n  /**\n   * Internal filtered options for display\n   */\n  @State() filteredOptions: SearchAnywhereOption[] = [];\n\n  /**\n   * Options to be displayed in the search results.\n   * Can be passed as JSON string or array of SearchAnywhereOption objects.\n   */\n  @Prop() options?: string | SearchAnywhereOption[] = [];\n\n  /**\n   * Language for UI text translations (pt_BR, en_US, es_ES)\n   */\n  @Prop() language?: languages = 'pt_BR';\n\n  /**\n   * Placeholder text for the search input (when modal is open)\n   * If not provided, uses translated default based on language prop\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Placeholder text for the trigger input (before modal opens)\n   * If not provided, uses translated default based on language prop\n   */\n  @Prop() triggerPlaceholder?: string;\n\n  /**\n   * If true, displays the keyboard shortcut hint on the trigger\n   */\n  @Prop() showShortcut?: boolean = true;\n\n  /**\n   * Maximum number of results to display\n   */\n  @Prop() maxResults?: number = 10;\n\n  /**\n   * Emitted when the search text changes\n   */\n  @Event() bdsSearchChange!: EventEmitter<SearchAnywhereChangeEventDetail>;\n\n  /**\n   * Emitted when an option is selected\n   */\n  @Event() bdsSearchSelect!: EventEmitter<SearchAnywhereSelectEventDetail>;\n\n  /**\n   * Emitted when the modal opens\n   */\n  @Event() bdsSearchOpen!: EventEmitter;\n\n  /**\n   * Emitted when the modal closes\n   */\n  @Event() bdsSearchClose!: EventEmitter;\n\n  /**\n   * Opens the search modal programmatically\n   */\n  @Method()\n  async open() {\n    this.isOpen = true;\n    this.bdsSearchOpen.emit();\n  }\n\n  /**\n   * Closes the search modal programmatically\n   */\n  @Method()\n  async close() {\n    this.isOpen = false;\n    this.searchText = '';\n    this.selectedIndex = -1;\n    this.bdsSearchClose.emit();\n  }\n\n  /**\n   * Gets the current open state (for testing)\n   */\n  @Method()\n  async getIsOpen(): Promise<boolean> {\n    return this.isOpen;\n  }\n\n  /**\n   * Gets the current selected index (for testing)\n   */\n  @Method()\n  async getSelectedIndex(): Promise<number> {\n    return this.selectedIndex;\n  }\n\n  /**\n   * Gets the current search text (for testing)\n   */\n  @Method()\n  async getSearchText(): Promise<string> {\n    return this.searchText;\n  }\n\n  componentWillLoad() {\n    this.updateFilteredOptions();\n  }\n\n  componentDidLoad() {\n    // Listen for Ctrl+K globally\n    document.addEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.handleGlobalKeydown);\n  }\n\n  @Watch('options')\n  onOptionsChange() {\n    this.updateFilteredOptions();\n  }\n\n  @Watch('searchText')\n  onSearchTextChange() {\n    this.selectedIndex = -1;\n    this.bdsSearchChange.emit({ searchText: this.searchText });\n    this.updateFilteredOptions();\n  }\n\n  @Watch('isOpen')\n  onIsOpenChange() {\n    if (this.isOpen) {\n      // Focus input when modal opens\n      setTimeout(() => {\n        this.inputElement?.focus();\n      }, 100);\n    }\n  }\n\n  private handleGlobalKeydown = (event: KeyboardEvent) => {\n    // Ctrl+K or Cmd+K to open\n    if ((event.ctrlKey || event.metaKey) && event.key === 'k') {\n      event.preventDefault();\n      this.open();\n    }\n  };\n\n  private handleModalKeydown = (event: KeyboardEvent) => {\n    const resultsCount = Math.min(this.filteredOptions.length, this.maxResults);\n\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        this.close();\n        break;\n\n      case 'ArrowDown':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          // If no selection, start at 0, otherwise move to next\n          if (this.selectedIndex === -1) {\n            this.selectedIndex = 0;\n          } else {\n            this.selectedIndex = (this.selectedIndex + 1) % resultsCount;\n          }\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'ArrowUp':\n        event.preventDefault();\n        if (resultsCount > 0) {\n          // If no selection, start at last item, otherwise move to previous\n          if (this.selectedIndex === -1) {\n            this.selectedIndex = resultsCount - 1;\n          } else {\n            this.selectedIndex = (this.selectedIndex - 1 + resultsCount) % resultsCount;\n          }\n          this.scrollToSelectedOption();\n        }\n        break;\n\n      case 'Enter':\n        event.preventDefault();\n        if (resultsCount > 0 && this.selectedIndex >= 0 && this.selectedIndex < resultsCount) {\n          const option = this.filteredOptions[this.selectedIndex];\n          const newTab = event.ctrlKey || event.metaKey;\n          this.selectOption(option, newTab);\n        }\n        break;\n    }\n  };\n\n  private scrollToSelectedOption() {\n    setTimeout(() => {\n      const selectedElement = this.resultsContainerElement?.querySelector(\n        `.search-result-item[data-index=\"${this.selectedIndex}\"]`\n      ) as HTMLElement;\n      \n      if (selectedElement && this.resultsContainerElement) {\n        const containerRect = this.resultsContainerElement.getBoundingClientRect();\n        const itemRect = selectedElement.getBoundingClientRect();\n\n        if (itemRect.bottom > containerRect.bottom) {\n          selectedElement.scrollIntoView({ block: 'end', behavior: 'smooth' });\n        } else if (itemRect.top < containerRect.top) {\n          selectedElement.scrollIntoView({ block: 'start', behavior: 'smooth' });\n        }\n      }\n    }, 0);\n  }\n\n  private updateFilteredOptions() {\n    let parsedOptions: SearchAnywhereOption[] = [];\n\n    if (typeof this.options === 'string') {\n      try {\n        parsedOptions = JSON.parse(this.options);\n      } catch (e) {\n        console.error('Failed to parse options JSON:', e);\n        parsedOptions = [];\n      }\n    } else if (Array.isArray(this.options)) {\n      parsedOptions = this.options;\n    }\n\n    // Filter options based on search text\n    if (this.searchText.trim() === '') {\n      this.filteredOptions = parsedOptions;\n    } else {\n      // Use Intl.Collator for case and accent-insensitive search\n      const collator = new Intl.Collator(undefined, { sensitivity: 'base' });\n      const searchLower = this.searchText.toLowerCase();\n      \n      this.filteredOptions = parsedOptions.filter((option) => {\n        const title = (option.title || '').toLowerCase();\n        const description = (option.description || '').toLowerCase();\n        \n        // Check if search text is contained in title or description\n        // We need to check substring matching, not just equality\n        return title.includes(searchLower) || description.includes(searchLower) ||\n               this.fuzzyMatch(title, searchLower, collator) || \n               this.fuzzyMatch(description, searchLower, collator);\n      });\n    }\n  }\n\n  /**\n   * Performs accent-insensitive substring matching using Intl.Collator\n   */\n  private fuzzyMatch(text: string, search: string, collator: Intl.Collator): boolean {\n    if (!text || !search) return false;\n    \n    // Try to find the search string within the text using accent-insensitive comparison\n    for (let i = 0; i <= text.length - search.length; i++) {\n      const substring = text.substring(i, i + search.length);\n      if (collator.compare(substring, search) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private handleInputChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    this.searchText = target.value;\n  };\n\n  private handleTriggerClick = () => {\n    this.open();\n  };\n\n  private selectOption = (option: SearchAnywhereOption, newTab: boolean = false) => {\n    this.bdsSearchSelect.emit({ option, newTab });\n\n    // Navigate if URL is provided\n    if (option.url) {\n      if (newTab) {\n        window.open(option.url, '_blank');\n      } else {\n        window.location.href = option.url;\n      }\n    }\n\n    this.close();\n  };\n\n  private handleResultClick = (option: SearchAnywhereOption, event: MouseEvent) => {\n    const newTab = event.ctrlKey || event.metaKey;\n    this.selectOption(option, newTab);\n  };\n\n  private handleModalClick = (event: MouseEvent) => {\n    // Close modal when clicking the backdrop\n    if (event.target === event.currentTarget) {\n      this.close();\n    }\n  };\n\n  private renderTrigger() {\n    const placeholderText = this.triggerPlaceholder || termTranslate(this.language, 'trigger_placeholder');\n    return (\n      <div class=\"search-trigger\" onClick={this.handleTriggerClick}>\n        <bds-input\n          icon=\"search\"\n          placeholder={placeholderText}\n          readonly={true}\n          dataTest=\"search-anywhere-trigger\"\n        >\n          {this.showShortcut && (\n            <div slot=\"input-right\" class=\"keyboard-shortcut\">\n              <bds-typo variant=\"fs-12\" bold=\"regular\">\n                ⌘K\n              </bds-typo>\n            </div>\n          )}\n        </bds-input>\n      </div>\n    );\n  }\n\n  private renderResults() {\n    const displayOptions = this.filteredOptions.slice(0, this.maxResults);\n\n    if (displayOptions.length === 0) {\n      const message = this.searchText.trim() === '' \n        ? termTranslate(this.language, 'start_typing')\n        : termTranslate(this.language, 'no_results');\n      return (\n        <div class=\"no-results\">\n          <bds-typo variant=\"fs-14\" bold=\"regular\">\n            {message}\n          </bds-typo>\n        </div>\n      );\n    }\n\n    return displayOptions.map((option, index) => (\n      <div\n        key={option.value}\n        data-index={index}\n        class={{\n          'search-result-item': true,\n          'search-result-item--selected': index === this.selectedIndex,\n        }}\n        onClick={(event) => this.handleResultClick(option, event)}\n      >\n        {option.icon && (\n          <div class=\"search-result-icon\">\n            <bds-icon name={option.icon} size=\"medium\" />\n          </div>\n        )}\n        <div class=\"search-result-content\">\n          <bds-typo\n            variant=\"fs-16\"\n            bold={index === this.selectedIndex ? 'bold' : 'regular'}\n            class=\"search-result-title\"\n          >\n            {option.title}\n          </bds-typo>\n          {option.description && (\n            <bds-typo variant=\"fs-12\" class=\"search-result-description\">\n              {option.description}\n            </bds-typo>\n          )}\n        </div>\n        <div class=\"search-result-hint\">\n          <bds-typo variant=\"fs-10\" class=\"keyboard-hint\">\n            {index === this.selectedIndex ? '↵ to select' : ''}\n          </bds-typo>\n        </div>\n      </div>\n    ));\n  }\n\n  private renderModal() {\n    if (!this.isOpen) {\n      return null;\n    }\n\n    const placeholderText = this.placeholder || termTranslate(this.language, 'search_placeholder');\n\n    return (\n      <div class=\"search-modal-overlay\" onClick={this.handleModalClick}>\n        <div class=\"search-modal\" onKeyDown={this.handleModalKeydown}>\n          <div class=\"search-modal-header\">\n            <div class=\"search-input-wrapper\">\n              <bds-icon name=\"search\" size=\"medium\" class=\"search-icon\" />\n              <input\n                ref={(el) => (this.inputElement = el)}\n                type=\"text\"\n                class=\"search-input\"\n                placeholder={placeholderText}\n                value={this.searchText}\n                onInput={this.handleInputChange}\n                data-test=\"search-anywhere-input\"\n              />\n            </div>\n          </div>\n          <div class=\"search-modal-results\" ref={(el) => (this.resultsContainerElement = el)}>\n            {this.renderResults()}\n          </div>\n          <div class=\"search-modal-footer\">\n            <div class=\"keyboard-hints\">\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↑↓ {termTranslate(this.language, 'to_navigate')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">↵ {termTranslate(this.language, 'to_select')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">⌘+↵ {termTranslate(this.language, 'for_new_tab')}</bds-typo>\n              </span>\n              <span class=\"hint\">\n                <bds-typo variant=\"fs-10\">esc {termTranslate(this.language, 'to_close')}</bds-typo>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.renderTrigger()}\n        {this.renderModal()}\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}