"use strict";(self.webpackChunkblip_ds=self.webpackChunkblip_ds||[]).push([[9221],{"./dist/esm-es5/bds-upload.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{bds_upload:()=>BdsUpload});var _index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm-es5/index-C3J6Z5OX.js"),__awaiter=function(e,r,i,t){function a(e){return e instanceof i?e:new i((function(r){r(e)}))}return new(i||(i=Promise))((function(i,o){function n(e){try{l(t.next(e))}catch(e){o(e)}}function s(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):a(e.value).then(n,s)}l((t=t.apply(e,r||[])).next())}))},__generator=function(e,r){var t,a,o,n,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(e){return function(r){return l([e,r])}}function l(s){if(t)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(i=0)),i;)try{if(t=1,a&&(o=2&s[0]?a.return:s[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,s[1])).done)return o;switch(a=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=r.call(e,i)}catch(e){s=[6,e],a=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},__spreadArray=function(e,r,i){if(i||2===arguments.length)for(var o,t=0,a=r.length;t<a;t++)!o&&t in r||(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))},ptTerms=[{uploaded:"Arquivos enviados",dropHere:"Solte aqui para anexar o arquivo",dropOrClick:"Arraste e solte seus arquivos aqui ou clique para fazer upload do arquivo",formatError:"Ocorreu um erro ao anexar o arquivo, tente novamente ou selecione outro arquivo"}],esTerms=[{uploaded:"Archivos subidos",dropHere:"Soltar aquí para adjuntar archivo",dropOrClick:"Arrastre y suelte sus archivos aquí o haga clic para cargar el archivo",formatError:"Se produjo un error al adjuntar el archivo, inténtelo nuevamente o seleccione otro archivo"}],enTerms=[{uploaded:"Files uploaded",dropHere:"Drop here to attach file",dropOrClick:"Drag and drop your files here or click to upload file",formatError:"There was an error attaching the file, please try again or select another file"}],termTranslate=function(e,r){var i;switch(e){case"pt_BR":default:i=ptTerms.map((function(e){return e[r]}));break;case"es_ES":i=esTerms.map((function(e){return e[r]}));break;case"en_US":i=enTerms.map((function(e){return e[r]}))}return i},BdsUpload=function(){function e(e){var r=this;(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,e),this.bdsUploadDelete=(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsUploadDelete"),this.bdsUploadChange=(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsUploadChange"),this.files=[],this.haveFiles=!1,this.hover=!1,this.size=[],this.internalAccepts=[],this.formatError=!1,this.language="pt_BR",this.dataAccept=[],this.dtInputFiles=null,this.dtLabelAddFile=null,this.dtButtonDelete=null,this.validationFiles=function(e,i){var t=".".concat(e.name.split(".").pop());return r.internalAccepts.includes(t)?void(r.formatError=!1):(r.formatError=!0,void r.deleteFile(i))},this.handleDrop=function(e){r.haveFiles=!0;var t=e.dataTransfer.files;r.handleFiles(t)},this.handleFiles=function(e){r.multiple?r.files=__spreadArray(__spreadArray([],r.files,!0),e,!0):r.files=[e[0]],r.bdsUploadChange.emit({value:r.files})},this.refInputElement=function(e){r.inputElement=e}}return e.prototype.dataAcceptChanged=function(){if(this.dataAccept)if("string"==typeof this.dataAccept)try{this.internalAccepts=JSON.parse(this.dataAccept)}catch(e){this.internalAccepts=[]}else this.internalAccepts=this.dataAccept;else this.internalAccepts=[]},e.prototype.filesChanged=function(){if(this.files.length>0)for(var e=0;e<this.files.length;e++)this.internalAccepts.length>0&&this.validationFiles(this.files[e],e)},e.prototype.formatErrorChanged=function(e){var r=this;e&&(this.error=termTranslate(this.language,"formatError"),setTimeout((function(){return r.error=null}),5e3))},e.prototype.componentWillLoad=function(){this.dataAcceptChanged()},e.prototype.componentDidLoad=function(){var e=this;["dragenter","dragover","dragleave","drop"].forEach((function(r){e.dropArea.shadowRoot.addEventListener(r,e.preventDefaults,!1),e.dropArea.shadowRoot.addEventListener(r,(function(){return e.hoverFile(!0)}),!1)})),["dragenter","dragover"].forEach((function(r){e.dropArea.shadowRoot.addEventListener(r,(function(){return e.preventDefaults}),!1),e.dropArea.shadowRoot.addEventListener(r,(function(){return e.hoverFile(!0)}),!1)})),["dragleave","drop"].forEach((function(r){e.dropArea.shadowRoot.addEventListener(r,(function(){return e.preventDefaults}),!1),e.dropArea.shadowRoot.addEventListener(r,(function(){return e.hoverFile(!1)}),!1)})),this.dropArea.shadowRoot.addEventListener("drop",this.handleDrop,!1)},e.prototype.preventDefaults=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.hoverFile=function(e){this.hover=e},e.prototype.onUploadClick=function(e){if(!(e.length>0))return!1;this.multiple?this.files=__spreadArray(__spreadArray([],this.files,!0),e,!0):this.files=[e[0]],this.haveFiles=!0,this.getSize(),this.bdsUploadChange.emit({value:this.files})},e.prototype.getSize=function(){var e=this;this.files.map((function(r){var i=r.size;e.size.push(i)}))},e.prototype.deleteFile=function(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){return r=this.files.filter((function(r,i){return i==e&&r})),this.bdsUploadDelete.emit({value:r}),this.files.splice(e,1),this.files=__spreadArray([],this.files,!0),0===this.files.length?this.haveFiles=!1:this.haveFiles=!0,this.bdsUploadChange.emit({value:this.files}),[2]}))}))},e.prototype.deleteAllFiles=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return this.bdsUploadDelete.emit({value:this.files}),this.files=[],0===this.files.length?this.haveFiles=!1:this.haveFiles=!0,this.bdsUploadChange.emit({value:this.files}),[2]}))}))},e.prototype.handleKeyDown=function(e){"Enter"==e.key&&this.inputElement.click()},e.prototype.render=function(){var e=this;return(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"75b9ab94c0e242744c496374646a58ee65497e1d",class:"upload"},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"99b7ac2498015cd22792200b2b1c82dc88266360",class:"upload-header"},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-icon",{key:"652fade557012521ee4f498f9611afaec2eb27be",class:"upload-header_icon",size:"xxx-large",name:"upload"}),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"6f545c24450893eec281155b2793a267827ec793",class:"upload-header_text"},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{key:"6e81eca8c8a2321a50654e8bcc21342b795752f5",variant:"fs-16",bold:"bold","aria-label":this.titleName},this.titleName),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{key:"26508c0f9760c5aed5fdfc2ad9c48c623db0faef",variant:"fs-14",bold:"regular","aria-label":this.subtitle},this.subtitle))),this.error?(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-banner",{context:"inside",variant:"error","aria-label":this.error},this.error):"",this.haveFiles?(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"list-preview"},this.files.map((function(r,i){return(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"upload__preview",key:i,id:"drop-area"},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"preview",id:"preview"},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-icon",{size:"x-small",name:"attach"}),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("p",{class:"preview-text",id:"preview-text","aria-label":r.name},r.name),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button-icon",{class:"preview-icon",size:"short",icon:"trash",variant:"secondary",onClick:function(){return e.deleteFile(i)},"aria-label":"delete ".concat(r.name),"data-test":"".concat(e.dtButtonDelete,"-").concat(i)})))}))),this.multiple?(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{variant:"fs-14",italic:!0,class:"preview-length","aria-label":termTranslate(this.language,"uploaded")},this.files.length>1?"".concat(this.files.length," ").concat(termTranslate(this.language,"uploaded")):""):""):"",(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"c8788cf48357c8e346fcde19d73dd3001102b304",class:{upload__edit:!0}},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"fc04c3ed011c4c301d930c96e8c92f9cc1a912fc",class:{"upload__edit--label":!0,"upload__edit--hover":this.hover},id:"file-label",htmlFor:"file","data-test":this.dtLabelAddFile,tabindex:"0",onKeyDown:this.handleKeyDown.bind(this)},(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"91700be2ece7b2b174d2347a9cf6725960480fd9",class:{"text-box":!0,"text-box--hover":this.hover},id:"file-text_box"},this.hover?(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{class:"text",variant:"fs-14",bold:"regular","aria-label":termTranslate(this.language,"dropHere")},termTranslate(this.language,"dropHere")):(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{class:"text",variant:"fs-14",bold:"regular","aria-label":termTranslate(this.language,"dropOrClick")},termTranslate(this.language,"dropOrClick"))),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("img",{key:"b9aabafa82a31e5a6f33faf84feb8ec3a564c67e",class:{"upload__img--invisible":!0,"upload__img--visible":this.hover},src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzg0IiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMzg0IDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMzc4OF8yMTU2NDApIj4KPGxpbmUgeDE9Ii0xMC45NzY3IiB5MT0iNzQuMzg0MyIgeDI9IjIyLjc3NzgiIHkyPSI1LjE3NzE5IiBzdHJva2U9IiNFN0VERjQiLz4KPGxpbmUgeDE9IjIyLjc3NzciIHkxPSI3NC4zODQzIiB4Mj0iNTYuNTMyMiIgeTI9IjUuMTc3MTkiIHN0cm9rZT0iI0U3RURGNCIvPgo8bGluZSB4MT0iNTYuNTMyIiB5MT0iNzQuMzg0MyIgeDI9IjkwLjI4NjYiIHkyPSI1LjE3NzE5IiBzdHJva2U9IiNFN0VERjQiLz4KPGxpbmUgeDE9IjkwLjI4NjkiIHkxPSI3NC4zODQzIiB4Mj0iMTI0LjA0MiIgeTI9IjUuMTc3MTkiIHN0cm9rZT0iI0U3RURGNCIvPgo8bGluZSB4MT0iMTI0LjA0MSIgeTE9Ijc0LjM4NDMiIHgyPSIxNTcuNzk2IiB5Mj0iNS4xNzcxOSIgc3Ryb2tlPSIjRTdFREY0Ii8+CjxsaW5lIHgxPSIxNTcuNzk2IiB5MT0iNzQuMzg0MyIgeDI9IjE5MS41NTEiIHkyPSI1LjE3NzE5IiBzdHJva2U9IiNFN0VERjQiLz4KPGxpbmUgeDE9IjE5MS41NTEiIHkxPSI3NC4zODQzIiB4Mj0iMjI1LjMwNSIgeTI9IjUuMTc3MTkiIHN0cm9rZT0iI0U3RURGNCIvPgo8bGluZSB4MT0iMjI1LjMwNSIgeTE9Ijc0LjM4NDMiIHgyPSIyNTkuMDYiIHkyPSI1LjE3NzE5IiBzdHJva2U9IiNFN0VERjQiLz4KPGxpbmUgeDE9IjI1OS4wNiIgeTE9Ijc0LjM4NDMiIHgyPSIyOTIuODE0IiB5Mj0iNS4xNzcxOSIgc3Ryb2tlPSIjRTdFREY0Ii8+CjxsaW5lIHgxPSIyOTIuODE0IiB5MT0iNzQuMzg0MyIgeDI9IjMyNi41NjkiIHkyPSI1LjE3NzE5IiBzdHJva2U9IiNFN0VERjQiLz4KPGxpbmUgeDE9IjMyNi41NjkiIHkxPSI3NC4zODQzIiB4Mj0iMzYwLjMyMyIgeTI9IjUuMTc3MTkiIHN0cm9rZT0iI0U3RURGNCIvPgo8bGluZSB4MT0iMzYwLjMyNCIgeTE9Ijc0LjM4NDMiIHgyPSIzOTQuMDc4IiB5Mj0iNS4xNzcxOSIgc3Ryb2tlPSIjRTdFREY0Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMzc4OF8yMTU2NDAiPgo8cmVjdCB3aWR0aD0iMzg0IiBoZWlnaHQ9IjgwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="})),(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"1b43ccb2bbd0f9bcb41fd12f088d16d2f378ad88",ref:this.refInputElement,type:"file",name:"files[]",id:"file",class:"upload__input",multiple:this.multiple,accept:this.internalAccepts.length>0?this.internalAccepts.toString():this.accept,onChange:function(r){return e.onUploadClick(r.target.files)},"data-test":this.dtInputFiles})))},Object.defineProperty(e.prototype,"dropArea",{get:function(){return(0,_index_C3J6Z5OX_js__WEBPACK_IMPORTED_MODULE_0__.a)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{dataAccept:["dataAcceptChanged"],files:["filesChanged"],formatError:["formatErrorChanged"]}},enumerable:!1,configurable:!0}),e}();BdsUpload.style='.upload{min-width:400px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:16px}.upload .upload-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:center;align-items:center;gap:8px;color:var(--color-content-default, rgb(40, 40, 40))}.upload .upload-header_text{color:var(--color-content-default, rgb(40, 40, 40));display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.upload__edit--label{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border:1px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-radius:8px;cursor:pointer;font-weight:normal;-webkit-box-sizing:border-box;box-sizing:border-box;padding:23px 16px;position:relative}.upload__edit--label::before{content:"";position:absolute;inset:-4px;border:2px solid transparent;border-radius:4px}.upload__edit--label:focus-visible{outline:none}.upload__edit--label:focus-visible::before{border-color:var(--color-focus, rgb(194, 38, 251))}.upload__edit--label .upload__img--visible{display:-ms-flexbox;display:flex;width:100%;height:100%;border-radius:8px;position:absolute;background-color:var(--color-surface-2, rgb(237, 237, 237));z-index:1}.upload__edit--label .text-box{display:-ms-flexbox;display:flex;padding:8px;width:100%;text-align:center;z-index:2}.upload__edit--label .text-box .text{color:var(--color-content-default, rgb(40, 40, 40));width:100%;-ms-flex-wrap:wrap;flex-wrap:wrap}.upload__edit--label .text-box--hover{background-color:var(--color-surface-2, rgb(237, 237, 237))}.upload__edit--label .text-box--hover .text{color:var(--color-primary, rgb(30, 107, 241))}.upload__edit--label:hover{border:2px solid var(--color-primary, rgb(30, 107, 241));-webkit-box-sizing:border-box;box-sizing:border-box;padding:22px 16px;cursor:pointer;-webkit-text-decoration:underline var(--color-primary, rgb(30, 107, 241));text-decoration:underline var(--color-primary, rgb(30, 107, 241));color:var(--color-brand, rgb(0, 150, 250))}.upload__edit--label:hover .text{color:var(--color-primary, rgb(30, 107, 241))}.upload__edit--hover{background-size:cover;border:1px dashed var(--color-surface-4, rgb(20, 20, 20));color:var(--color-primary, rgb(30, 107, 241));font-weight:bold;border-radius:8px}.upload__img--invisible{display:none}.list-preview{border-top:1px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-bottom:1px solid var(--color-border-1, rgba(0, 0, 0, 0.2));max-height:200px;overflow-y:auto}.upload__preview{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:16px 0}.upload__preview .preview{display:-ms-flexbox;display:flex;padding:0 16px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;gap:8px}.upload__preview .preview-text{font-family:"Nunito Sans", "Carbona", "Tahoma", "Helvetica", "Arial", sans-serif;font-size:0.875rem;font-weight:700;margin:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%;color:var(--color-content-default, rgb(40, 40, 40))}.upload__preview .preview-icon{color:var(--color-content-default, rgb(40, 40, 40))}.upload__preview .preview-icon:hover{cursor:pointer}.preview-length{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:end;padding-top:16px;text-align:end}.upload__edit input{position:absolute;left:0;top:0;right:0;bottom:0;opacity:0;width:0;height:100%}'}}]);