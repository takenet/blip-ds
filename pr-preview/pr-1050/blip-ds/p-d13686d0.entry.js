import{r as t,h as s,H as i,g as e}from"./p-93b809e8.js";const h=class{constructor(s){t(this,s),this.imageHasLoading=!1,this.src=void 0,this.alt=void 0,this.width=void 0,this.height=void 0,this.objectFit="cover",this.brightness=void 0,this.dataTest=null,this.imageLoaded=!1,this.loadError=!1,this.currentSrc=void 0}componentDidLoad(){this.element.style.width=this.width?this.width:"auto",this.element.style.height=this.height?.length>0?this.height:"auto"}async loadImage(){if(this.src){this.imageHasLoading=!0;try{const t=await fetch(this.src);if(t.ok){const s=await t.blob(),i=URL.createObjectURL(s);this.currentSrc=i,this.imageLoaded=!0,this.imageHasLoading=!1}else this.loadError=!0}catch{this.imageHasLoading=!1,this.loadError=!0}}}render(){return this.imageLoaded||this.loadError||this.loadImage(),s(i,{class:{empty_img:!this.imageLoaded}},this.imageLoaded?s("img",{src:this.currentSrc,alt:this.alt,style:{objectFit:this.objectFit,width:"100%",height:"100%",filter:`brightness(${this.brightness})`},"data-test":this.dataTest,draggable:!1}):this.imageHasLoading?s("bds-skeleton",{shape:"square",width:"100%",height:"100%"}):s("bds-illustration",{class:"img-feedback",type:"empty-states",name:this.loadError?"broken-image":"image-not-found",alt:this.alt,"data-test":this.dataTest}))}get element(){return e(this)}};h.style=":host{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host .img-feedback{height:76%}:host(.empty_img){background-color:var(--color-surface-3, #e3e3e3)}";export{h as bds_image}