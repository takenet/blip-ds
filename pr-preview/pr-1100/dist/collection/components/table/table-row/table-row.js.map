{"version":3,"file":"table-row.js","sourceRoot":"","sources":["../../../../../src/components/table/table-row/table-row.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Host, Prop, Element, State } from '@stencil/core';\n\n@Component({\n  tag: 'bds-table-row',\n  styleUrl: 'table-row.scss',\n  scoped: true,\n})\nexport class TableRow {\n  @Element() private element: HTMLElement;\n  @State() isDense = false;\n  @State() collapse: boolean;\n  @State() isCollapsed = true;\n  @State() colspanNumber: number = null;\n  @State() bdsTable: HTMLBdsTableElement;\n  @State() collapseRow: HTMLBdsTableRowElement;\n  /**\n   * Prop to make hover animation.\n   */\n  @Prop({ mutable: true, reflect: true }) clickable?: boolean = false;\n  /**\n   * Prop to highlight the row selected.\n   */\n  @Prop() selected?: boolean = false;\n  @Prop() bodyCollapse?: string;\n  @Prop() dataTarget?: string;\n\n  toggleCollapse = (target) => {\n    if (this.collapse) {\n      const body = document.querySelector(`[body-collapse=\"${target}\"]`);\n      body.classList.toggle('collapse');\n      this.isCollapsed = !this.isCollapsed;\n    }\n  };\n\n  componentWillLoad() {\n    this.bdsTable = this.element.closest('bds-table');\n    this.collapseRow = document.querySelector(`[body-collapse=\"${this.dataTarget}\"]`);\n    this.colspanNumber = document.querySelector(`bds-table-row`).children.length;\n\n    if (this.bdsTable && (this.bdsTable.getAttribute('dense-table') === 'true' || this.bdsTable.denseTable === true)) {\n      this.isDense = true;\n    }\n    if (this.bdsTable && (this.bdsTable.getAttribute('collapse') === 'true' || this.bdsTable.collapse === true)) {\n      this.collapse = true;\n      this.clickable = true;\n    }\n\n    if (this.collapseRow) {\n      this.collapseRow.classList.add('collapse');\n      this.collapseRow.classList.add('collapse-body');\n    }\n  }\n\n  componentWillUpdate() {\n    const bdsTable = this.element.closest('bds-table');\n    if (bdsTable && (bdsTable.getAttribute('dense-table') === 'true' || bdsTable.denseTable === true)) {\n      this.isDense = true;\n    }\n  }\n\n  render(): HTMLElement {\n    if (this.bodyCollapse) {\n      return (\n        <th colSpan={this.colspanNumber}>\n          <div class=\"collapse-body\">\n            <slot></slot>\n          </div>\n        </th>\n      );\n    } else {\n      const isFirstRow = this.element.closest('bds-table-header') === this.element.parentElement;\n      return (\n        <Host\n          class={{\n            host: true,\n            [`clickable--${this.clickable}`]: !isFirstRow && this.clickable === true ? true : false,\n            [`selected--${this.selected}`]: true,\n            'dense-row': this.isDense,\n          }}\n          onClick={() => this.toggleCollapse(this.dataTarget)}\n        >\n          {this.collapse && (\n            <bds-table-cell type=\"custom\">\n              {!isFirstRow && <bds-icon class={{ arrow: true, active: this.isCollapsed }} name=\"arrow-down\"></bds-icon>}\n            </bds-table-cell>\n          )}\n          <slot />\n        </Host>\n      );\n    }\n  }\n}\n"]}