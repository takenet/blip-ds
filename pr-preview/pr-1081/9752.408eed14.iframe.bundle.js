"use strict";(self.webpackChunkblip_ds=self.webpackChunkblip_ds||[]).push([[9752],{"./dist/esm/bds-pagination.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{bds_pagination:()=>Pagination});var _index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-611fd21e.js"),_position_element_d853cc63_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/position-element-d853cc63.js");const en_US={itemsPerPage:"Items per page",of:"of",items:"items",pages:"pages"},pt_BR={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"},es_MX={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"},Pagination=class{constructor(hostRef){(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.bdsPaginationChange=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsPaginationChange",7),this.bdsItemsPerPageChange=(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"bdsItemsPerPageChange",7),this.pageLoadSize=100,this.nextPage=event=>{if(this.value<this.pages){event.preventDefault();const newValue=this.value+1;newValue>this.loadedPageRange.end&&this.loadMorePages("next"),this.value=newValue,this.updateItemRange()}},this.previewPage=event=>{if(this.value>1){event.preventDefault();const newValue=this.value-1;newValue<this.loadedPageRange.start&&this.loadMorePages("prev"),this.value=newValue,this.updateItemRange()}},this.firstPage=event=>{this.value>1&&(event.preventDefault(),this.loadMorePages("first"),this.value=1,this.updateItemRange())},this.lastPage=event=>{this.value<this.pages&&(event.preventDefault(),this.loadMorePages("last"),this.value=this.pages,this.updateItemRange())},this.openOptions=()=>{this.openSelect=!this.openSelect},this.onBlur=()=>{this.openSelect=!1},this.handleSelectScroll=event=>{const target=event.target,{scrollTop,scrollHeight,clientHeight}=target;scrollTop+clientHeight>=scrollHeight-10&&this.loadedPageRange.end<this.pages&&this.loadMorePagesForScroll("next"),scrollTop<=10&&this.loadedPageRange.start>1&&this.loadMorePagesForScroll("prev")},this.value=this.startedPage,this.itemValue=void 0,this.openSelect=void 0,this.paginationNumbers=[],this.loadedPageRange={start:1,end:100},this.itemsPerPage=void 0,this.intoView=null,this.pages=void 0,this.startedPage=void 0,this.optionsPosition="auto",this.pageCounter=!1,this.itemsPage=void 0,this.numberItems=void 0,this.language="pt_BR",this.dtButtonInitial=null,this.dtButtonPrev=null,this.dtSelectNumber=null,this.dtButtonNext=null,this.dtButtonEnd=null}componentWillLoad(){this.countPage(),this.intoView=(0,_position_element_d853cc63_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.el),this.processItemsPage(),this.pageCounter&&(this.itemValue=this.itemsPage[0]),this.itemSelected(this.itemValue),this.countItem()}componentDidRender(){this.attachScrollListener()}disconnectedCallback(){this.removeScrollListener()}attachScrollListener(){if(this.selectRef){const dropdown=this.selectRef.shadowRoot?.querySelector(".select__options");dropdown&&!dropdown.hasAttribute("data-scroll-listener-attached")&&(dropdown.addEventListener("scroll",this.handleSelectScroll),dropdown.setAttribute("data-scroll-listener-attached","true"))}}removeScrollListener(){if(this.selectRef){const dropdown=this.selectRef.shadowRoot?.querySelector(".select__options");dropdown&&(dropdown.removeEventListener("scroll",this.handleSelectScroll),dropdown.removeAttribute("data-scroll-listener-attached"))}}pagesChanged(){this.countPage()}valueChanged(){this.bdsPaginationChange.emit(this.value)}processItemsPage(){if("string"==typeof this.itemsPage)try{this.itemsPage=JSON.parse(this.itemsPage.replace(/'/g,'"'))}catch(error){this.itemsPage=[]}}countItem(){if(this.pageCounter){const pages=this.numberItems/this.itemValue;this.pages=Math.ceil(pages)}}loadPageRange(targetPage){if(!this.pages)return;const halfRange=Math.floor(this.pageLoadSize/2);let start=Math.max(1,targetPage-halfRange),end=Math.min(this.pages,start+this.pageLoadSize-1);end-start<this.pageLoadSize-1&&(start=Math.max(1,end-this.pageLoadSize+1)),this.loadedPageRange={start,end},this.paginationNumbers=[];for(let i=start;i<=end;i++)this.paginationNumbers.push(i)}loadMorePages(direction){if(!this.pages)return;let newStart=this.loadedPageRange.start,newEnd=this.loadedPageRange.end;switch(direction){case"next":newEnd<this.pages&&(newStart=newEnd+1,newEnd=Math.min(this.pages,newStart+this.pageLoadSize-1));break;case"prev":newStart>1&&(newEnd=newStart-1,newStart=Math.max(1,newEnd-this.pageLoadSize+1));break;case"first":newStart=1,newEnd=Math.min(this.pages,this.pageLoadSize);break;case"last":newEnd=this.pages,newStart=Math.max(1,newEnd-this.pageLoadSize+1)}this.loadedPageRange={start:newStart,end:newEnd},this.paginationNumbers=[];for(let i=newStart;i<=newEnd;i++)this.paginationNumbers.push(i)}countPage(){if(0!==this.paginationNumbers.length&&(this.paginationNumbers=[]),0===this.paginationNumbers.length){const endPage=Math.min(this.pageLoadSize,this.pages||0);this.loadedPageRange={start:1,end:endPage};for(let i=this.loadedPageRange.start;i<=this.loadedPageRange.end;i++)this.paginationNumbers.push(i);this.startedPage&&this.startedPage<this.pages?(this.value=this.startedPage,this.startedPage>this.loadedPageRange.end&&this.loadPageRange(this.startedPage)):this.value=this.paginationNumbers[0]}}optionSelected(index){(index<this.loadedPageRange.start||index>this.loadedPageRange.end)&&this.loadPageRange(index),this.value=index,this.openOptions(),this.updateItemRange()}loadMorePagesForScroll(direction){if(!this.pages)return;let newStart=this.loadedPageRange.start,newEnd=this.loadedPageRange.end;if("next"===direction&&newEnd<this.pages){newEnd=Math.min(this.pages,newEnd+50),this.loadedPageRange={start:newStart,end:newEnd};for(let i=this.loadedPageRange.end-50+1;i<=newEnd;i++)i>0&&!this.paginationNumbers.includes(i)&&this.paginationNumbers.push(i)}else if("prev"===direction&&newStart>1){newStart=Math.max(1,newStart-50),this.loadedPageRange={start:newStart,end:newEnd};const newPages=[];for(let i=newStart;i<this.loadedPageRange.start+50;i++)i>0&&!this.paginationNumbers.includes(i)&&newPages.push(i);this.paginationNumbers=[...newPages,...this.paginationNumbers]}this.paginationNumbers=[...this.paginationNumbers]}itemSelected(index){this.itemValue=index,this.itemsPerPage=index,this.openOptions(),this.countItem(),this.updateItemRange(),this.bdsItemsPerPageChange.emit(this.itemsPerPage)}updateItemRange(){this.startItem=(this.value-1)*this.itemsPerPage+1,this.endItem=Math.min(this.value*this.itemsPerPage,this.numberItems)}get currentLanguage(){switch(this.language){case"en_US":return en_US;case"es_MX":return es_MX;default:return pt_BR}}render(){const{currentLanguage}=this;return(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.H,{class:{full_width:this.pageCounter}},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{"justify-content":"space-between"},this.itemsPerPage&&this.itemsPage&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{gap:"1","align-items":"center",class:"items_per_page"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{variant:"fs-14"},currentLanguage.itemsPerPage,":"),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-select",{class:"actions_select",value:this.itemValue,"options-position":this.optionsPosition},this.itemsPage?.map(((el,index)=>(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-select-option",{key:index,value:el,onClick:()=>this.itemSelected(el)},el)))),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{variant:"fs-14","no-wrap":"true"},this.startItem,"-",this.endItem," ",currentLanguage.of," ",this.numberItems)),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-grid",{gap:"1","align-items":"center",class:"actions"},(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button-icon",{onBdsClick:ev=>this.firstPage(ev),size:"short",variant:"secondary",icon:"arrow-first",dataTest:this.dtButtonInitial}),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button-icon",{onBdsClick:ev=>this.previewPage(ev),size:"short",variant:"secondary",icon:"arrow-left",dataTest:this.dtButtonPrev}),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-select",{ref:el=>this.selectRef=el,class:"actions_select",value:this.value,"options-position":this.optionsPosition},this.paginationNumbers.map(((el,index)=>(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-select-option",{key:index,value:el,onClick:()=>this.optionSelected(el)},el)))),this.pageCounter&&(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-typo",{class:"actions--text",variant:"fs-14","no-wrap":"true"},currentLanguage.of," ",this.pages," ",currentLanguage.pages),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button-icon",{onBdsClick:ev=>this.nextPage(ev),size:"short",variant:"secondary",icon:"arrow-right",dataTest:this.dtButtonNext}),(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.h)("bds-button-icon",{onBdsClick:ev=>this.lastPage(ev),size:"short",variant:"secondary",icon:"arrow-last",dataTest:this.dtButtonEnd}))))}get el(){return(0,_index_611fd21e_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{pages:["pagesChanged"],startedPage:["pagesChanged"],value:["valueChanged"],itemValue:["itemSelected"]}}};Pagination.style=":host{display:block}:host .actions_select{width:74px}:host(.full_width){width:100%}@media screen and (max-width: 905px){.items_per_page{display:none}.actions{width:100%;-ms-flex-pack:center;justify-content:center}}@media screen and (max-width: 600px){.actions--text{display:none}}"},"./dist/esm/position-element-d853cc63.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>getHighestItem,b:()=>gapChanged,c:()=>getItems,d:()=>positionElement,e:()=>getParentsUntil,g:()=>getScrollParent,p:()=>positionAbsoluteElement});const getScrollParent=node=>null===node?null:node.classList.contains("element_scrolled")||"BODY"===node?.tagName?node:getScrollParent(node.offsetParent);function getParentsUntil(element,stopSelector){const parents=[element];for(;element&&!element.matches(stopSelector);)element=element.parentElement,parents.push(element);return parents}function positionElement({actionElement,changedElement,intoView}){const body=intoView||document.body,parentElement=body.offsetParent,contentScrolled=!!body.classList.contains("element_scrolled"),positionTop=contentScrolled?actionElement.offsetTop-body.scrollTop+parentElement.offsetTop:actionElement.offsetTop-window.scrollY,positionLeft=contentScrolled?actionElement.offsetLeft+parentElement.offsetLeft:actionElement.offsetLeft,changedpositionTop=changedElement?.offsetHeight>window.innerHeight-positionTop?positionTop-changedElement?.offsetHeight-16:positionTop+actionElement?.offsetHeight+16,changedpositionLeft=changedElement?.offsetWidth>window.innerWidth-positionLeft?positionLeft+actionElement?.offsetWidth-changedElement?.offsetWidth:positionLeft,limitedHeightScreen=window.innerHeight-changedElement?.offsetHeight,limitedWidthScreen=window.innerWidth-changedElement?.offsetWidth;return{top:changedpositionTop<8?8:changedpositionTop>limitedHeightScreen?limitedHeightScreen-8:changedpositionTop,left:changedpositionLeft<0?0:changedpositionLeft>limitedWidthScreen?limitedWidthScreen:changedpositionLeft}}function positionAbsoluteElement({actionElement,changedElement,intoView}){const body=intoView||document.body,numberHeignt=body.offsetHeight<changedElement.offsetHeight?window.screen.height:body.offsetHeight,numberWidth=body.offsetWidth<changedElement.offsetWidth?window.screen.width:body.offsetWidth,heightTop=numberHeignt-actionElement.offsetTop,widthLeft=numberWidth-actionElement.offsetLeft;return{y:heightTop<changedElement.offsetHeight+actionElement.offsetHeight?"top":"bottom",x:widthLeft<changedElement.offsetWidth?"right":"left"}}const getItems=itenslenght=>{const items=[];let item=1;for(;item<=itenslenght;){const newItem={id:item,label:`Frame - ${item}`};items.push(newItem),item++}return items},getHighestItem=items=>{var maxoffsetHeight=Math.max.apply(null,items.map((a=>a.offsetHeight)));return items.filter((a=>a.offsetHeight==maxoffsetHeight)).map((a=>a.offsetHeight))},gapChanged=gap=>{let spaceGap;switch(gap){case"none":default:spaceGap=0;break;case"half":spaceGap=4;break;case"1":spaceGap=8;break;case"2":spaceGap=16;break;case"3":spaceGap=24;break;case"4":spaceGap=32;break;case"5":spaceGap=40;break;case"6":spaceGap=48;break;case"7":spaceGap=56;break;case"8":spaceGap=64;break;case"9":spaceGap=72;break;case"10":spaceGap=80;break;case"11":spaceGap=88;break;case"12":spaceGap=96}return spaceGap}}}]);