var __spreadArray=this&&this.__spreadArray||function(e,t,a){if(a||arguments.length===2)for(var i=0,s=t.length,n;i<s;i++){if(n||!(i in t)){if(!n)n=Array.prototype.slice.call(t,0,i);n[i]=t[i]}}return e.concat(n||Array.prototype.slice.call(t))};System.register(["./p-d105fb25.system.js","./p-e82e855f.system.js"],(function(e){"use strict";var t,a,i,s,n,r;return{setters:[function(e){t=e.r;a=e.c;i=e.h;s=e.H;n=e.g},function(e){r=e.g}],execute:function(){var o={itemsPerPage:"Items per page",of:"of",items:"items",pages:"pages"};var h={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var l={itemsPerPage:"Itens por p치gina",of:"de",items:"itens",pages:"p치ginas"};var g=":host{display:block}:host .actions_select{width:74px}:host(.full_width){width:100%}@media screen and (max-width: 905px){.items_per_page{display:none}.actions{width:100%;-ms-flex-pack:center;justify-content:center}}@media screen and (max-width: 600px){.actions--text{display:none}}";var d=e("bds_pagination",function(){function e(e){var i=this;t(this,e);this.bdsPaginationChange=a(this,"bdsPaginationChange",7);this.bdsItemsPerPageChange=a(this,"bdsItemsPerPageChange",7);this.pageLoadSize=100;this.nextPage=function(e){var t=i.value;if(t<i.pages){e.preventDefault();var a=i.value+1;if(a>i.loadedPageRange.end){i.loadMorePages("next")}i.value=a;i.updateItemRange()}};this.previewPage=function(e){var t=i.value;if(t>1){e.preventDefault();var a=i.value-1;if(a<i.loadedPageRange.start){i.loadMorePages("prev")}i.value=a;i.updateItemRange()}};this.firstPage=function(e){var t=i.value;if(t>1){e.preventDefault();i.loadMorePages("first");i.value=1;i.updateItemRange()}};this.lastPage=function(e){var t=i.value;if(t<i.pages){e.preventDefault();i.loadMorePages("last");i.value=i.pages;i.updateItemRange()}};this.openOptions=function(){i.openSelect=!i.openSelect};this.onBlur=function(){i.openSelect=false};this.handleSelectScroll=function(e){var t=e.target;var a=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;if(a+n>=s-10){if(i.loadedPageRange.end<i.pages){i.loadMorePagesForScroll("next")}}if(a<=10){if(i.loadedPageRange.start>1){i.loadMorePagesForScroll("prev")}}};this.value=this.startedPage;this.itemValue=undefined;this.openSelect=undefined;this.paginationNumbers=[];this.loadedPageRange={start:1,end:100};this.itemsPerPage=undefined;this.intoView=null;this.pages=undefined;this.startedPage=undefined;this.optionsPosition="auto";this.pageCounter=false;this.itemsPage=undefined;this.numberItems=undefined;this.language="pt_BR";this.dtButtonInitial=null;this.dtButtonPrev=null;this.dtSelectNumber=null;this.dtButtonNext=null;this.dtButtonEnd=null}e.prototype.componentWillLoad=function(){this.countPage();this.intoView=r(this.el);this.processItemsPage();if(this.pageCounter){this.itemValue=this.itemsPage[0]}this.itemSelected(this.itemValue);this.countItem()};e.prototype.componentDidRender=function(){this.attachScrollListener()};e.prototype.disconnectedCallback=function(){this.removeScrollListener()};e.prototype.attachScrollListener=function(){var e;if(this.selectRef){var t=(e=this.selectRef.shadowRoot)===null||e===void 0?void 0:e.querySelector(".select__options");if(t&&!t.hasAttribute("data-scroll-listener-attached")){t.addEventListener("scroll",this.handleSelectScroll);t.setAttribute("data-scroll-listener-attached","true")}}};e.prototype.removeScrollListener=function(){var e;if(this.selectRef){var t=(e=this.selectRef.shadowRoot)===null||e===void 0?void 0:e.querySelector(".select__options");if(t){t.removeEventListener("scroll",this.handleSelectScroll);t.removeAttribute("data-scroll-listener-attached")}}};e.prototype.pagesChanged=function(){this.countPage()};e.prototype.valueChanged=function(){this.bdsPaginationChange.emit(this.value)};e.prototype.processItemsPage=function(){if(typeof this.itemsPage==="string"){try{this.itemsPage=JSON.parse(this.itemsPage.replace(/'/g,'"'))}catch(e){this.itemsPage=[]}}};e.prototype.countItem=function(){if(this.pageCounter){var e=this.numberItems/this.itemValue;this.pages=Math.ceil(e)}};e.prototype.loadPageRange=function(e){if(!this.pages)return;var t=Math.floor(this.pageLoadSize/2);var a=Math.max(1,e-t);var i=Math.min(this.pages,a+this.pageLoadSize-1);if(i-a<this.pageLoadSize-1){a=Math.max(1,i-this.pageLoadSize+1)}this.loadedPageRange={start:a,end:i};this.paginationNumbers=[];for(var s=a;s<=i;s++){this.paginationNumbers.push(s)}};e.prototype.loadMorePages=function(e){if(!this.pages)return;var t=this.loadedPageRange.start;var a=this.loadedPageRange.end;switch(e){case"next":if(a<this.pages){t=a+1;a=Math.min(this.pages,t+this.pageLoadSize-1)}break;case"prev":if(t>1){a=t-1;t=Math.max(1,a-this.pageLoadSize+1)}break;case"first":t=1;a=Math.min(this.pages,this.pageLoadSize);break;case"last":a=this.pages;t=Math.max(1,a-this.pageLoadSize+1);break}this.loadedPageRange={start:t,end:a};this.paginationNumbers=[];for(var i=t;i<=a;i++){this.paginationNumbers.push(i)}};e.prototype.countPage=function(){if(this.paginationNumbers.length!==0){this.paginationNumbers=[]}if(this.paginationNumbers.length===0){var e=Math.min(this.pageLoadSize,this.pages||0);this.loadedPageRange={start:1,end:e};for(var t=this.loadedPageRange.start;t<=this.loadedPageRange.end;t++){this.paginationNumbers.push(t)}if(this.startedPage&&this.startedPage<this.pages){this.value=this.startedPage;if(this.startedPage>this.loadedPageRange.end){this.loadPageRange(this.startedPage)}}else{this.value=this.paginationNumbers[0]}}};e.prototype.optionSelected=function(e){if(e<this.loadedPageRange.start||e>this.loadedPageRange.end){this.loadPageRange(e)}this.value=e;this.openOptions();this.updateItemRange()};e.prototype.loadMorePagesForScroll=function(e){if(!this.pages)return;var t=50;var a=this.loadedPageRange.start;var i=this.loadedPageRange.end;if(e==="next"&&i<this.pages){i=Math.min(this.pages,i+t);this.loadedPageRange={start:a,end:i};for(var s=this.loadedPageRange.end-t+1;s<=i;s++){if(s>0&&!this.paginationNumbers.includes(s)){this.paginationNumbers.push(s)}}}else if(e==="prev"&&a>1){a=Math.max(1,a-t);this.loadedPageRange={start:a,end:i};var n=[];for(var s=a;s<this.loadedPageRange.start+t;s++){if(s>0&&!this.paginationNumbers.includes(s)){n.push(s)}}this.paginationNumbers=__spreadArray(__spreadArray([],n,true),this.paginationNumbers,true)}this.paginationNumbers=__spreadArray([],this.paginationNumbers,true)};e.prototype.itemSelected=function(e){this.itemValue=e;this.itemsPerPage=e;this.openOptions();this.countItem();this.updateItemRange();this.bdsItemsPerPageChange.emit(this.itemsPerPage)};e.prototype.updateItemRange=function(){this.startItem=(this.value-1)*this.itemsPerPage+1;this.endItem=Math.min(this.value*this.itemsPerPage,this.numberItems)};Object.defineProperty(e.prototype,"currentLanguage",{get:function(){switch(this.language){case"en_US":return o;case"es_MX":return l;default:return h}},enumerable:false,configurable:true});e.prototype.render=function(){var e=this;var t;var a=this.currentLanguage;return i(s,{class:{full_width:this.pageCounter}},i("bds-grid",{"justify-content":"space-between"},this.itemsPerPage&&this.itemsPage&&i("bds-grid",{gap:"1","align-items":"center",class:"items_per_page"},i("bds-typo",{variant:"fs-14"},a.itemsPerPage,":"),i("bds-select",{class:"actions_select",value:this.itemValue,"options-position":this.optionsPosition},(t=this.itemsPage)===null||t===void 0?void 0:t.map((function(t,a){return i("bds-select-option",{key:a,value:t,onClick:function(){return e.itemSelected(t)}},t)}))),i("bds-typo",{variant:"fs-14","no-wrap":"true"},this.startItem,"-",this.endItem," ",a.of," ",this.numberItems)),i("bds-grid",{gap:"1","align-items":"center",class:"actions"},i("bds-button-icon",{onBdsClick:function(t){return e.firstPage(t)},size:"short",variant:"secondary",icon:"arrow-first",dataTest:this.dtButtonInitial}),i("bds-button-icon",{onBdsClick:function(t){return e.previewPage(t)},size:"short",variant:"secondary",icon:"arrow-left",dataTest:this.dtButtonPrev}),i("bds-select",{ref:function(t){return e.selectRef=t},class:"actions_select",value:this.value,"options-position":this.optionsPosition},this.paginationNumbers.map((function(t,a){return i("bds-select-option",{key:a,value:t,onClick:function(){return e.optionSelected(t)}},t)}))),this.pageCounter&&i("bds-typo",{class:"actions--text",variant:"fs-14","no-wrap":"true"},a.of," ",this.pages," ",a.pages),i("bds-button-icon",{onBdsClick:function(t){return e.nextPage(t)},size:"short",variant:"secondary",icon:"arrow-right",dataTest:this.dtButtonNext}),i("bds-button-icon",{onBdsClick:function(t){return e.lastPage(t)},size:"short",variant:"secondary",icon:"arrow-last",dataTest:this.dtButtonEnd}))))};Object.defineProperty(e.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{pages:["pagesChanged"],startedPage:["pagesChanged"],value:["valueChanged"],itemValue:["itemSelected"]}},enumerable:false,configurable:true});return e}());d.style=g}}}));