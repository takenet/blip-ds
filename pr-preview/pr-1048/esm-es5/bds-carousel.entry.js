var __awaiter=this&&this.__awaiter||function(e,t,i,s){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(t){o(t)}}function a(e){try{l(s["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):n(e.value).then(r,a)}l((s=s.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,n,o,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(a){if(s)throw new TypeError("Generator is already executing.");while(r&&(r=0,a[0]&&(i=0)),i)try{if(s=1,n&&(o=a[0]&2?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;if(n=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:false};case 5:i.label++;n=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){i=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(a[0]===6&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}if(o[2])i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(l){a=[6,l];n=0}finally{s=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var s=0,n=t.length,o;s<n;s++){if(o||!(s in t)){if(!o)o=Array.prototype.slice.call(t,0,s);o[s]=t[s]}}return e.concat(o||Array.prototype.slice.call(t))};import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-611fd21e.js";import{a as getHighestItem,b as gapChanged,c as getItems}from"./position-element-d853cc63.js";var carouselCss=':host{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative}.carousel{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;max-width:1920px;position:relative}.carousel_slide{width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 48px}.carousel_slide::after{content:"";position:absolute;inset:-8px;border:2px solid transparent;border-radius:4px;pointer-events:none}.carousel_slide:focus-visible{outline:none}.carousel_slide:focus-visible::after{border-color:var(--color-focus, #c226fb)}.carousel_slide_fullwidth{padding:0}.carousel_slide_frame{width:100%;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-transition:height ease-in-out 0.5s;-moz-transition:height ease-in-out 0.5s;transition:height ease-in-out 0.5s}.carousel_slide_frame_loading{opacity:0;pointer-events:none}.carousel_slide_frame *{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none}.carousel_slide_frame *[slot=loop]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_frame_repeater{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_loading{opacity:0;pointer-events:none;position:absolute;inset:0}.carousel_slide_loading_visible{opacity:1;pointer-events:all}.carousel_loading_bar{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 60px;margin-top:8px}.carousel_loading_bar_fullwidth{padding:0 4px}.carousel_buttons{position:absolute;width:100%;height:0px;top:calc(50% - 20px);left:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box}.carousel_buttons_fullwidth{padding:0 8px}.carousel_bullets{position:relative;margin-top:8px}.carousel_bullets_inside{position:absolute;bottom:0px;width:100%;margin:0;padding:0px 16px;-webkit-box-sizing:border-box;box-sizing:border-box}.carousel_bullets_card{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:-ms-inline-flexbox;display:inline-flex;gap:8px}.carousel_bullets_card_inside{border-top-left-radius:8px;border-top-right-radius:8px;padding:8px;background-color:var(--color-surface-0, white)}.carousel_bullets_item{width:16px;height:16px;border:2px solid var(--color-border-1, rgba(0, 0, 0, 0.2));border-radius:50%;position:relative;-webkit-transform:rotate(45deg);transform:rotate(45deg);cursor:pointer}.carousel_bullets_item::before{content:"";position:absolute;inset:4px;border-radius:50%}.carousel_bullets_item::after{content:"";position:absolute;inset:-8px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border:2px solid transparent;border-radius:4px}.carousel_bullets_item:focus-visible{outline:none}.carousel_bullets_item:focus-visible::after{border-color:var(--color-focus, #c226fb)}.carousel_bullets_item_active::before{background-color:var(--color-primary, #1e6bf1)}.carousel_bullets_item_conclude{position:absolute;inset:-2px;border-radius:50%;border:2px solid var(--color-content-disable, #595959)}.carousel_bullets_item_loader{position:absolute;inset:-2px;border-radius:50%;border:2px solid var(--color-primary, #1e6bf1);-webkit-animation:l18 linear;animation:l18 linear}@-webkit-keyframes l18{0%{-webkit-clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0);clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0)}25%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0)}50%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%)}75%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%)}100%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0)}}@keyframes l18{0%{-webkit-clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0);clip-path:polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0)}25%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0)}50%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%)}75%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%)}100%{-webkit-clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0);clip-path:polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0)}}';var BdsCarousel=function(){function e(e){var t=this;registerInstance(this,e);this.bdsChangeCarousel=createEvent(this,"bdsChangeCarousel",7);this.itemsElement=null;this.bulletElement=null;this.bulletElements=[];this.setInternalItens=function(e){var i=Math.floor(e.length/t.slidePerPage);var s=e.length/t.slidePerPage;var n=getItems(s);t.internalItens=n;t.isWhole=e.length-t.slidePerPage*i};this.startCountSeconds=function(){if(t.autoplay){t.incrementSeconds=setInterval((function(){t.seconds+=.1}),100)}};this.updateHeight=function(e){var i=e[t.itemActivated*t.slidePerPage-t.slidePerPage];var s=240;if(t.slidePerPage>1){var n=t.isWhole>0&&t.itemActivated==t.internalItens.length?e.slice(t.internalItens.length-t.internalItens.length-t.slidePerPage,t.itemActivated*t.slidePerPage):e.slice(t.itemActivated*t.slidePerPage-t.slidePerPage,t.itemActivated*t.slidePerPage);s=getHighestItem(n)[0]}else{s=i.offsetHeight}t.frame.style.height="".concat(s,"px")};this.refFrame=function(e){t.frame=e};this.refThemeProviderArrows=function(e){t.themeProviderArrows=e};this.refFrameRepeater=function(e){t.frameRepeater=e};this.refBulletElement=function(e){if(e){t.bulletElement=e;t.bulletElements.push(e)}};this.onMouseOver=function(){if(t.autoplayHoverPause){t.pauseAutoplay()}};this.onMouseOut=function(){if(t.autoplayHoverPause){t.runAutoplay()}};this.onMouseDown=function(e){if(t.grab){t.framePressed=true;var i=t.frame.offsetLeft+t.element.offsetLeft;t.startX=e.pageX-i;t.endX=e.pageX-i;t.frame.style.cursor="grabbing"}};this.onMouseEnter=function(){if(t.grab){t.frame.style.cursor="grab"}};this.onMouseUp=function(){if(t.grab){t.framePressed=false;t.frame.style.cursor="grab";t.boundItems();if(t.autoplayHoverPause){t.pauseAutoplay()}}};this.onMouseMove=function(e){if(t.grab){if(!t.framePressed)return;e.preventDefault();var i=t.frame.offsetLeft+t.element.offsetLeft;t.endX=e.pageX-i}};this.boundItems=function(){if(t.endX<t.startX){t.nextSlide();t.seconds=0}else if(t.endX>t.startX){t.prevSlide();t.seconds=0}};this.setKeydownNavigation=function(e){if(e.key==="Tab"){if(t.bulletElements.length>0){t.bulletElements[0].focus()}else if(t.bulletElement){t.bulletElement.focus()}}if(e.key==="ArrowRight"){t.nextSlide()}if(e.key==="ArrowLeft"){t.prevSlide()}};this.itemActivated=1;this.seconds=0;this.internalItens=undefined;this.isWhole=0;this.heightCarousel=240;this.framePressed=false;this.startX=undefined;this.endX=undefined;this.autoplayState="running";this.autoplay=false;this.autoplayTimeout=5e3;this.autoplayHoverPause=false;this.autoHeight=false;this.bullets="outside";this.bulletsPosition="center";this.infiniteLoop=false;this.arrows="outside";this.slidePerPage=1;this.gap="none";this.grab=true;this.loading=false;this.dtSlideContent=null;this.dtButtonPrev=null;this.dtButtonNext=null;this.secondsLimit=this.autoplayTimeout/1e3}e.prototype.componentWillLoad=function(){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item");this.setInternalItens(Array.from(this.itemsElement));if(this.bullets==true){this.bullets="outside"}if(this.bullets==false){this.bullets="none"}};e.prototype.componentDidRender=function(){if(!this.loading){if(this.gap!="none"){this.frame.style.width="calc(100% + ".concat(gapChanged(this.gap),"px)");this.frame.style.marginLeft="-".concat(gapChanged(this.gap)/2,"px")}for(var e=0;e<this.itemsElement.length;e++){var t=this.frame.offsetWidth>=1920?1920:this.frame.offsetWidth;this.itemsElement[e].style.width="".concat(t/this.slidePerPage,"px");this.itemsElement[e].style.padding="0 ".concat(gapChanged(this.gap)/2,"px")}if(this.autoHeight)this.updateHeight(Array.from(this.itemsElement))}if(this.arrows=="inside"){var i=(this.itemActivated-1)*(this.itemsElement.length/this.internalItens.length)+1;this.themeProviderArrows.theme=this.slidePerPage<=1?this.itemsElement[this.itemActivated-1].theme:this.itemsElement[Math.round(i)].theme}};e.prototype.componentDidLoad=function(){this.startCountSeconds()};e.prototype.itemActivatedChanged=function(){var e=this;var t=this.internalItens.find((function(t){return t.id===e.itemActivated}));var i=!this.frame?0:this.frame.offsetWidth*(this.itemActivated-1);if(this.frameRepeater){if(t.isWhole){var s=this.itemsElement[1].offsetWidth*(this.slidePerPage-this.isWhole);this.frameRepeater.style.right="".concat(i-s,"px")}else{this.frameRepeater.style.right="".concat(i,"px")}}this.bdsChangeCarousel.emit({value:t})};e.prototype.autoplayTimeoutChanged=function(){this.secondsLimit=this.autoplayTimeout/1e3};e.prototype.secondsChanged=function(){if(this.seconds>=this.secondsLimit){this.nextSlide();this.seconds=0}};e.prototype.isWholeChanged=function(){var e,t;if(this.internalItens!=undefined){if(this.isWhole>0){var i={id:((e=this.internalItens)===null||e===void 0?void 0:e.length)+1,label:"Frame - ".concat(((t=this.internalItens)===null||t===void 0?void 0:t.length)+1),isWhole:true};this.internalItens=__spreadArray(__spreadArray([],this.internalItens,true),[i],false)}}};e.prototype.buildCarousel=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item");this.loading=true;setTimeout((function(){return e.setInternalItens(Array.from(e.itemsElement)),e.loading=false,e.setActivated(1)}),1e3);return[2]}))}))};e.prototype.nextSlide=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.itemActivated==this.internalItens.length){if(this.infiniteLoop||this.autoplay){this.itemActivated=1}else{this.itemActivated=this.itemActivated}}else{this.itemActivated=this.itemActivated+1}clearInterval(this.incrementSeconds);this.seconds=0;this.startCountSeconds();return[2]}))}))};e.prototype.prevSlide=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.itemActivated==1){if(this.infiniteLoop||this.autoplay){this.itemActivated=this.internalItens.length}else{this.itemActivated=this.itemActivated}}else{this.itemActivated=this.itemActivated-1}clearInterval(this.incrementSeconds);this.seconds=0;this.startCountSeconds();return[2]}))}))};e.prototype.setActivated=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.itemActivated=e;clearInterval(this.incrementSeconds);this.seconds=0;this.startCountSeconds();this.autoplayState="running";return[2]}))}))};e.prototype.pauseAutoplay=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){clearInterval(this.incrementSeconds);this.autoplayState="paused";return[2]}))}))};e.prototype.runAutoplay=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.startCountSeconds();this.autoplayState="running";return[2]}))}))};e.prototype.render=function(){var e;var t=this;this.bulletElements=[];var i=this.arrows=="inside"?"bds-theme-provider":"div";var s=this.bulletsPosition=="center"?"center":this.bulletsPosition=="right"?"flex-end":this.bulletsPosition=="left"&&"flex-start";return h("div",{class:{carousel:true}},h("div",{class:(e={carousel_slide:true,carousel_slide_fullwidth:this.arrows!="outside"},e["carousel_slide_state_".concat(this.autoplayState)]=this.autoplay,e),tabindex:"0",onKeyDown:function(e){return t.setKeydownNavigation(e)},"data-test":this.dtSlideContent},h("div",{ref:function(e){return t.refFrame(e)},class:{carousel_slide_frame:true,carousel_slide_frame_loading:this.loading},onMouseOver:function(){return t.onMouseOver()},onMouseOut:function(){return t.onMouseOut()},onMouseDown:function(e){return t.onMouseDown(e)},onMouseEnter:function(){return t.onMouseEnter()},onMouseUp:function(){return t.onMouseUp()},onMouseMove:function(e){return t.onMouseMove(e)}},h("div",{ref:function(e){return t.refFrameRepeater(e)},class:{carousel_slide_frame_repeater:true}},h("slot",null))),h("bds-grid",{class:{carousel_slide_loading:true,carousel_slide_loading_visible:this.loading}},h("bds-skeleton",{height:"100%",shape:"square",width:"100%"})),this.arrows!="none"&&!this.loading&&h(i,{ref:function(e){return t.refThemeProviderArrows(e)},class:{carousel_buttons:true,carousel_buttons_fullwidth:this.arrows!="outside"}},h("bds-button",{variant:"text",iconLeft:"arrow-left",color:"content",onBdsClick:function(){return t.prevSlide()},disabled:!this.infiniteLoop&&this.itemActivated<=1,dataTest:this.dtButtonPrev}),h("bds-button",{variant:"text",iconLeft:"arrow-right",color:"content",onBdsClick:function(){return t.nextSlide()},disabled:!this.infiniteLoop&&this.itemActivated>=this.internalItens.length,dataTest:this.dtButtonNext}))),this.internalItens.length>1&&this.bullets!="none"&&h("div",{class:{carousel_bullets:true,carousel_bullets_inside:this.bullets=="inside"}},this.loading&&this.bullets!="inside"?h("bds-grid",{xxs:"12",gap:"1","justify-content":s,padding:this.arrows==="outside"?"x-7":"none"},h("bds-skeleton",{height:"16px",width:"16px",shape:"circle"}),h("bds-skeleton",{height:"16px",width:"16px",shape:"circle"}),h("bds-skeleton",{height:"16px",width:"16px",shape:"circle"})):this.internalItens&&h("bds-grid",{xxs:"12","justify-content":s,padding:this.arrows==="outside"?"x-7":"none"},h("div",{class:{carousel_bullets_card:true,carousel_bullets_card_inside:this.bullets=="inside"}},this.internalItens.map((function(e,i){return h("div",{key:i,ref:function(e){return t.refBulletElement(e)},class:{carousel_bullets_item:true,carousel_bullets_item_active:e.id==t.itemActivated},tabindex:"0",onClick:function(){return t.setActivated(e.id)}},e.id<t.itemActivated&&t.autoplay&&h("div",{class:{carousel_bullets_item_conclude:true}}),e.id==t.itemActivated&&t.autoplay&&h("div",{class:{carousel_bullets_item_loader:true},style:{animationDuration:"".concat(t.autoplayTimeout/1e3-.1,"s"),animationPlayState:t.autoplayState}}))}))))),h("slot",{name:"after"}))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{itemActivated:["itemActivatedChanged"],autoplayTimeout:["autoplayTimeoutChanged"],seconds:["secondsChanged"],isWhole:["isWholeChanged"]}},enumerable:false,configurable:true});return e}();BdsCarousel.style=carouselCss;export{BdsCarousel as bds_carousel};