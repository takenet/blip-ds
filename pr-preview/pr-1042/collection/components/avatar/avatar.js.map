{"version":3,"file":"avatar.js","sourceRoot":"","sources":["../../../../src/components/avatar/avatar.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAgB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,eAAe,CAAC;AAG9F,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAU7C,MAAM,OAAO,SAAS;IALtB;QAOU,aAAQ,GAAc,OAAO,CAAC;QAC9B,aAAQ,GAAc,OAAO,CAAC;QAEtC;;WAEG;QACK,SAAI,GAAY,IAAI,CAAC;QAC7B;;WAEG;QACsB,cAAS,GAAY,IAAI,CAAC;QACnD;;;WAGG;QACK,SAAI,GAAgB,UAAU,CAAC;QACvC;;;WAGG;QACK,UAAK,GAAY,aAAa,CAAC;QACvC;;WAEG;QACK,WAAM,GAAa,KAAK,CAAC;QACjC;;WAEG;QACK,eAAU,GAAa,KAAK,CAAC;QACrC;;WAEG;QACK,aAAQ,GAAY,IAAI,CAAC;QAEjC;;WAEG;QACK,aAAQ,GAAY,IAAI,CAAC;QAYjC,qBAAgB,GAAG,CAAC,CAAC,EAAE,EAAE;YACvB,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAC7D,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;gBACzF,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,CAAC;QAoBM,mBAAc,GAAG,CAAC,KAAK,EAAQ,EAAE;YACvC,QAAQ,KAAK,EAAE,CAAC;gBACd,KAAK,OAAO;oBACV,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;oBAC3B,MAAM;gBACR,KAAK,aAAa;oBAChB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;oBAC1B,MAAM;gBACR,KAAK,OAAO;oBACV,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBACzB,MAAM;gBACR,KAAK,UAAU;oBACb,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;oBAC1B,MAAM;gBACR,KAAK,OAAO;oBACV,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;oBAC5B,MAAM;gBACR,KAAK,aAAa;oBAChB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;oBAC5B,MAAM;gBACR;oBACE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC7B,CAAC;QACH,CAAC,CAAC;QAEM,kBAAa,GAAG,CAAC,MAAc,EAAE,EAAE;YACzC,IAAI,IAAI,CAAC,KAAK,IAAI,aAAa,EAAE,CAAC;gBAChC,OAAO,IAAI,CAAC,KAAK,CAAC;YACpB,CAAC;iBAAM,IAAI,MAAM,EAAE,CAAC;gBAClB,MAAM,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC,CAAC;gBACvE,OAAO,YAAY,CAAC,KAAK,CAAC;YAC5B,CAAC;QACH,CAAC,CAAC;KAiHH;IAzLS,aAAa,CAAC,CAAC;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACpB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC;IASO,iBAAiB,CAAC,KAAK;QAC7B,MAAM,SAAS,GAAG,KAAK,CAAC,MAA0B,CAAC;QACnD,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAE9B,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC9B,MAAM,YAAY,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAEhC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE;gBACpB,MAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,MAAgB,CAAC;gBAC3C,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrC,CAAC,CAAC;YAEF,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QACrC,CAAC;IACH,CAAC;IA2CD,mBAAmB;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IACxF,CAAC;IAED,MAAM;QACJ,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,MAAM,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACpF,MAAM,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACjF,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,MAAM,cAAc,GAAG;YACrB,eAAe,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,GAAG;SACjE,CAAC;QAEF,OAAO,CACL,EAAC,IAAI;YACH,8DACE,IAAI,EAAC,MAAM,EACX,EAAE,EAAC,YAAY,EACf,MAAM,EAAC,SAAS,EAChB,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAClD,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,GACnB;YACT,4DACE,KAAK,EAAE;oBACL,MAAM,EAAE,IAAI;oBACZ,CAAC,kBACC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ;wBACzB,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;wBAC/B,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI;4BAC3B,CAAC,CAAC,SAAS;4BACX,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ;gCAC5B,CAAC,CAAC,SAAS;gCACX,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ;oCAC1B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;oCAC/B,CAAC,CAAC,IACZ,EAAE,CAAC,EAAE,IAAI;oBACT,CAAC,iBAAiB,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI;oBACpC,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU;iBACvC,EACD,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,EACvC,QAAQ,EAAC,GAAG,EACZ,SAAS,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,eAC9B,IAAI,CAAC,QAAQ,IAEvB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CACf,WAAK,KAAK,EAAC,aAAa;gBACtB,gBAAU,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAC,MAAM,IAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAY,CACxF,CACP,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CACnB,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAC/B,WAAK,KAAK,EAAC,aAAa;gBACtB,WAAK,KAAK,EAAE,kCAAkC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,cAAc,GAAQ;gBACxF,WAAK,KAAK,EAAC,oBAAoB;oBAC7B,gBACE,KAAK,EAAC,0BAA0B,EAChC,IAAI,EAAC,QAAQ,EACb,KAAK,EAAC,SAAS,EACf,IAAI,EAAE,IAAI,CAAC,QAAQ,GACT,CACR,CACF,CACP,CAAC,CAAC,CAAC,CACF,WAAK,KAAK,EAAC,aAAa;gBACtB,WAAK,KAAK,EAAE,kCAAkC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,cAAc,GAAQ,CACpF,CACP,CACF,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CACd,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAC/B,WAAK,KAAK,EAAC,aAAa;gBACtB,gBAAU,MAAM,EAAE,KAAK,EAAE,KAAK,EAAC,mBAAmB,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAC,MAAM,IAClF,SAAS,GAAG,QAAQ,CACZ;gBACX,WAAK,KAAK,EAAC,mBAAmB;oBAC5B,gBACE,KAAK,EAAC,yBAAyB,EAC/B,IAAI,EAAC,QAAQ,EACb,KAAK,EAAC,SAAS,EACf,IAAI,EAAE,IAAI,CAAC,QAAQ,GACT,CACR,CACF,CACP,CAAC,CAAC,CAAC,CACF,WAAK,KAAK,EAAC,aAAa;gBACtB,gBAAU,MAAM,EAAE,KAAK,EAAE,KAAK,EAAC,cAAc,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAC,MAAM,IAC7E,SAAS,GAAG,QAAQ,CACZ,CACP,CACP,CACF,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CACnC,WAAK,KAAK,EAAC,aAAa;gBACtB,gBAAU,KAAK,EAAC,mBAAmB,EAAC,IAAI,EAAC,cAAc,EAAC,KAAK,EAAC,SAAS,EAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,GAAa;gBACxG,WAAK,KAAK,EAAC,oBAAoB;oBAC7B,gBACE,KAAK,EAAC,0BAA0B,EAChC,IAAI,EAAC,QAAQ,EACb,KAAK,EAAC,SAAS,EACf,IAAI,EAAE,IAAI,CAAC,QAAQ,GACT,CACR,CACF,CACP,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CACzC,WAAK,KAAK,EAAC,aAAa;gBACtB,gBAAU,KAAK,EAAC,cAAc,EAAC,IAAI,EAAC,cAAc,EAAC,KAAK,EAAC,SAAS,EAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,GAAa,CAC/F,CACP,CAAC,CAAC,CAAC,CACF,EAAE,CACH,CACG,CACD,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, EventEmitter, h, Prop, Event, Host, State, Element } from '@stencil/core';\nimport { FontSize } from '../typo/typo';\nimport { IconSize } from '../icon/icon-interface';\nimport { colorLetter } from './color-letter';\n\nexport type avatarSize = 'micro' | 'extra-small' | 'small' | 'standard' | 'large' | 'extra-large';\nexport type colors = 'colorLetter' | 'system' | 'success' | 'warning' | 'error' | 'info' | 'surface';\n\n@Component({\n  tag: 'bds-avatar',\n  styleUrl: 'avatar.scss',\n  shadow: true,\n})\nexport class BdsAvatar {\n  @Element() el: HTMLElement;\n  private typoSize?: FontSize = 'fs-20';\n  private iconSize?: IconSize = 'large';\n  @State() hasThumb: boolean;\n  /**\n   * Name, Inserted for highlighted osuary name. Enter the full name.\n   */\n  @Prop() name?: string = null;\n  /**\n   * Thumbnail, Inserted to highlight user image. Url field.\n   */\n  @Prop({ mutable: true }) thumbnail?: string = null;\n  /**\n   * Size, Entered as one of the size. Can be one of:\n   * 'extra-small', 'small', 'standard', 'large', 'extra-large'.\n   */\n  @Prop() size?: avatarSize = 'standard';\n  /**\n   * Color, Entered as one of the color. Can be one of:\n   * 'system', 'success', 'warning', 'error', 'info'.\n   */\n  @Prop() color?: colors = 'colorLetter';\n  /**\n   * Upload, Serve to enable upload function on avatar.\n   */\n  @Prop() upload?: boolean = false;\n  /**\n   * When set to true, allows the avatar to be clicked to select and upload an image.\n   */\n  @Prop() openUpload?: boolean = false;\n  /**\n   * Ellipses, serves to indicate the user number in the listing.\n   */\n  @Prop() ellipsis?: number = null;\n\n  /**\n   * Data test is the prop to specifically test the component action object.\n   */\n  @Prop() dataTest?: string = null;\n  @Event() bdsClickAvatar: EventEmitter;\n  @Event() bdsImageUpload: EventEmitter;\n\n  private onUploadClick(e) {\n    e.preventDefault();\n    this.bdsClickAvatar.emit(e);\n    if (this.openUpload) {\n      this.handleOpenUpload(e);\n    }\n  }\n\n  handleOpenUpload = (e) => {\n    const file = this.el.shadowRoot.getElementById('file-input');\n    if (e.type === 'click' || (e.type === 'keydown' && (e.key === 'Enter' || e.key === ' '))) {\n      file.click();\n    }\n  };\n\n  private onFileInputChange(event) {\n    const fileInput = event.target as HTMLInputElement;\n    const files = fileInput.files;\n\n    if (files && files.length > 0) {\n      const selectedFile = files[0];\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        const imageUrl = e.target.result as string;\n        this.thumbnail = imageUrl;\n        this.bdsImageUpload.emit(imageUrl);\n      };\n\n      reader.readAsDataURL(selectedFile);\n    }\n  }\n\n  private selectTypoSize = (value): void => {\n    switch (value) {\n      case 'micro':\n        this.typoSize = 'fs-12';\n        this.iconSize = 'xx-small';\n        break;\n      case 'extra-small':\n        this.typoSize = 'fs-14';\n        this.iconSize = 'x-small';\n        break;\n      case 'small':\n        this.typoSize = 'fs-16';\n        this.iconSize = 'medium';\n        break;\n      case 'standard':\n        this.typoSize = 'fs-20';\n        this.iconSize = 'x-large';\n        break;\n      case 'large':\n        this.typoSize = 'fs-24';\n        this.iconSize = 'xxx-large';\n        break;\n      case 'extra-large':\n        this.typoSize = 'fs-32';\n        this.iconSize = 'xxx-large';\n        break;\n      default:\n        this.typoSize = 'fs-20';\n        this.iconSize = 'medium';\n    }\n  };\n\n  private avatarBgColor = (letter: string) => {\n    if (this.color != 'colorLetter') {\n      return this.color;\n    } else if (letter) {\n      const currentColor = colorLetter.find((item) => item.value === letter);\n      return currentColor.color;\n    }\n  };\n\n  componentWillRender() {\n    this.hasThumb = this.thumbnail ? (this.thumbnail.length !== 0 ? true : false) : false;\n  }\n\n  render(): HTMLElement {\n    const arrayName = this.name ? this.name.split(' ') : [];\n    const firstName = arrayName.length ? arrayName.shift().charAt(0).toUpperCase() : '';\n    const lastName = arrayName.length ? arrayName.pop().charAt(0).toUpperCase() : '';\n    this.selectTypoSize(this.size);\n    const thumbnailStyle = {\n      backgroundImage: `url(${this.hasThumb ? this.thumbnail : null})`,\n    };\n\n    return (\n      <Host>\n        <input\n          type=\"file\"\n          id=\"file-input\"\n          accept=\"image/*\"\n          onChange={(event) => this.onFileInputChange(event)}\n          style={{ display: 'none' }}\n        ></input>\n        <div\n          class={{\n            avatar: true,\n            [`avatar__color--${\n              this.name && !this.hasThumb\n                ? this.avatarBgColor(firstName)\n                : this.hasThumb && !this.name\n                  ? 'surface'\n                  : !this.name && !this.hasThumb\n                    ? 'surface'\n                    : this.name && this.hasThumb\n                      ? this.avatarBgColor(firstName)\n                      : null\n            }`]: true,\n            [`avatar__size--${this.size}`]: true,\n            upload: this.upload || this.openUpload,\n          }}\n          onClick={(ev) => this.onUploadClick(ev)}\n          tabindex=\"0\"\n          onKeyDown={(ev) => this.onUploadClick(ev)}\n          data-test={this.dataTest}\n        >\n          {this.ellipsis ? (\n            <div class=\"avatar__btn\">\n              <bds-typo margin={false} variant={this.typoSize} tag=\"span\">{`+${this.ellipsis}`}</bds-typo>\n            </div>\n          ) : this.thumbnail ? (\n            this.upload || this.openUpload ? (\n              <div class=\"avatar__btn\">\n                <div class={`avatar__btn__img avatar__size--${this.size}`} style={thumbnailStyle}></div>\n                <div class=\"avatar__btn__thumb\">\n                  <bds-icon\n                    class=\"avatar__btn__thumb__icon\"\n                    name=\"upload\"\n                    theme=\"outline\"\n                    size={this.iconSize}\n                  ></bds-icon>\n                </div>\n              </div>\n            ) : (\n              <div class=\"avatar__btn\">\n                <div class={`avatar__btn__img avatar__size--${this.size}`} style={thumbnailStyle}></div>\n              </div>\n            )\n          ) : this.name ? (\n            this.upload || this.openUpload ? (\n              <div class=\"avatar__btn\">\n                <bds-typo margin={false} class=\"avatar__btn__text\" variant={this.typoSize} tag=\"span\">\n                  {firstName + lastName}\n                </bds-typo>\n                <div class=\"avatar__btn__name\">\n                  <bds-icon\n                    class=\"avatar__btn__name__icon\"\n                    name=\"upload\"\n                    theme=\"outline\"\n                    size={this.iconSize}\n                  ></bds-icon>\n                </div>\n              </div>\n            ) : (\n              <div class=\"avatar__btn\">\n                <bds-typo margin={false} class=\"avatar__text\" variant={this.typoSize} tag=\"span\">\n                  {firstName + lastName}\n                </bds-typo>\n              </div>\n            )\n          ) : this.upload || this.openUpload ? (\n            <div class=\"avatar__btn\">\n              <bds-icon class=\"avatar__btn__icon\" name=\"user-default\" theme=\"outline\" size={this.iconSize}></bds-icon>\n              <div class=\"avatar__btn__empty\">\n                <bds-icon\n                  class=\"avatar__btn__empty__icon\"\n                  name=\"upload\"\n                  theme=\"outline\"\n                  size={this.iconSize}\n                ></bds-icon>\n              </div>\n            </div>\n          ) : this.name === null && !this.hasThumb ? (\n            <div class=\"avatar__btn\">\n              <bds-icon class=\"avatar__icon\" name=\"user-default\" theme=\"outline\" size={this.iconSize}></bds-icon>\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}