{"version":3,"names":["selectCss","SelectChips","exports","class_1","hostRef","_this","this","isOpen","intoView","selectedOptions","validationDanger","isPressed","validationMesage","internalChips","chips","newPrefix","value","danger","success","errorMessage","disabled","label","icon","duplicated","canAddNew","notFoundMessage","type","delimiters","disableSubmit","helperMessage","successMessage","inputName","placeholder","optionsPosition","dataTest","handleChangeChipsValue","__awaiter","resetFilterOptions","_a","sent","refDropdown","el","dropElement","refIconDrop","iconDropElement","toggle","handler","event","detail","selectedOption","text","getText","addChip","bdsChangeChips","emit","data","bdsChange","handlerNewOption","childOptions","find","option","getTextFromOption","opt","internalOptions","internalOption","titleText","_b","textContent","trim","setFocusWrapper","nativeInput","focus","removeFocusWrapper","blur","onClickWrapper","onFocus","bdsFocus","onInput","ev","input","target","bdsSelectChipsInput","changedInputValue","keyPressWrapper","key","handleDelimiters","setChip","length","removeLastChip","filterOptions","prototype","isOpenChanged","positionHeightDrop","name","setDefaultPlacement","validatePositionDrop","handleWindow","contains","optionsChanged","options","JSON","parse","e","valueChanged","internalValueChanged","map","item","concat","validValueChip","selectOption","isValid","validateChips","getChips","clear","add","setFocus","removeFocus","componentWillLoad","getScrollParent","componentDidLoad","classList","positionValue","positionAbsoluteElement","actionElement","changedElement","y","connectedCallback","_i","addEventListener","Object","defineProperty","Array","from","shadowRoot","querySelectorAll","term","_d","existsChip","isExistsChip","apply","_c","optionTextLower","toLowerCase","termLower","setAttribute","includes","removeAttribute","optionChip","some","chip","enableCreateOption","childOptionsEnabled","validateChip","handleOnBlur","bdsBlur","verifyAndSubstituteDelimiters","match","newValue","replace","substring","existTerm","clearInputValues","words","split","forEach","word","trimStart","handleChange","exists","whitespaceValidation","__spreadArray","trimmedName","emailValidation","slice","removeChip","id","filter","_chip","index","toString","renderChips","limit","h","color","close","onChipClickableClose","position","renderIcon","class","input__icon","size","renderLabel","input__container__label","variant","bold","renderMessage","message","styles","part","theme","undefined","generateKey","render","tabindex","onBlur","element_input","onClick","input__container__wrapper","style","height","maxHeight","ref","input__container__text","maxlength","onChange","onKeyDown","select__options","onOptionSelected","status"],"sources":["src/components/selects/select.scss?tag=bds-select-chips&encapsulation=shadow","src/components/selects/select-chips/select-chips.tsx"],"sourcesContent":["@import 'resets';\n@import 'mixins';\n\n$input-padding: 8px 4px 8px 12px;\n$input-padding-label: 7px 4px 7px 12px;\n$input-width: 100%;\n$input_expanded: 100%;\n$input_fixed: 140px;\n$select-options-box-shadow: 0px 2px 8px rgba(96, 123, 153, 0.3);\n$select-options-radius: 8px;\n$select-options-max-height: 200px;\n\n:host {\n  display: block;\n}\n\n@mixin input-text {\n  font-family: $font-family;\n  font-size: $fs-14;\n  line-height: $line-hight-plus;\n}\n\n@mixin input-border($color, $boxShadow: false) {\n  border: 1px solid $color;\n  box-sizing: border-box;\n  border-radius: 8px;\n\n  @if ($boxShadow) {\n    -webkit-box-shadow: 0 0 0 2px $boxShadow;\n    box-shadow: 0 0 0 2px $boxShadow;\n  }\n}\n\n@mixin input-theme($name, $primary, $secondary, $label, $text, $border, $hover, $focus) {\n  $color-input-primary: $primary;\n  $color-input-secondary: $secondary;\n  $color-input-label: $label;\n  $color-input-text: $text;\n  $color-input-border: $border;\n  $color-input-hover: $hover;\n  $color-input-focus: $focus;\n\n  @include input-border($color-input-border);\n\n  // States\n  &:hover {\n    @include input-border($color-input-primary);\n\n    @if ($name == 'disabled') {\n      @include input-border($color-input-border);\n    }\n  }\n\n  &.input--pressed {\n    @include input-border($color-input-primary, $color-input-focus);\n    .input__icon {\n      .bds-icon {\n        color: $color-input-primary;\n      }\n    }\n  }\n\n  .input__container__label {\n    color: $color-input-label;\n\n    &--pressed {\n      bds-typo {\n        color: $color-input-primary;\n      }\n    }\n  }\n\n  .input__container__text {\n    caret-color: $color-input-primary;\n    color: $color-input-text;\n  }\n}\n\n@mixin part_input_font_size($value) {\n  font-size: $value;\n  line-height: 0px;\n}\n\n@mixin input_max_width() {\n  &.expanded {\n    max-width: $input_expanded;\n  }\n\n  &.fixed {\n    max-width: $input_fixed;\n  }\n}\n\n.element_input {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  flex: 1;\n  width: 100%;\n  max-width: 100%;\n  max-height: 100%;\n\n  input {\n    box-shadow: inherit;\n    &::placeholder {\n      color: $color-content-ghost;\n      opacity: 1;\n    }\n\n    &::-webkit-input-placeholder {\n      color: $color-content-ghost;\n      opacity: 1;\n    }\n  }\n}\n\n.input {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: $input-padding;\n  flex: 1;\n  width: 100%;\n  max-width: 100%;\n  max-height: 100%;\n  gap: 8px;\n\n  .bds-icon {\n    position: relative;\n    z-index: 1;\n  }\n\n  &--state {\n    &-primary {\n      .input__icon {\n        position: relative;\n        &::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: $color-hover;\n          z-index: 0;\n          opacity: 50%;\n          border-radius: 8px;\n        }\n      }\n      @include input-theme(\n        'primary',\n        $color-primary,\n        $color-surface-1,\n        $color-content-default,\n        $color-content-default,\n        $color-border-1,\n        $color-primary,\n        $color-info\n      );\n    }\n\n    &-danger {\n      .input__icon {\n        position: relative;\n        &::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: $color-surface-negative;\n          z-index: 0;\n          opacity: 50%;\n          border-radius: 8px;\n        }\n      }\n      @include input-theme(\n        'danger',\n        $color-negative,\n        $color-error,\n        $color-delete,\n        $color-content-default,\n        $color-delete,\n        $color-delete,\n        $color-error\n      );\n    }\n\n    &-success {\n      .input__icon {\n        position: relative;\n        &::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: $color-surface-positive;\n          z-index: 0;\n          border-radius: 8px;\n        }\n      }\n      @include input-theme(\n        'success',\n        $color-positive,\n        $color-success,\n        $color-content-default,\n        $color-content-default,\n        $color-border-1,\n        $color-content-default,\n        $color-success\n      );\n    }\n\n    &-disabled {\n      .input__icon {\n        position: relative;\n        &::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: $color-hover;\n          z-index: 0;\n          opacity: 50%;\n          border-radius: 8px;\n        }\n      }\n      opacity: 50%;\n      pointer-events: none;\n      cursor: not-allowed;\n    }\n  }\n\n  & .icon-success {\n    color: $color-positive;\n    margin-left: 4px;\n  }\n\n  &--label {\n    padding: $input-padding-label;\n  }\n\n  &__icon {\n    cursor: inherit;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 8px;\n    padding: 2px;\n  }\n\n  &__container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n\n    &__wrapper {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    &__wrapper__chips {\n      @include custom-scroll();\n      display: inline;\n      max-height: 100px;\n      overflow: auto;\n    }\n\n    &__label {\n      display: flex;\n      align-items: center;\n    }\n\n    &__text {\n      @include reset-input();\n      @include input-text();\n      @include custom-scroll();\n      width: 100%;\n      line-height: 22px;\n\n      resize: none;\n      cursor: inherit;\n    }\n  }\n\n  &__message {\n    display: flex;\n    align-items: baseline;\n    height: 20px;\n    margin: 3.7px 2.5px;\n    transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    color: $color-content-ghost;\n    word-break: break-word;\n    height: auto;\n    min-height: 20px;\n    bds-typo {\n      margin-top: 0px;\n      align-self: self-start;\n    }\n\n    &__icon {\n      display: flex;\n      padding-right: 4px;\n      margin-top: 0px;\n      padding-top: 2px;\n    }\n\n    &--danger {\n      .bds-icon {\n        color: $color-negative;\n      }\n      .input__message__text {\n        color: $color-negative;\n      }\n    }\n    &--success {\n      .input__message__icon {\n        .bds-icon {\n          color: $color-positive;\n        }\n      }\n      .input__message__text {\n        color: $color-content-default;\n      }\n    }\n  }\n}\n\n.select {\n  position: relative;\n  outline: none;\n\n  &__icon {\n    color: $color-content-ghost;\n    display: flex;\n  }\n\n  &__options {\n    @include custom-scroll;\n\n    background: $color-surface-0;\n    width: 100%;\n    max-height: 200px;\n    height: fit-content;\n    position: absolute;\n    left: 0;\n    border-radius: $select-options-radius;\n    box-shadow: $shadow-3;\n    overflow-y: auto;\n    z-index: 2;\n    pointer-events: none;\n    opacity: 0;\n\n    &--open {\n      opacity: 1;\n      pointer-events: auto;\n    }\n\n    &--position-top {\n      bottom: calc(100% + 4px);\n    }\n\n    &--position-bottom {\n      top: calc(100% + 4px);\n    }\n  }\n}\n\n.inside-input-left {\n  display: inline-flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  max-height: 200px;\n  overflow-y: auto;\n  @include custom-scroll;\n}\n.input-chips__chip {\n  margin: 2px 4px 2px 0px;\n}\n\n.input-chips__chips {\n  flex: 1;\n}\n","import { Component, Element, h, Prop, Method, Event, EventEmitter, Listen, Watch, State } from '@stencil/core';\nimport { Option, SelectChangeEvent, SelectOptionsPositionType } from '../select-interface';\nimport { getScrollParent, positionAbsoluteElement } from '../../../utils/position-element';\nimport { emailValidation, whitespaceValidation } from '../../../utils/validations';\nimport { InputChipsTypes } from '../../input-chips/input-chips-interface';\n\n@Component({\n  tag: 'bds-select-chips',\n  styleUrl: '../select.scss',\n  shadow: true,\n})\nexport class SelectChips {\n  private nativeInput?: HTMLInputElement;\n  private dropElement?: HTMLElement;\n  private iconDropElement?: HTMLBdsIconElement;\n  private positionHeightDrop?: SelectOptionsPositionType;\n\n  @State() internalOptions: Option[];\n\n  @Element() el!: HTMLElement;\n\n  @State() isOpen? = false;\n\n  @State() intoView?: HTMLElement = null;\n\n  @State() selectedOptions: { label: string; value: any }[] = [];\n  /**\n   * Used to set the danger behavior by the internal validators\n   */\n  @State() validationDanger?: boolean = false;\n  /**\n   * Conditions the element to say whether it is pressed or not, to add styles.\n   */\n  @State() isPressed? = false;\n\n  /**\n   * Used to set the error message setted by the internal validators\n   */\n  @State() validationMesage? = '';\n\n  @State() internalChips: string[] = [];\n\n  @State() selectedOption: number;\n\n  /**\n   * The options of the select\n   * Should be passed this way:\n   * options='[{\"value\": \"Cat\", \"label\": \"Meow\"}, {\"value\": \"Dog\", \"label\": \"Woof\"}]'\n   * Options can also be passed as child by using bds-select-option component, but passing as a child you may have some compatibility problems with Angular.\n   */\n  @Prop({ mutable: true }) options?: string | Option[];\n\n  /**\n   * The chips on the component\n   * Should be passed this way:\n   * chips='[\"chip1\", \"chip2\"]'\n   */\n  @Prop({ mutable: true }) chips: string | string[] = [];\n\n  /**\n   * Used for add prefix on new option select.\n   */\n  @Prop({ reflect: true }) newPrefix?: string = '';\n\n  /**\n   * the value of the select.\n   */\n  @Prop({ mutable: true }) value?: string | null = '';\n\n  /**\n   * Add state danger on input, use for use feedback.\n   */\n  @Prop({ reflect: true, mutable: true }) danger? = false;\n  /**\n   * Add state success on input, use for use feedback.\n   */\n  @Prop({ reflect: true, mutable: true }) success?: boolean = false;\n  /**\n   * Set maximum length value for the chip content\n   */\n\n  @Prop() maxlength?: number;\n\n  /**\n   * Indicated to pass an feedback to user.\n   */\n  @Prop({ mutable: true }) errorMessage? = '';\n\n  /**\n   * Disabled input.\n   */\n  @Prop({ reflect: true }) disabled? = false;\n\n  /**\n   *  label in input, with he the input size increases.\n   */\n  @Prop() label? = '';\n\n  /**\n   * used for add icon in input left. Uses the bds-icon component.\n   */\n  @Prop({ reflect: true }) icon?: string = '';\n\n  /**\n   * Do not accept duplicate chip elements.\n   */\n  @Prop() duplicated?: boolean = false;\n\n  /**\n   *  Specify if is possible to create a new tag that is not on the options.\n   */\n  @Prop() canAddNew?: boolean = true;\n\n  /**\n   *  Specify if is possible to create a new tag that is not on the options.\n   */\n  @Prop() notFoundMessage?: string = 'No results found';\n\n  /**\n   * Defining the type is important so that it is possible to carry out validations. Can be one of:\n   * 'text' and 'email;\n   */\n  @Prop() type: InputChipsTypes = 'text';\n\n  /**\n   * The delimiter is used to add multiple chips in the same string.\n   */\n  @Prop() delimiters? = /,|;/;\n\n  /**\n   * If `true`, the user cannot modify the value.\n   */\n  @Prop() disableSubmit = false;\n  /**\n   * Indicated to pass a help the user in complex filling.\n   */\n  @Prop() helperMessage?: string = '';\n  /**\n   * Indicated to pass an feeback to user.\n   */\n  @Prop({ mutable: true }) successMessage?: string = '';\n  /**\n   * Prop to insert the name of the input\n   */\n  @Prop() inputName?: string = '';\n\n  /**\n   * A tip for the user who can enter no controls.\n   */\n  @Prop() placeholder?: string = '';\n\n  /**\n   * Set the placement of the options menu. Can be 'bottom' or 'top'.\n   */\n  @Prop({ mutable: true, reflect: true }) optionsPosition?: SelectOptionsPositionType = 'auto';\n  /**\n   * Prop for set the height of the component.\n   */\n  @Prop() height?: string;\n  /**\n   * Prop for set the max height of the component.\n   */\n  @Prop() maxHeight?: string;\n  /**\n   * Data test is the prop to specifically test the component action object.\n   */\n  @Prop() dataTest?: string = null;\n\n  /**\n   * Emitted when the value has changed.\n   */\n  @Event() bdsChange!: EventEmitter<SelectChangeEvent>;\n\n  /**\n   * Emitted when the selection is cancelled.\n   */\n  @Event() bdsCancel!: EventEmitter<void>;\n\n  /**\n   * Emitted when the select loses focus.\n   */\n  @Event() bdsFocus!: EventEmitter<void>;\n\n  /**\n   * Emitted when the select loses focus.\n   */\n  @Event() bdsBlur!: EventEmitter<void>;\n\n  /**\n   * Emitted when the chip has added.\n   */\n  @Event() bdsChangeChips!: EventEmitter;\n\n  /**\n   * Emitted when the chip has added.\n   */\n  @Event() bdsSelectChipsInput!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the chip has added.\n   */\n  @Event() bdsSubmit!: EventEmitter;\n\n  @Watch('isOpen')\n  protected isOpenChanged(isOpen: boolean): void {\n    if (this.positionHeightDrop == 'bottom') {\n      this.iconDropElement.name = this.isOpen ? 'arrow-up' : 'arrow-down';\n    } else {\n      this.iconDropElement.name = this.isOpen ? 'arrow-down' : 'arrow-up';\n    }\n    if (isOpen)\n      if (this.optionsPosition != 'auto') {\n        this.setDefaultPlacement(this.optionsPosition);\n      } else {\n        this.validatePositionDrop();\n      }\n  }\n\n  @Listen('mousedown', { target: 'window', passive: true })\n  handleWindow(ev: Event) {\n    if (!this.el.contains(ev.target as HTMLInputElement)) {\n      this.isOpen = false;\n    }\n  }\n\n  @Watch('options')\n  protected optionsChanged(): void {\n    if (typeof this.options === 'string') {\n      try {\n        this.internalOptions = JSON.parse(this.options);\n      } catch (e) {}\n    } else {\n      this.internalOptions = this.options;\n    }\n  }\n\n  /**\n   * Call change event before alter chips values.\n   */\n  @Watch('chips')\n  protected valueChanged(): void {\n    if (this.chips) {\n      if (typeof this.chips === 'string') {\n        try {\n          this.internalChips = JSON.parse(this.chips);\n        } catch {\n          this.internalChips = [];\n        }\n      } else {\n        this.internalChips = this.chips;\n      }\n    } else {\n      this.internalChips = [];\n    }\n  }\n\n  @Watch('internalChips')\n  protected internalValueChanged(): void {\n    this.handleChangeChipsValue();\n\n    if (this.internalChips.length > 0) {\n      this.selectedOptions = this.internalChips.map((item) => {\n        return {\n          label: item,\n          value: `${this.validValueChip(item, this.childOptions)}`,\n        };\n      });\n    }\n  }\n\n  private validValueChip(value, internalOptions: HTMLBdsSelectOptionElement[]): string {\n    const selectOption = internalOptions?.find((option) => option.textContent == value);\n    return `${selectOption ? selectOption.value : value}`;\n  }\n\n  /**\n   * Return the validity of the input chips.\n   */\n  @Method()\n  async isValid(): Promise<boolean> {\n    return this.validateChips();\n  }\n\n  /**\n   * Return the chips\n   */\n  @Method()\n  async getChips(): Promise<string[]> {\n    return this.internalChips;\n  }\n\n  /**\n   * Clear all chips\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.internalChips = [];\n    this.value = '';\n  }\n\n  @Method()\n  async add(value: string): Promise<void> {\n    this.handleDelimiters();\n    if (value) {\n      this.setChip(value);\n    } else {\n      this.setChip(this.value);\n    }\n    this.value = '';\n  }\n\n  @Method()\n  async setFocus(): Promise<void> {\n    this.nativeInput.focus();\n  }\n\n  @Method()\n  async removeFocus(): Promise<void> {\n    this.nativeInput.blur();\n  }\n\n  componentWillLoad() {\n    this.valueChanged();\n    this.optionsChanged();\n    this.intoView = getScrollParent(this.el);\n  }\n\n  async componentDidLoad() {\n    await this.resetFilterOptions();\n    if (this.optionsPosition != 'auto') {\n      this.setDefaultPlacement(this.optionsPosition);\n    } else {\n      this.validatePositionDrop();\n    }\n  }\n\n  private setDefaultPlacement(value: SelectOptionsPositionType) {\n    if (value == 'bottom') {\n      this.dropElement.classList.add('select__options--position-bottom');\n      this.iconDropElement.name = 'arrow-down';\n    } else {\n      this.dropElement.classList.add('select__options--position-top');\n      this.iconDropElement.name = 'arrow-up';\n    }\n  }\n\n  private validatePositionDrop() {\n    const positionValue = positionAbsoluteElement({\n      actionElement: this.el,\n      changedElement: this.dropElement,\n      intoView: this.intoView,\n    });\n    this.positionHeightDrop = positionValue.y as SelectOptionsPositionType;\n    if (positionValue.y == 'bottom') {\n      this.dropElement.classList.add('select__options--position-bottom');\n      this.iconDropElement.name = 'arrow-down';\n    } else {\n      this.dropElement.classList.add('select__options--position-top');\n      this.iconDropElement.name = 'arrow-up';\n    }\n  }\n\n  async connectedCallback() {\n    for (const option of this.childOptions) {\n      option.addEventListener('optionSelected', this.handler);\n    }\n  }\n\n  private get childOptionsEnabled(): HTMLBdsSelectOptionElement[] {\n    return this.options\n      ? Array.from(\n          this.el.shadowRoot.querySelectorAll('bds-select-option:not([invisible]):not(#option-add):not(#no-option)'),\n        )\n      : Array.from(this.el.querySelectorAll('bds-select-option:not([invisible]):not(#option-add):not(#no-option)'));\n  }\n\n  private get childOptions(): HTMLBdsSelectOptionElement[] {\n    return this.options\n      ? Array.from(this.el.shadowRoot.querySelectorAll('bds-select-option:not(#option-add):not(#no-option)'))\n      : Array.from(this.el.querySelectorAll('bds-select-option:not(#option-add):not(#no-option)'));\n  }\n\n  private handleChangeChipsValue = async () => {\n    await this.resetFilterOptions();\n  };\n\n  private async filterOptions(term: string) {\n    if (!term) {\n      await this.resetFilterOptions();\n      return;\n    }\n\n    for (const option of this.childOptions) {\n      const isExistsChip = this.existsChip(option.textContent, await this.getChips());\n      const optionTextLower = option.textContent.toLowerCase();\n      const termLower = term.toLowerCase();\n\n      if (isExistsChip) {\n        option.setAttribute('invisible', 'invisible');\n      }\n\n      if (term && optionTextLower.includes(termLower) && !isExistsChip) {\n        option.removeAttribute('invisible');\n      }\n\n      if (term && !optionTextLower.includes(termLower) && !isExistsChip) {\n        option.setAttribute('invisible', 'invisible');\n      }\n    }\n  }\n\n  private async resetFilterOptions() {\n    for (const option of this.childOptions) {\n      if (this.existsChip(option.textContent, await this.getChips())) {\n        option.setAttribute('invisible', 'invisible');\n      } else {\n        option.removeAttribute('invisible');\n      }\n    }\n  }\n\n  private refDropdown = (el: HTMLElement): void => {\n    this.dropElement = el;\n  };\n\n  private refIconDrop = (el: HTMLBdsIconElement) => {\n    this.iconDropElement = el;\n  };\n\n  private existsChip(optionChip: string, chips: string[]) {\n    return chips.some((chip) => optionChip === chip);\n  }\n\n  private toggle = (): void => {\n    if (!this.disabled) {\n      this.isOpen = !this.isOpen;\n    }\n  };\n\n  private handler = async (event: CustomEvent) => {\n    const {\n      detail: { value },\n    } = event;\n    this.selectedOption = value;\n    const text = this.getText(value);\n    await this.addChip(text);\n\n    this.bdsChangeChips.emit({ data: this.internalChips, value: this.selectedOption });\n    this.bdsChange.emit({ data: this.selectedOptions });\n    this.toggle();\n  };\n\n  private handlerNewOption = async (text: string) => {\n    await this.addChip(text);\n    this.toggle();\n  };\n\n  private enableCreateOption(): boolean {\n    return !!(this.childOptionsEnabled.length === 0 && this.nativeInput && this.nativeInput.value);\n  }\n\n  private async addChip(chip: string) {\n    await this.setChip(chip);\n    this.nativeInput.value = '';\n  }\n\n  private getText = (value: string) => {\n    const el: HTMLBdsSelectOptionElement = this.childOptions.find((option) => option.value === value);\n    return this.getTextFromOption(el);\n  };\n\n  private getTextFromOption = (opt: HTMLBdsSelectOptionElement): string => {\n    if (this.internalOptions) {\n      const internalOption = this.internalOptions.find((option) => option.value == opt?.value);\n      if (internalOption) {\n        return internalOption.label;\n      }\n    }\n    return opt?.titleText ? opt.titleText : (opt?.textContent?.trim() ?? '');\n  };\n\n  private setFocusWrapper = (): void => {\n    if (this.nativeInput) {\n      this.nativeInput.focus();\n    }\n  };\n\n  private removeFocusWrapper = (): void => {\n    this.nativeInput.blur();\n  };\n\n  private validateChips() {\n    if (this.type === 'email') {\n      return !this.internalChips.some((chip) => !this.validateChip(chip));\n    } else {\n      return true;\n    }\n  }\n\n  private onClickWrapper = (): void => {\n    this.onFocus();\n    if (this.nativeInput) {\n      this.nativeInput.focus();\n    }\n  };\n\n  private onFocus = (): void => {\n    this.bdsFocus.emit();\n    this.isPressed = true;\n  };\n\n  private handleOnBlur(): void {\n    this.bdsBlur.emit();\n    this.isPressed = false;\n  }\n\n  private onInput = (ev: InputEvent): void => {\n    const input = ev.target as HTMLInputElement | null;\n    if (input) {\n      this.value = input.value || '';\n    }\n    this.bdsSelectChipsInput.emit(ev);\n    this.changedInputValue();\n  };\n\n  private keyPressWrapper = (event: KeyboardEvent): void => {\n    switch (event.key) {\n      case 'Enter':\n        if (this.canAddNew !== false) {\n          this.handleDelimiters();\n          this.setChip(this.value);\n          this.value = '';\n          this.bdsChangeChips.emit({ data: this.internalChips, value: this.selectedOption });\n          this.bdsChange.emit({ data: this.selectedOptions });\n        }\n        if (!this.disabled) {\n          this.isOpen = true;\n        }\n        break;\n      case 'ArrowDown':\n        if (!this.disabled) {\n          this.isOpen = true;\n        }\n        break;\n      case 'ArrowUp':\n        if (!this.disabled) {\n          this.isOpen = false;\n        }\n        break;\n      case 'Backspace':\n      case 'Delete':\n        if ((this.value === null || this.value.length <= 0) && this.internalChips.length) {\n          this.removeLastChip();\n          this.handleChangeChipsValue;\n          this.bdsChangeChips.emit({ data: this.internalChips, value: this.selectedOption });\n          this.bdsChange.emit({ data: this.selectedOptions });\n        }\n        break;\n    }\n  };\n\n  private verifyAndSubstituteDelimiters(value: string) {\n    if (value.length === 1 && value[0].match(this.delimiters)) {\n      return '';\n    }\n\n    let newValue = value.replace(/;/g, ',').replace(/\\,+|;+/g, ',');\n\n    if (newValue[0].match(this.delimiters)) {\n      newValue = newValue.substring(1);\n    }\n\n    return newValue;\n  }\n\n  private handleDelimiters() {\n    const value = this.nativeInput.value;\n    this.value = value ? value.trim() : '';\n\n    if (value.length === 0) return;\n\n    const existTerm = value.match(this.delimiters);\n    if (!existTerm) return;\n\n    const newValue = this.verifyAndSubstituteDelimiters(value);\n    if (!newValue) {\n      this.clearInputValues();\n      return;\n    }\n\n    const words = newValue.split(this.delimiters);\n    words.forEach((word) => {\n      this.setChip(word.trimStart());\n    });\n\n    this.clearInputValues();\n  }\n\n  private async handleChange(event: CustomEvent<{ value: string }>) {\n    this.changedInputValue;\n    const {\n      detail: { value },\n    } = event;\n\n    this.value = value ? value.trim() : '';\n\n    if (value.length === 0) return;\n\n    const existTerm = value.match(this.delimiters);\n    if (!existTerm) return;\n\n    const newValue = this.verifyAndSubstituteDelimiters(value);\n    if (!newValue) {\n      this.clearInputValues();\n      return;\n    }\n\n    const words = newValue.split(this.delimiters);\n    words.forEach((word) => {\n      this.setChip(word);\n    });\n\n    this.clearInputValues();\n  }\n\n  private changedInputValue = async () => {\n    this.value = this.nativeInput.value;\n\n    if (this.nativeInput.value) {\n      await this.filterOptions(this.nativeInput.value);\n    } else {\n      await this.resetFilterOptions();\n    }\n\n    if (this.value && this.isOpen === false) {\n      this.isOpen = true;\n    }\n  };\n\n  private clearInputValues(value = '') {\n    this.nativeInput.value = value;\n    this.value = value;\n  }\n\n  private setChip(name: string) {\n    if (!this.duplicated) {\n      const exists = this.internalChips.some((chip) => chip.toLowerCase() === name.toLowerCase());\n      if (exists) return;\n    }\n\n    if (!whitespaceValidation(name)) {\n      return;\n    }\n\n    this.internalChips = [...this.internalChips, name];\n  }\n\n  private validateChip(name: string) {\n    const trimmedName = name.trim();\n    if (this.type === 'email' && emailValidation(trimmedName)) {\n      return false;\n    }\n    return true;\n  }\n\n  private removeLastChip() {\n    this.internalChips = this.internalChips.slice(0, this.internalChips.length - 1);\n  }\n\n  private removeChip(event: CustomEvent<{ id: string }>) {\n    const {\n      detail: { id },\n    } = event;\n\n    this.internalChips = this.internalChips.filter((_chip, index) => index.toString() !== id);\n    this.bdsChangeChips.emit({ data: this.internalChips, value: this.selectedOption });\n    this.bdsChange.emit({ data: this.selectedOptions });\n  }\n\n  private renderChips() {\n    if (!this.internalChips.length) {\n      return [];\n    }\n\n    return this.internalChips.map((chip, index) => {\n      const id = index.toString();\n      const limit = 30;\n      if (chip.length <= limit) {\n        return (\n          <bds-chip-clickable\n            id={id}\n            key={id}\n            color=\"outline\"\n            close={!this.disabled}\n            onChipClickableClose={(event) => this.removeChip(event)}\n          >\n            {chip}\n          </bds-chip-clickable>\n        );\n      } else {\n        return (\n          <bds-tooltip key={id} position=\"top-center\" tooltip-text={chip}>\n            <bds-chip-clickable\n              id={id}\n              key={id}\n              color=\"outline\"\n              close={!this.disabled}\n              onChipClickableClose={(event) => this.removeChip(event)}\n            >\n              {`${chip.slice(0, limit)} ...`}\n            </bds-chip-clickable>\n          </bds-tooltip>\n        );\n      }\n    });\n  }\n\n  private renderIcon(): HTMLElement {\n    return (\n      this.icon && (\n        <div\n          class={{\n            input__icon: true,\n            'input__icon--large': !!this.label,\n          }}\n        >\n          <bds-icon size={this.label ? 'medium' : 'small'} name={this.icon} color=\"inherit\"></bds-icon>\n        </div>\n      )\n    );\n  }\n\n  private renderLabel(): HTMLElement {\n    return (\n      this.label && (\n        <label\n          class={{\n            input__container__label: true,\n            'input__container__label--pressed': this.isPressed && !this.disabled,\n          }}\n        >\n          <bds-typo variant=\"fs-12\" bold=\"bold\">\n            {this.label}\n          </bds-typo>\n        </label>\n      )\n    );\n  }\n\n  private renderMessage(): HTMLElement {\n    const icon = this.danger ? 'error' : this.success ? 'checkball' : 'info';\n    let message = this.danger ? this.errorMessage : this.success ? this.successMessage : this.helperMessage;\n\n    if (!message && this.validationDanger) message = this.validationMesage;\n\n    const styles =\n      this.danger || this.validationDanger\n        ? 'input__message input__message--danger'\n        : this.success\n          ? 'input__message input__message--success'\n          : 'input__message';\n\n    if (message) {\n      return (\n        <div class={styles} part=\"input__message\">\n          <div class=\"input__message__icon\">\n            <bds-icon size=\"x-small\" name={icon} theme=\"outline\" color=\"inherit\"></bds-icon>\n          </div>\n          <bds-typo class=\"input__message__text\" variant=\"fs-12\">\n            {message}\n          </bds-typo>\n        </div>\n      );\n    }\n\n    return undefined;\n  }\n\n  private generateKey(value: string) {\n    return value.toLowerCase().replace(/ /g, '-');\n  }\n\n  render() {\n    const isPressed = this.isPressed && !this.disabled;\n\n    let internalOptions: Option[] = [];\n    if (this.options) {\n      if (typeof this.options === 'string') {\n        try {\n          internalOptions = JSON.parse(this.options);\n        } catch (e) {}\n      } else {\n        internalOptions = this.options;\n      }\n    }\n\n    return (\n      <div class=\"select\" tabindex=\"0\" onFocus={this.setFocusWrapper} onBlur={this.removeFocusWrapper}>\n        <div class={{ element_input: true }} aria-disabled={this.disabled ? 'true' : null} onClick={this.toggle}>\n          <div\n            class={{\n              input: true,\n              'input--state-primary': !this.danger && !this.validationDanger,\n              'input--state-danger': this.danger || this.validationDanger,\n              'input--state-success': this.success,\n              'input--state-disabled': this.disabled,\n              'input--label': !!this.label,\n              'input--pressed': isPressed,\n            }}\n            onClick={this.onClickWrapper}\n          >\n            {this.renderIcon()}\n            <div class=\"input__container\">\n              {this.renderLabel()}\n              <div class={{ input__container__wrapper: true }}>\n                {this.internalChips.length > 0 && (\n                  <span style={{ height: this.height, maxHeight: this.maxHeight }} class=\"inside-input-left\">\n                    {this.renderChips()}\n                  </span>\n                )}\n                <input\n                  ref={(input) => (this.nativeInput = input)}\n                  class={{ input__container__text: true }}\n                  name={this.inputName}\n                  maxlength={this.maxlength}\n                  placeholder={this.placeholder}\n                  onInput={this.onInput}\n                  onFocus={this.onFocus}\n                  onBlur={() => this.handleOnBlur()}\n                  onChange={() => this.handleChange}\n                  value={this.value}\n                  disabled={this.disabled}\n                  data-test={this.dataTest}\n                  onKeyDown={this.keyPressWrapper}\n                ></input>\n              </div>\n            </div>\n            <div class=\"select__icon\">\n              <bds-icon ref={(el) => this.refIconDrop(el)} size=\"small\" color=\"inherit\"></bds-icon>\n            </div>\n            {this.success && <bds-icon class=\"icon-success\" name=\"check\" theme=\"outline\" size=\"xxx-small\" />}\n          </div>\n          {this.renderMessage()}\n        </div>\n        <div\n          ref={(el) => this.refDropdown(el)}\n          class={{\n            select__options: true,\n            'select__options--open': this.isOpen,\n          }}\n        >\n          {internalOptions.map((option) => (\n            <bds-select-option\n              key={this.generateKey(option.value)}\n              onOptionSelected={this.handler}\n              value={option.value}\n              status={option.status}\n            >\n              {option.label}\n            </bds-select-option>\n          ))}\n          <slot />\n          {this.canAddNew === true && this.enableCreateOption() && (\n            <bds-select-option\n              id=\"option-add\"\n              value=\"add\"\n              onClick={() => this.handlerNewOption(this.nativeInput.value)}\n            >\n              {this.newPrefix}\n              {this.nativeInput.value}\n            </bds-select-option>\n          )}\n          {!this.canAddNew && this.enableCreateOption() && (\n            <bds-select-option id=\"no-option\" value=\"add\">\n              {this.notFoundMessage}\n            </bds-select-option>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}