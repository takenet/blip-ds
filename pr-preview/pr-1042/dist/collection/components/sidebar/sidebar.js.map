{"version":3,"file":"sidebar.js","sourceRoot":"","sources":["../../../../src/components/sidebar/sidebar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, State, Prop, EventEmitter, Event, Method, Watch, Element } from '@stencil/core';\n\nexport type sidebarPosition = 'left' | 'right';\nexport type sidebarType = 'over' | 'fixed';\nexport type sidebarBackground = 'surface-1' | 'surface-2' | 'surface-3' | 'surface-4';\n\n@Component({\n  tag: 'bds-sidebar',\n  styleUrl: 'sidebar.scss',\n  shadow: true,\n})\nexport class Sidebar {\n  private hasFooterSlot: boolean;\n  private hasHeaderSlot: boolean;\n\n  @Element() hostElement: HTMLElement;\n\n  @State() InnerSpacing?: number = 0;\n\n  /**;\n   * isOpen. Used to open sidebar.\n   */\n  @Prop({ mutable: true, reflect: true }) isOpen?: boolean = this.type === 'fixed' ? true : false;\n\n  /**\n   * sidebar position. Used to position the sidebar. Either on the left or on the right.\n   */\n  @Prop() sidebarPosition?: sidebarPosition = 'left';\n\n  /**\n   * sidebar type. Used to define how open.\n   */\n  @Prop() type?: sidebarType = 'over';\n\n  /**\n   * If true, a lateral margin will apear in the content.\n   */\n  @Prop() margin?: boolean = true;\n  /**\n   * Width, number to define sidebar width.\n   */\n  @Prop() width?: number = 360;\n\n  /**\n   * Data test is the prop to specifically test the component action object.\n   * dtOutzone is the data-test to button close.\n   */\n  @Prop() dtOutzone?: string = null;\n\n  /**\n   * Data test is the prop to specifically test the component action object.\n   * dtButtonClose is the data-test to button close.\n   */\n  @Prop() dtButtonClose?: string = null;\n  /**\n   * Width, number to define sidebar width.\n   */\n  @Prop() background?: sidebarBackground = 'surface-2';\n\n  /**\n   * Emitted when the isOpen has changed.\n   */\n  @Event() bdsToggle!: EventEmitter;\n\n  @Method()\n  async toggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  @Watch('isOpen')\n  isOpenChanged(newValue: boolean): void {\n    this.bdsToggle.emit({ value: newValue });\n    if (newValue === true) {\n      document.addEventListener('keyup', this.listiner, false);\n    } else {\n      document.removeEventListener('keyup', this.listiner, false);\n    }\n  }\n\n  componentWillLoad() {\n    this.hasFooterSlot = !!this.hostElement.querySelector('[slot=\"footer\"]');\n    this.hasHeaderSlot = !!this.hostElement.querySelector('[slot=\"header\"]');\n  }\n\n  private listiner = (event) => {\n    if (event.key == 'Escape' && this.type !== 'fixed') {\n      this.isOpen = false;\n    }\n  };\n\n  private onClickCloseButtom = () => {\n    this.isOpen = false;\n  };\n\n  render() {\n    return (\n      <div\n        class={{\n          sidebar_dialog: true,\n          is_open: this.isOpen,\n          [`type_${this.type}`]: true,\n        }}\n      >\n        {this.type === 'over' ? (\n          <div class={{ outzone: true }} onClick={() => this.onClickCloseButtom()} data-test={this.dtOutzone}></div>\n        ) : (\n          ''\n        )}\n        <div\n          class={{\n            sidebar: true,\n            is_open: this.isOpen,\n            [`type_${this.type}`]: true,\n            [`position_${this.sidebarPosition}`]: true,\n            [`background_${this.background}`]: true,\n          }}\n          style={{ width: `${this.width < 144 ? 144 : this.width}px` }}\n        >\n          {this.hasHeaderSlot && (\n            <div class={{ header: true }}>\n              <div class={{ content: true }}>\n                <slot name=\"header\" />\n              </div>\n              {this.type === 'fixed' ? (\n                ''\n              ) : (\n                <bds-button-icon\n                  class={{\n                    closeButton: true,\n                  }}\n                  icon=\"close\"\n                  size=\"short\"\n                  variant=\"secondary\"\n                  onClick={() => this.onClickCloseButtom()}\n                  dataTest={this.dtButtonClose}\n                ></bds-button-icon>\n              )}\n            </div>\n          )}\n\n          <div class={{ body: true }}>\n            <div class={{ content: true, element_scrolled: true, margin: this.margin }}>\n              <slot name=\"body\" />\n            </div>\n          </div>\n          {this.hasFooterSlot && (\n            <div class={{ footer: true }}>\n              <div class={{ content: true }}>\n                <slot name=\"footer\" />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]}