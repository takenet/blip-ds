import{r as i,c as s,h as t,g as e}from"./p-93b809e8.js";import{a as h,b as o,c as a}from"./p-2e1bfa2f.js";const l=class{constructor(t){i(this,t),this.bdsChangeCarousel=s(this,"bdsChangeCarousel",7),this.itemsElement=null,this.setInternalItens=i=>{const s=Math.floor(i.length/this.slidePerPage),t=a(i.length/this.slidePerPage);this.internalItens=t,this.isWhole=i.length-this.slidePerPage*s},this.startCountSeconds=()=>{this.autoplay&&(this.incrementSeconds=setInterval((()=>{this.seconds+=.1}),100))},this.updateHeight=i=>{const s=i[this.itemActivated*this.slidePerPage-this.slidePerPage];let t=240;if(this.slidePerPage>1){const s=i.slice(this.isWhole>0&&this.itemActivated==this.internalItens.length?this.internalItens.length-this.internalItens.length-this.slidePerPage:this.itemActivated*this.slidePerPage-this.slidePerPage,this.itemActivated*this.slidePerPage);t=h(s)[0]}else t=s.offsetHeight;this.frame.style.height=`${t}px`},this.refFrame=i=>{this.frame=i},this.refFrameRepeater=i=>{this.frameRepeater=i},this.onMouseOver=()=>{this.autoplayHoverPause&&this.pauseAutoplay()},this.onMouseOut=()=>{this.autoplayHoverPause&&this.runAutoplay()},this.onMouseDown=i=>{if(this.grab){this.framePressed=!0;const s=this.frame.offsetLeft+this.element.offsetLeft;this.startX=i.pageX-s,this.endX=i.pageX-s,this.frame.style.cursor="grabbing"}},this.onMouseEnter=()=>{this.grab&&(this.frame.style.cursor="grab")},this.onMouseUp=()=>{this.grab&&(this.framePressed=!1,this.frame.style.cursor="grab",this.boundItems(),this.autoplayHoverPause&&this.pauseAutoplay())},this.onMouseMove=i=>{if(this.grab){if(!this.framePressed)return;i.preventDefault(),this.endX=i.pageX-(this.frame.offsetLeft+this.element.offsetLeft)}},this.boundItems=()=>{this.endX<this.startX?(this.nextSlide(),this.seconds=0):this.endX>this.startX&&(this.prevSlide(),this.seconds=0)},this.itemActivated=1,this.seconds=0,this.internalItens=void 0,this.isWhole=0,this.heightCarousel=240,this.framePressed=!1,this.startX=void 0,this.endX=void 0,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoHeight=!1,this.bullets=!0,this.infiniteLoop=!1,this.arrows="outside",this.slidePerPage=1,this.gap="none",this.grab=!0,this.loading=!1,this.secondsLimit=this.autoplayTimeout/1e3}componentWillLoad(){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item"),this.setInternalItens(Array.from(this.itemsElement))}componentDidRender(){if(!this.loading){"none"!=this.gap&&(this.frame.style.width=`calc(100% + ${o(this.gap)}px)`,this.frame.style.marginLeft=`-${o(this.gap)/2}px`);for(let i=0;i<this.itemsElement.length;i++)this.itemsElement[i].style.width=(this.frame.offsetWidth>=1920?1920:this.frame.offsetWidth)/this.slidePerPage+"px",this.itemsElement[i].style.padding=`0 ${o(this.gap)/2}px`;this.autoHeight&&this.updateHeight(Array.from(this.itemsElement))}}componentDidLoad(){this.startCountSeconds()}itemActivatedChanged(){const i=this.internalItens.find((i=>i.id===this.itemActivated)),s=this.frame?this.frame.offsetWidth*(this.itemActivated-1):0;this.frameRepeater&&(this.frameRepeater.style.right=i.isWhole?s-this.itemsElement[1].offsetWidth*(this.slidePerPage-this.isWhole)+"px":`${s}px`),this.bdsChangeCarousel.emit({value:i})}autoplayTimeoutChanged(){this.secondsLimit=this.autoplayTimeout/1e3}secondsChanged(){this.seconds>=this.secondsLimit&&(this.nextSlide(),this.seconds=0)}isWholeChanged(){var i,s;if(null!=this.internalItens&&this.isWhole>0){const t={id:(null===(i=this.internalItens)||void 0===i?void 0:i.length)+1,label:`Frame - ${(null===(s=this.internalItens)||void 0===s?void 0:s.length)+1}`,isWhole:!0};this.internalItens=[...this.internalItens,t]}}async buildCarousel(){this.itemsElement=this.element.getElementsByTagName("bds-carousel-item"),this.loading=!0,setTimeout((()=>(this.setInternalItens(Array.from(this.itemsElement)),this.loading=!1,this.setActivated(1))),1e3)}async nextSlide(){this.itemActivated=this.itemActivated==this.internalItens.length?this.infiniteLoop||this.autoplay?1:this.itemActivated:this.itemActivated+1,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds()}async prevSlide(){this.itemActivated=1==this.itemActivated?this.infiniteLoop||this.autoplay?this.internalItens.length:this.itemActivated:this.itemActivated-1,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds()}async setActivated(i){this.itemActivated=i,clearInterval(this.incrementSeconds),this.seconds=0,this.startCountSeconds()}async pauseAutoplay(){clearInterval(this.incrementSeconds)}async runAutoplay(){this.startCountSeconds()}render(){return t("div",{class:{carousel:!0}},t("div",{class:{carousel_slide:!0,carousel_slide_fullwidth:"outside"!=this.arrows}},t("div",{ref:i=>this.refFrame(i),class:{carousel_slide_frame:!0,carousel_slide_frame_loading:this.loading},onMouseOver:()=>this.onMouseOver(),onMouseOut:()=>this.onMouseOut(),onMouseDown:i=>this.onMouseDown(i),onMouseEnter:()=>this.onMouseEnter(),onMouseUp:()=>this.onMouseUp(),onMouseMove:i=>this.onMouseMove(i),tabindex:"0"},t("div",{ref:i=>this.refFrameRepeater(i),class:{carousel_slide_frame_repeater:!0},tabindex:"0",role:"tabpanel"},t("slot",null))),t("bds-grid",{class:{carousel_slide_loading:!0,carousel_slide_loading_visible:this.loading}},t("bds-skeleton",{height:"100%",shape:"square",width:"100%"})),"none"!=this.arrows&&!this.loading&&t("div",{class:{carousel_buttons:!0,carousel_buttons_fullwidth:"inside"==this.arrows}},t("bds-button-icon",{variant:"tertiary",icon:"arrow-left",size:"short",onBdsClick:()=>this.prevSlide(),disabled:!this.infiniteLoop&&this.itemActivated<=1}),t("bds-button-icon",{variant:"tertiary",icon:"arrow-right",size:"short",onBdsClick:()=>this.nextSlide(),disabled:!this.infiniteLoop&&this.itemActivated>=this.internalItens.length}))),this.autoplay&&(this.loading?t("bds-skeleton",{class:{carousel_loading_bar:!0,carousel_loading_bar_fullwidth:"outside"!=this.arrows},height:"8px",width:"100%",shape:"square"}):t("bds-loading-bar",{class:{carousel_loading_bar:!0,carousel_loading_bar_fullwidth:"outside"!=this.arrows},percent:100*this.seconds/this.secondsLimit,size:"small"})),this.bullets&&t("div",{class:{carousel_bullets:!0}},this.loading?t("bds-grid",{gap:"2","justify-content":"center"},t("bds-skeleton",{height:"24px",width:"24px",shape:"circle"}),t("bds-skeleton",{height:"24px",width:"24px",shape:"circle"}),t("bds-skeleton",{height:"24px",width:"24px",shape:"circle"})):this.internalItens&&t("bds-radio-group",null,t("bds-grid",{gap:"2","justify-content":"center"},this.internalItens.map(((i,s)=>t("bds-radio",{key:s,checked:i.id==this.itemActivated,value:i.id.toString(),onBdsClickChange:()=>this.setActivated(i.id)})))))),t("slot",{name:"after"}))}get element(){return e(this)}static get watchers(){return{itemActivated:["itemActivatedChanged"],autoplayTimeout:["autoplayTimeoutChanged"],seconds:["secondsChanged"],isWhole:["isWholeChanged"]}}};l.style=":host{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative}.carousel{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;max-width:1920px;position:relative}.carousel_slide{width:100%;position:relative;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 56px}.carousel_slide_fullwidth{padding:0}.carousel_slide_frame{width:100%;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-transition:height ease-in-out 0.5s;-moz-transition:height ease-in-out 0.5s;transition:height ease-in-out 0.5s}.carousel_slide_frame_loading{opacity:0;pointer-events:none}.carousel_slide_frame *{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none}.carousel_slide_frame *[slot=loop]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_frame_repeater{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;-webkit-transition:right ease-in-out 0.75s;-moz-transition:right ease-in-out 0.75s;transition:right ease-in-out 0.75s}.carousel_slide_loading{opacity:0;pointer-events:none;position:absolute;inset:0}.carousel_slide_loading_visible{opacity:1;pointer-events:all}.carousel_loading_bar{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 60px;margin-top:8px}.carousel_loading_bar_fullwidth{padding:0 4px}.carousel_buttons{position:absolute;width:100%;height:0px;top:calc(50% - 20px);left:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box}.carousel_buttons_fullwidth{padding:0 16px}.carousel_bullets{margin-top:16px;margin-bottom:16px}";export{l as bds_carousel}